"use strict";var zt=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var $e=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var ce=(l,t)=>{for(var e in t)zt(l,e,{get:t[e],enumerable:!0})},de=(l,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $e(t))!pe.call(l,s)&&s!==e&&zt(l,s,{get:()=>t[s],enumerable:!(r=ue(t,s))||r.enumerable});return l};var ge=l=>de(zt({},"__esModule",{value:!0}),l);var Ne={};ce(Ne,{highlight_dark:()=>Ce,highlight_light:()=>Qe,leanVerboseLanguage:()=>fe,verbose:()=>Ze});module.exports=ge(Ne);var rt=require("@codemirror/language");var me=0,at=class{constructor(t,e){this.from=t,this.to=e}},S=class{constructor(t={}){this.id=me++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=B.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}};S.closedBy=new S({deserialize:l=>l.split(" ")});S.openedBy=new S({deserialize:l=>l.split(" ")});S.group=new S({deserialize:l=>l.split(" ")});S.isolate=new S({deserialize:l=>{if(l&&l!="rtl"&&l!="ltr"&&l!="auto")throw new RangeError("Invalid value for isolate: "+l);return l||"auto"}});S.contextHash=new S({perNode:!0});S.lookAhead=new S({perNode:!0});S.mounted=new S({perNode:!0});var tt=class{constructor(t,e,r,s=!1){this.tree=t,this.overlay=e,this.parser=r,this.bracketed=s}static get(t){return t&&t.props&&t.props[S.mounted.id]}},Oe=Object.create(null),B=class l{constructor(t,e,r,s=0){this.name=t,this.props=e,this.id=r,this.flags=s}static define(t){let e=t.props&&t.props.length?Object.create(null):Oe,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),s=new l(t.name||"",e,t.id,r);if(t.props){for(let n of t.props)if(Array.isArray(n)||(n=n(s)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}}return s}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(S.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let s of r.split(" "))e[s]=t[r];return r=>{for(let s=r.prop(S.group),n=-1;n<(s?s.length:0);n++){let i=e[n<0?r.name:s[n]];if(i)return i}}}};B.none=new B("",Object.create(null),0,8);var Ot=class l{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let r of this.types){let s=null;for(let n of t){let i=n(r);if(i){s||(s=Object.assign({},r.props));let o=i[1],h=i[0];h.combine&&h.id in s&&(o=h.combine(s[h.id],o)),s[h.id]=o}}e.push(s?new B(r.name,s,r.id,r.flags):r)}return new l(e)}},gt=new WeakMap,Gt=new WeakMap,X;(function(l){l[l.ExcludeBuffers=1]="ExcludeBuffers",l[l.IncludeAnonymous=2]="IncludeAnonymous",l[l.IgnoreMounts=4]="IgnoreMounts",l[l.IgnoreOverlays=8]="IgnoreOverlays",l[l.EnterBracketed=16]="EnterBracketed"})(X||(X={}));var Z=class l{constructor(t,e,r,s,n){if(this.type=t,this.children=e,this.positions=r,this.length=s,this.props=null,n&&n.length){this.props=Object.create(null);for(let[i,o]of n)this.props[typeof i=="number"?i:i.id]=o}}toString(){let t=tt.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let r of this.children){let s=r.toString();s&&(e&&(e+=","),e+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new ut(this.topNode,t)}cursorAt(t,e=0,r=0){let s=gt.get(this)||this.topNode,n=new ut(s);return n.moveTo(t,e),gt.set(this,n._tree),n}get topNode(){return new _(this,0,0,null)}resolve(t,e=0){let r=wt(gt.get(this)||this.topNode,t,e,!1);return gt.set(this,r),r}resolveInner(t,e=0){let r=wt(Gt.get(this)||this.topNode,t,e,!0);return Gt.set(this,r),r}resolveStack(t,e=0){return xe(this,t,e)}iterate(t){let{enter:e,leave:r,from:s=0,to:n=this.length}=t,i=t.mode||0,o=(i&X.IncludeAnonymous)>0;for(let h=this.cursor(i|X.IncludeAnonymous);;){let a=!1;if(h.from<=n&&h.to>=s&&(!o&&h.type.isAnonymous||e(h)!==!1)){if(h.firstChild())continue;a=!0}for(;a&&r&&(o||!h.type.isAnonymous)&&r(h),!h.nextSibling();){if(!h.parent())return;a=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Tt(B.none,this.children,this.positions,0,this.children.length,0,this.length,(e,r,s)=>new l(this.type,e,r,s,this.propValues),t.makeTree||((e,r,s)=>new l(B.none,e,r,s)))}static build(t){return Se(t)}};Z.empty=new Z(B.none,[],[],0);var Xt=class l{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new l(this.buffer,this.index)}},W=class l{constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}get type(){return B.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],s=this.set.types[e],n=s.name;if(/\W/.test(n)&&!s.isError&&(n=JSON.stringify(n)),t+=4,r==t)return n;let i=[];for(;t<r;)i.push(this.childString(t)),t=this.buffer[t+3];return n+"("+i.join(",")+")"}findChild(t,e,r,s,n){let{buffer:i}=this,o=-1;for(let h=t;h!=e&&!(Kt(n,s,i[h+1],i[h+2])&&(o=h,r>0));h=i[h+3]);return o}slice(t,e,r){let s=this.buffer,n=new Uint16Array(e-t),i=0;for(let o=t,h=0;o<e;){n[h++]=s[o++],n[h++]=s[o++]-r;let a=n[h++]=s[o++]-r;n[h++]=s[o++]-t,i=Math.max(i,a)}return new l(n,i,this.set)}};function Kt(l,t,e,r){switch(l){case-2:return e<t;case-1:return r>=t&&e<t;case 0:return e<t&&r>t;case 1:return e<=t&&r>t;case 2:return r>t;case 4:return!0}}function wt(l,t,e,r){for(var s;l.from==l.to||(e<1?l.from>=t:l.from>t)||(e>-1?l.to<=t:l.to<t);){let i=!r&&l instanceof _&&l.index<0?null:l.parent;if(!i)return l;l=i}let n=r?0:X.IgnoreOverlays;if(r)for(let i=l,o=i.parent;o;i=o,o=i.parent)i instanceof _&&i.index<0&&((s=o.enter(t,e,n))===null||s===void 0?void 0:s.from)!=i.from&&(l=o);for(;;){let i=l.enter(t,e,n);if(!i)return l;l=i}}var xt=class{cursor(t=0){return new ut(this,t)}getChild(t,e=null,r=null){let s=Ht(this,t,e,r);return s.length?s[0]:null}getChildren(t,e=null,r=null){return Ht(this,t,e,r)}resolve(t,e=0){return wt(this,t,e,!1)}resolveInner(t,e=0){return wt(this,t,e,!0)}matchContext(t){return At(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let s=e.lastChild;if(!s||s.to!=e.to)break;s.type.isError&&s.from==s.to?(r=e,e=s.prevSibling):e=s}return r}get node(){return this}get next(){return this.parent}},_=class l extends xt{constructor(t,e,r,s){super(),this._tree=t,this.from=e,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,s,n=0){var i;for(let o=this;;){for(let{children:h,positions:a}=o._tree,d=e>0?h.length:-1;t!=d;t+=e){let w=h[t],c=a[t]+o.from;if(!(!(n&X.EnterBracketed&&w instanceof Z&&((i=tt.get(w))===null||i===void 0?void 0:i.overlay)===null&&(c>=r||c+w.length<=r))&&!Kt(s,r,c,c+w.length))){if(w instanceof W){if(n&X.ExcludeBuffers)continue;let g=w.findChild(0,w.buffer.length,e,r-c,s);if(g>-1)return new ft(new Ct(o,w,t,c),null,g)}else if(n&X.IncludeAnonymous||!w.type.isAnonymous||Nt(w)){let g;if(!(n&X.IgnoreMounts)&&(g=tt.get(w))&&!g.overlay)return new l(g.tree,c,t,o);let O=new l(w,c,t,o);return n&X.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(e<0?w.children.length-1:0,e,r,s,n)}}}if(n&X.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?t=o.index+e:t=e<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,r=0){let s;if(!(r&X.IgnoreOverlays)&&(s=tt.get(this._tree))&&s.overlay){let n=t-this.from,i=r&X.EnterBracketed&&s.bracketed;for(let{from:o,to:h}of s.overlay)if((e>0||i?o<=n:o<n)&&(e<0||i?h>=n:h>n))return new l(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Ht(l,t,e,r){let s=l.cursor(),n=[];if(!s.firstChild())return n;if(e!=null){for(let i=!1;!i;)if(i=s.type.is(e),!s.nextSibling())return n}for(;;){if(r!=null&&s.type.is(r))return n;if(s.type.is(t)&&n.push(s.node),!s.nextSibling())return r==null?n:[]}}function At(l,t,e=t.length-1){for(let r=l;e>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[e]&&t[e]!=r.name)return!1;e--}}return!0}var Ct=class{constructor(t,e,r,s){this.parent=t,this.buffer=e,this.index=r,this.start=s}},ft=class l extends xt{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,e,r){let{buffer:s}=this.context,n=s.findChild(this.index+4,s.buffer[this.index+3],t,e-this.context.start,r);return n<0?null:new l(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,r=0){if(r&X.ExcludeBuffers)return null;let{buffer:s}=this.context,n=s.findChild(this.index+4,s.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return n<0?null:new l(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new l(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new l(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,s=this.index+4,n=r.buffer[this.index+3];if(n>s){let i=r.buffer[this.index+1];t.push(r.slice(s,n,i)),e.push(0)}return new Z(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function te(l){if(!l.length)return null;let t=0,e=l[0];for(let n=1;n<l.length;n++){let i=l[n];(i.from>e.from||i.to<e.to)&&(e=i,t=n)}let r=e instanceof _&&e.index<0?null:e.parent,s=l.slice();return r?s[t]=r:s.splice(t,1),new Qt(s,e)}var Qt=class{constructor(t,e){this.heads=t,this.node=e}get next(){return te(this.heads)}};function xe(l,t,e){let r=l.resolveInner(t,e),s=null;for(let n=r instanceof _?r:r.context.parent;n;n=n.parent)if(n.index<0){let i=n.parent;(s||(s=[r])).push(i.resolve(t,e)),n=i}else{let i=tt.get(n.tree);if(i&&i.overlay&&i.overlay[0].from<=t&&i.overlay[i.overlay.length-1].to>=t){let o=new _(i.tree,i.overlay[0].from+n.from,-1,n);(s||(s=[r])).push(wt(o,t,e,!1))}}return s?te(s):r}var ut=class{get name(){return this.type.name}constructor(t,e=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=e&~X.EnterBracketed,t instanceof _)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:r,buffer:s}=this.buffer;return this.type=e||s.set.types[s.buffer[t]],this.from=r+s.buffer[t+1],this.to=r+s.buffer[t+2],!0}yield(t){return t?t instanceof _?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:s}=this.buffer,n=s.findChild(this.index+4,s.buffer[this.index+3],t,e-this.buffer.start,r);return n<0?!1:(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?r&X.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&X.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&X.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(e.findChild(s,this.index,-1,0,4))}else{let s=e.buffer[this.index+3];if(s<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:s}=this;if(s){if(t>0){if(this.index<s.buffer.buffer.length)return!1}else for(let n=0;n<this.index;n++)if(s.buffer.buffer[n+3]<this.index)return!1;({index:e,parent:r}=s)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let o=r._tree.children[n];if(this.mode&X.IncludeAnonymous||o instanceof W||!o.type.isAnonymous||Nt(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)t:for(let s=this.index,n=this.stack.length;n>=0;){for(let i=t;i;i=i._parent)if(i.index==s){if(s==this.index)return i;e=i,r=n+1;break t}s=this.stack[--n]}for(let s=r;s<this.stack.length;s++)e=new ft(this.buffer,e,this.stack[s]);return this.bufferNode=new ft(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let s=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&e&&e(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(t){if(!this.buffer)return At(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let s=t.length-1,n=this.stack.length-1;s>=0;n--){if(n<0)return At(this._tree,t,s);let i=r[e.buffer[this.stack[n]]];if(!i.isAnonymous){if(t[s]&&t[s]!=i.name)return!1;s--}}return!0}};function Nt(l){return l.children.some(t=>t instanceof W||!t.type.isAnonymous||Nt(t))}function Se(l){var t;let{buffer:e,nodeSet:r,maxBufferLength:s=1024,reused:n=[],minRepeatType:i=r.types.length}=l,o=Array.isArray(e)?new Xt(e,e.length):e,h=r.types,a=0,d=0;function w(b,y,u,v,k,z){let{id:x,start:p,end:P,size:q}=o,C=d,F=a;if(q<0)if(o.next(),q==-1){let D=n[x];u.push(D),v.push(p-b);return}else if(q==-3){a=x;return}else if(q==-4){d=x;return}else throw new RangeError(`Unrecognized record size: ${q}`);let ht=h[x],ct,J,Ut=p-b;if(P-p<=s&&(J=ot(o.pos-y,k))){let D=new Uint16Array(J.size-J.skip),R=o.pos-J.size,I=D.length;for(;o.pos>R;)I=lt(J.start,D,I);ct=new W(D,P-J.start,r),Ut=J.start-b}else{let D=o.pos-q;o.next();let R=[],I=[],K=x>=i?x:-1,st=0,dt=P;for(;o.pos>D;)K>=0&&o.id==K&&o.size>=0?(o.end<=dt-s&&(O(R,I,p,st,o.end,dt,K,C,F),st=R.length,dt=o.end),o.next()):z>2500?c(p,D,R,I):w(p,D,R,I,K,z+1);if(K>=0&&st>0&&st<R.length&&O(R,I,p,st,p,dt,K,C,F),R.reverse(),I.reverse(),K>-1&&st>0){let Vt=g(ht,F);ct=Tt(ht,R,I,0,R.length,0,P-p,Vt,Vt)}else ct=N(ht,R,I,P-p,C-P,F)}u.push(ct),v.push(Ut)}function c(b,y,u,v){let k=[],z=0,x=-1;for(;o.pos>y;){let{id:p,start:P,end:q,size:C}=o;if(C>4)o.next();else{if(x>-1&&P<x)break;x<0&&(x=q-s),k.push(p,P,q),z++,o.next()}}if(z){let p=new Uint16Array(z*4),P=k[k.length-2];for(let q=k.length-3,C=0;q>=0;q-=3)p[C++]=k[q],p[C++]=k[q+1]-P,p[C++]=k[q+2]-P,p[C++]=C;u.push(new W(p,k[2]-P,r)),v.push(P-b)}}function g(b,y){return(u,v,k)=>{let z=0,x=u.length-1,p,P;if(x>=0&&(p=u[x])instanceof Z){if(!x&&p.type==b&&p.length==k)return p;(P=p.prop(S.lookAhead))&&(z=v[x]+p.length+P)}return N(b,u,v,k,z,y)}}function O(b,y,u,v,k,z,x,p,P){let q=[],C=[];for(;b.length>v;)q.push(b.pop()),C.push(y.pop()+u-k);b.push(N(r.types[x],q,C,z-k,p-z,P)),y.push(k-u)}function N(b,y,u,v,k,z,x){if(z){let p=[S.contextHash,z];x=x?[p].concat(x):[p]}if(k>25){let p=[S.lookAhead,k];x=x?[p].concat(x):[p]}return new Z(b,y,u,v,x)}function ot(b,y){let u=o.fork(),v=0,k=0,z=0,x=u.end-s,p={size:0,start:0,skip:0};t:for(let P=u.pos-b;u.pos>P;){let q=u.size;if(u.id==y&&q>=0){p.size=v,p.start=k,p.skip=z,z+=4,v+=4,u.next();continue}let C=u.pos-q;if(q<0||C<P||u.start<x)break;let F=u.id>=i?4:0,ht=u.start;for(u.next();u.pos>C;){if(u.size<0)if(u.size==-3||u.size==-4)F+=4;else break t;else u.id>=i&&(F+=4);u.next()}k=ht,v+=q,z+=F}return(y<0||v==b)&&(p.size=v,p.start=k,p.skip=z),p.size>4?p:void 0}function lt(b,y,u){let{id:v,start:k,end:z,size:x}=o;if(o.next(),x>=0&&v<i){let p=u;if(x>4){let P=o.pos-(x-4);for(;o.pos>P;)u=lt(b,y,u)}y[--u]=p,y[--u]=z-b,y[--u]=k-b,y[--u]=v}else x==-3?a=v:x==-4&&(d=v);return u}let G=[],Q=[];for(;o.pos>0;)w(l.start||0,l.bufferStart||0,G,Q,-1,0);let H=(t=l.length)!==null&&t!==void 0?t:G.length?Q[0]+G[0].length:0;return new Z(h[l.topID],G.reverse(),Q.reverse(),H)}var Jt=new WeakMap;function mt(l,t){if(!l.isAnonymous||t instanceof W||t.type!=l)return 1;let e=Jt.get(t);if(e==null){e=1;for(let r of t.children){if(r.type!=l||!(r instanceof Z)){e=1;break}e+=mt(l,r)}Jt.set(t,e)}return e}function Tt(l,t,e,r,s,n,i,o,h){let a=0;for(let O=r;O<s;O++)a+=mt(l,t[O]);let d=Math.ceil(a*1.5/8),w=[],c=[];function g(O,N,ot,lt,G){for(let Q=ot;Q<lt;){let H=Q,b=N[Q],y=mt(l,O[Q]);for(Q++;Q<lt;Q++){let u=mt(l,O[Q]);if(y+u>=d)break;y+=u}if(Q==H+1){if(y>d){let u=O[H];g(u.children,u.positions,0,u.children.length,N[H]+G);continue}w.push(O[H])}else{let u=N[Q-1]+O[Q-1].length-b;w.push(Tt(l,O,N,H,Q,b,u,null,h))}c.push(b+G-n)}}return g(t,e,r,s,0),(o||h)(w,c,i)}var St=class{startParse(t,e,r){return typeof t=="string"&&(t=new Zt(t)),r=r?r.length?r.map(s=>new at(s.from,s.to)):[new at(0,0)]:[new at(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let s=this.startParse(t,e,r);for(;;){let n=s.advance();if(n)return n}}},Zt=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};var Re=new S({perNode:!0});var ke=0,A=class l{constructor(t,e,r,s){this.name=t,this.set=e,this.base=r,this.modified=s,this.id=ke++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let r=typeof t=="string"?t:"?";if(t instanceof l&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let s=new l(r,[],null,[]);if(s.set.push(s),e)for(let n of e.set)s.set.push(n);return s}static defineModifier(t){let e=new yt(t);return r=>r.modified.indexOf(e)>-1?r:yt.get(r.base||r,r.modified.concat(e).sort((s,n)=>s.id-n.id))}},be=0,yt=class l{constructor(t){this.name=t,this.instances=[],this.id=be++}static get(t,e){if(!e.length)return t;let r=e[0].instances.find(o=>o.base==t&&Pe(e,o.modified));if(r)return r;let s=[],n=new A(t.name,s,t,e);for(let o of e)o.instances.push(n);let i=ye(e);for(let o of t.set)if(!o.modified.length)for(let h of i)s.push(l.get(o,h));return n}};function Pe(l,t){return l.length==t.length&&l.every((e,r)=>e==t[r])}function ye(l){let t=[[]];for(let e=0;e<l.length;e++)for(let r=0,s=t.length;r<s;r++)t.push(t[r].concat(l[e]));return t.sort((e,r)=>r.length-e.length)}function se(l){let t=Object.create(null);for(let e in l){let r=l[e];Array.isArray(r)||(r=[r]);for(let s of e.split(" "))if(s){let n=[],i=2,o=s;for(let w=0;;){if(o=="..."&&w>0&&w+3==s.length){i=1;break}let c=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!c)throw new RangeError("Invalid path: "+s);if(n.push(c[0]=="*"?"":c[0][0]=='"'?JSON.parse(c[0]):c[0]),w+=c[0].length,w==s.length)break;let g=s[w++];if(w==s.length&&g=="!"){i=0;break}if(g!="/")throw new RangeError("Invalid path: "+s);o=s.slice(w)}let h=n.length-1,a=n[h];if(!a)throw new RangeError("Invalid path: "+s);let d=new it(r,i,h>0?n.slice(0,h):null);t[a]=d.sort(t[a])}}return qe.add(t)}var qe=new S({combine(l,t){let e,r,s;for(;l||t;){if(!l||t&&l.depth>=t.depth?(s=t,t=t.next):(s=l,l=l.next),e&&e.mode==s.mode&&!s.context&&!e.context)continue;let n=new it(s.tags,s.mode,s.context);e?e.next=n:r=n,e=n}return r}}),it=class{constructor(t,e,r,s){this.tags=t,this.mode=e,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};it.empty=new it([],2,null);function ve(l,t){let e=Object.create(null);for(let n of l)if(!Array.isArray(n.tag))e[n.tag.id]=n.class;else for(let i of n.tag)e[i.id]=n.class;let{scope:r,all:s=null}=t||{};return{style:n=>{let i=s;for(let o of n)for(let h of o.set){let a=e[h.id];if(a){i=i?i+" "+a:a;break}}return i},scope:r}}var f=A.define,kt=f(),L=f(),ee=f(L),re=f(L),U=f(),bt=f(U),Rt=f(U),E=f(),et=f(E),Y=f(),j=f(),Bt=f(),$t=f(Bt),Pt=f(),m={comment:kt,lineComment:f(kt),blockComment:f(kt),docComment:f(kt),name:L,variableName:f(L),typeName:ee,tagName:f(ee),propertyName:re,attributeName:f(re),className:f(L),labelName:f(L),namespace:f(L),macroName:f(L),literal:U,string:bt,docString:f(bt),character:f(bt),attributeValue:f(bt),number:Rt,integer:f(Rt),float:f(Rt),bool:f(U),regexp:f(U),escape:f(U),color:f(U),url:f(U),keyword:Y,self:f(Y),null:f(Y),atom:f(Y),unit:f(Y),modifier:f(Y),operatorKeyword:f(Y),controlKeyword:f(Y),definitionKeyword:f(Y),moduleKeyword:f(Y),operator:j,derefOperator:f(j),arithmeticOperator:f(j),logicOperator:f(j),bitwiseOperator:f(j),compareOperator:f(j),updateOperator:f(j),definitionOperator:f(j),typeOperator:f(j),controlOperator:f(j),punctuation:Bt,separator:f(Bt),bracket:$t,angleBracket:f($t),squareBracket:f($t),paren:f($t),brace:f($t),content:E,heading:et,heading1:f(et),heading2:f(et),heading3:f(et),heading4:f(et),heading5:f(et),heading6:f(et),contentSeparator:f(E),list:f(E),quote:f(E),emphasis:f(E),strong:f(E),link:f(E),monospace:f(E),strikethrough:f(E),inserted:f(),deleted:f(),changed:f(),invalid:f(),meta:Pt,documentMeta:f(Pt),annotation:f(Pt),processingInstruction:f(Pt),definition:A.defineModifier("definition"),constant:A.defineModifier("constant"),function:A.defineModifier("function"),standard:A.defineModifier("standard"),local:A.defineModifier("local"),special:A.defineModifier("special")};for(let l in m){let t=m[l];t instanceof A&&(t.name=l)}var _e=ve([{tag:m.link,class:"tok-link"},{tag:m.heading,class:"tok-heading"},{tag:m.emphasis,class:"tok-emphasis"},{tag:m.strong,class:"tok-strong"},{tag:m.keyword,class:"tok-keyword"},{tag:m.atom,class:"tok-atom"},{tag:m.bool,class:"tok-bool"},{tag:m.url,class:"tok-url"},{tag:m.labelName,class:"tok-labelName"},{tag:m.inserted,class:"tok-inserted"},{tag:m.deleted,class:"tok-deleted"},{tag:m.literal,class:"tok-literal"},{tag:m.string,class:"tok-string"},{tag:m.number,class:"tok-number"},{tag:[m.regexp,m.escape,m.special(m.string)],class:"tok-string2"},{tag:m.variableName,class:"tok-variableName"},{tag:m.local(m.variableName),class:"tok-variableName tok-local"},{tag:m.definition(m.variableName),class:"tok-variableName tok-definition"},{tag:m.special(m.variableName),class:"tok-variableName2"},{tag:m.definition(m.propertyName),class:"tok-propertyName tok-definition"},{tag:m.typeName,class:"tok-typeName"},{tag:m.namespace,class:"tok-namespace"},{tag:m.className,class:"tok-className"},{tag:m.macroName,class:"tok-macroName"},{tag:m.propertyName,class:"tok-propertyName"},{tag:m.operator,class:"tok-operator"},{tag:m.comment,class:"tok-comment"},{tag:m.meta,class:"tok-meta"},{tag:m.invalid,class:"tok-invalid"},{tag:m.punctuation,class:"tok-punctuation"}]);var _t=class l{constructor(t,e,r,s,n,i,o,h,a,d=0,w){this.p=t,this.stack=e,this.state=r,this.reducePos=s,this.pos=n,this.score=i,this.buffer=o,this.bufferBase=h,this.curContext=a,this.lookAhead=d,this.parent=w}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,r=0){let s=t.parser.context;return new l(t,[],e,r,r,0,[],0,s?new qt(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let r=t>>19,s=t&65535,{parser:n}=this.p,i=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=n.dynamicPrecedence(s);if(o&&(this.score+=o),r==0){this.pushState(n.getGoto(this.state,s,!0),this.reducePos),s<n.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,i?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(r-1)*3-(t&262144?6:0),a=h?this.stack[h-2]:this.p.ranges[0].from,d=this.reducePos-a;d>=2e3&&!(!((e=this.p.parser.nodeSet.types[s])===null||e===void 0)&&e.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=d));let w=h?this.stack[h-1]:0,c=this.bufferBase+this.buffer.length-w;if(s<n.minRepeatTerm||t&131072){let g=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,a,g,c+4,!0)}if(t&262144)this.state=this.stack[h];else{let g=this.stack[h-3];this.state=n.getGoto(g,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,a)}storeNode(t,e,r,s=4,n=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let i=this,o=this.buffer.length;if(o==0&&i.parent&&(o=i.bufferBase-i.parent.bufferBase,i=i.parent),o>0&&i.buffer[o-4]==0&&i.buffer[o-1]>-1){if(e==r)return;if(i.buffer[o-2]>=e){i.buffer[o-2]=r;return}}}if(!n||this.pos==r)this.buffer.push(t,e,r,s);else{let i=this.buffer.length;if(i>0&&(this.buffer[i-4]!=0||this.buffer[i-1]<0)){let o=!1;for(let h=i;h>0&&this.buffer[h-2]>r;h-=4)if(this.buffer[h-1]>=0){o=!0;break}if(o)for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,s>4&&(s-=4)}this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=r,this.buffer[i+3]=s}}shift(t,e,r,s){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let n=t,{parser:i}=this.p;this.pos=s;let o=i.stateFlag(n,1);!o&&(s>r||e<=i.maxNode)&&(this.reducePos=s),this.pushState(n,o?r:Math.min(r,this.reducePos)),this.shiftContext(e,r),e<=i.maxNode&&this.buffer.push(e,r,s,4)}else this.pos=s,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,s,4)}apply(t,e,r,s){t&65536?this.reduce(t):this.shift(t,e,r,s)}useNode(t,e){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let s=this.pos;this.reducePos=this.pos=s+t.length,this.pushState(e,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let r=t.buffer.slice(e),s=t.bufferBase+e;for(;t&&s==t.bufferBase;)t=t.parent;return new l(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,r?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Yt(this);;){let r=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(r==0)return!1;if((r&65536)==0)return!0;e.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let s=[];for(let n=0,i;n<e.length;n+=2)(i=e[n+1])!=this.state&&this.p.parser.hasAction(i,t)&&s.push(e[n],i);if(this.stack.length<120)for(let n=0;s.length<8&&n<e.length;n+=2){let i=e[n+1];s.some((o,h)=>h&1&&o==i)||s.push(e[n],i)}e=s}let r=[];for(let s=0;s<e.length&&r.length<4;s+=2){let n=e[s+1];if(n==this.state)continue;let i=this.split();i.pushState(n,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[s],this.pos),i.reducePos=this.pos,i.score-=200,r.push(i)}return r}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let r=e>>19,s=e&65535,n=this.stack.length-r*3;if(n<0||t.getGoto(this.stack[n],s,!1)<0){let i=this.findForcedReduction();if(i==null)return!1;e=i}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],r=(s,n)=>{if(!e.includes(s))return e.push(s),t.allActions(s,i=>{if(!(i&393216))if(i&65536){let o=(i>>19)-n;if(o>1){let h=i&65535,a=this.stack.length-o*3;if(a>=0&&t.getGoto(this.stack[a],h,!1)>=0)return o<<19|65536|h}}else{let o=r(i,n+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new qt(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},qt=class{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}},Yt=class{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=s}},jt=class l{constructor(t,e,r){this.stack=t,this.pos=e,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new l(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new l(this.stack,this.pos,this.index)}};function pt(l,t=Uint16Array){if(typeof l!="string")return l;let e=null;for(let r=0,s=0;r<l.length;){let n=0;for(;;){let i=l.charCodeAt(r++),o=!1;if(i==126){n=65535;break}i>=92&&i--,i>=34&&i--;let h=i-32;if(h>=46&&(h-=46,o=!0),n+=h,o)break;n*=46}e?e[s++]=n:e=new t(n)}return e}var nt=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},ie=new nt,Et=class{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ie,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let r=this.range,s=this.rangeIndex,n=this.pos+t;for(;n<r.from;){if(!s)return null;let i=this.ranges[--s];n-=r.from-i.to,r=i}for(;e<0?n>r.to:n>=r.to;){if(s==this.ranges.length-1)return null;let i=this.ranges[++s];n+=i.from-r.to,r=i}return n}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,r,s;if(e>=0&&e<this.chunk.length)r=this.pos+t,s=this.chunk.charCodeAt(e);else{let n=this.resolveOffset(t,1);if(n==null)return-1;if(r=n,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let i=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++i];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(t,e=0){let r=e?this.resolveOffset(e,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=ie,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let r="";for(let s of this.ranges){if(s.from>=e)break;s.to>t&&(r+=this.input.read(Math.max(s.from,t),Math.min(s.to,e)))}return r}},V=class{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:r}=e.p;ae(this.data,t,e,this.id,r.data,r.tokenPrecTable)}};V.prototype.contextual=V.prototype.fallback=V.prototype.extend=!1;var Dt=class{constructor(t,e,r){this.precTable=e,this.elseToken=r,this.data=typeof t=="string"?pt(t):t}token(t,e){let r=t.pos,s=0;for(;;){let n=t.next<0,i=t.resolveOffset(1,1);if(ae(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(n||s++,i==null)break;t.reset(i,t.token)}s&&(t.reset(r,t.token),t.acceptToken(this.elseToken,s))}};Dt.prototype.contextual=V.prototype.fallback=V.prototype.extend=!1;function ae(l,t,e,r,s,n){let i=0,o=1<<r,{dialect:h}=e.p.parser;t:for(;(o&l[i])!=0;){let a=l[i+1];for(let g=i+3;g<a;g+=2)if((l[g+1]&o)>0){let O=l[g];if(h.allows(O)&&(t.token.value==-1||t.token.value==O||Xe(O,t.token.value,s,n))){t.acceptToken(O);break}}let d=t.next,w=0,c=l[i+2];if(t.next<0&&c>w&&l[a+c*3-3]==65535){i=l[a+c*3-1];continue t}for(;w<c;){let g=w+c>>1,O=a+g+(g<<1),N=l[O],ot=l[O+1]||65536;if(d<N)c=g;else if(d>=ot)w=g+1;else{i=l[O+2],t.advance();continue t}}break}}function ne(l,t,e){for(let r=t,s;(s=l[r])!=65535;r++)if(s==e)return r-t;return-1}function Xe(l,t,e,r){let s=ne(e,r,t);return s<0||ne(e,r,l)<s}var T=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),It=null;function oe(l,t,e){let r=l.cursor(X.IncludeAnonymous);for(r.moveTo(t);;)if(!(e<0?r.childBefore(t):r.childAfter(t)))for(;;){if((e<0?r.to<t:r.from>t)&&!r.type.isError)return e<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(l.length,Math.max(r.from+1,t+25));if(e<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return e<0?0:l.length}}var Mt=class{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?oe(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?oe(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let r=this.trees[e],s=this.index[e];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let n=r.children[s],i=this.start[e]+r.positions[s];if(i>t)return this.nextStart=i,null;if(n instanceof Z){if(i==t){if(i<this.safeFrom)return null;let o=i+n.length;if(o<=this.safeTo){let h=n.prop(S.lookAhead);if(!h||o+h<this.fragment.to)return n}}this.index[e]++,i+n.length>=Math.max(this.safeFrom,t)&&(this.trees.push(n),this.start.push(i),this.index.push(0))}else this.index[e]++,this.nextStart=i+n.length}}},Ft=class{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new nt)}getActions(t){let e=0,r=null,{parser:s}=t.p,{tokenizers:n}=s,i=s.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,h=0;for(let a=0;a<n.length;a++){if((1<<a&i)==0)continue;let d=n[a],w=this.tokens[a];if(!(r&&!d.fallback)&&((d.contextual||w.start!=t.pos||w.mask!=i||w.context!=o)&&(this.updateCachedToken(w,d,t),w.mask=i,w.context=o),w.lookAhead>w.end+25&&(h=Math.max(w.lookAhead,h)),w.value!=0)){let c=e;if(w.extended>-1&&(e=this.addActions(t,w.extended,w.end,e)),e=this.addActions(t,w.value,w.end,e),!d.extend&&(r=w,e>c))break}}for(;this.actions.length>e;)this.actions.pop();return h&&t.setLookAhead(h),!r&&t.pos==this.stream.end&&(r=new nt,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,e=this.addActions(t,r.value,r.end,e)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new nt,{pos:r,p:s}=t;return e.start=r,e.end=Math.min(r+1,s.stream.end),e.value=r==s.stream.end?s.parser.eofTerm:0,e}updateCachedToken(t,e,r){let s=this.stream.clipPos(r.pos);if(e.token(this.stream.reset(s,t),r),t.value>-1){let{parser:n}=r.p;for(let i=0;i<n.specialized.length;i++)if(n.specialized[i]==t.value){let o=n.specializers[i](this.stream.read(t.start,t.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(s+1)}putAction(t,e,r,s){for(let n=0;n<s;n+=3)if(this.actions[n]==t)return s;return this.actions[s++]=t,this.actions[s++]=e,this.actions[s++]=r,s}addActions(t,e,r,s){let{state:n}=t,{parser:i}=t.p,{data:o}=i;for(let h=0;h<2;h++)for(let a=i.stateSlot(n,h?2:1);;a+=3){if(o[a]==65535)if(o[a+1]==1)a=M(o,a+2);else{s==0&&o[a+1]==2&&(s=this.putAction(M(o,a+2),e,r,s));break}o[a]==e&&(s=this.putAction(M(o,a+1),e,r,s))}return s}},Wt=class{constructor(t,e,r,s){this.parser=t,this.input=e,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Et(e,s),this.tokens=new Ft(t,this.stream),this.topTerm=t.top[1];let{from:n}=s[0];this.stacks=[_t.start(this,t.top[0],n)],this.fragments=r.length&&this.stream.end-n>t.bufferLength*4?new Mt(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,r=this.stacks=[],s,n;if(this.bigReductionCount>300&&t.length==1){let[i]=t;for(;i.forceReduce()&&i.stack.length&&i.stack[i.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let i=0;i<t.length;i++){let o=t[i];for(;;){if(this.tokens.mainToken=null,o.pos>e)r.push(o);else{if(this.advanceStack(o,r,t))continue;{s||(s=[],n=[]),s.push(o);let h=this.tokens.getMainToken(o);n.push(h.value,h.end)}}break}}if(!r.length){let i=s&&Ae(s);if(i)return T&&console.log("Finish with "+this.stackID(i)),this.stackToTree(i);if(this.parser.strict)throw T&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&s){let i=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,n,r);if(i)return T&&console.log("Force-finish "+this.stackID(i)),this.stackToTree(i.forceAll())}if(this.recovering){let i=this.recovering==1?1:this.recovering*3;if(r.length>i)for(r.sort((o,h)=>h.score-o.score);r.length>i;)r.pop();r.some(o=>o.reducePos>e)&&this.recovering--}else if(r.length>1){t:for(let i=0;i<r.length-1;i++){let o=r[i];for(let h=i+1;h<r.length;h++){let a=r[h];if(o.sameState(a)||o.buffer.length>500&&a.buffer.length>500)if((o.score-a.score||o.buffer.length-a.buffer.length)>0)r.splice(h--,1);else{r.splice(i--,1);continue t}}}r.length>12&&(r.sort((i,o)=>o.score-i.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let i=1;i<r.length;i++)r[i].pos<this.minStackPos&&(this.minStackPos=r[i].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,r){let s=t.pos,{parser:n}=this,i=T?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let a=t.curContext&&t.curContext.tracker.strict,d=a?t.curContext.hash:0;for(let w=this.fragments.nodeAt(s);w;){let c=this.parser.nodeSet.types[w.type.id]==w.type?n.getGoto(t.state,w.type.id):-1;if(c>-1&&w.length&&(!a||(w.prop(S.contextHash)||0)==d))return t.useNode(w,c),T&&console.log(i+this.stackID(t)+` (via reuse of ${n.getName(w.type.id)})`),!0;if(!(w instanceof Z)||w.children.length==0||w.positions[0]>0)break;let g=w.children[0];if(g instanceof Z&&w.positions[0]==0)w=g;else break}}let o=n.stateSlot(t.state,4);if(o>0)return t.reduce(o),T&&console.log(i+this.stackID(t)+` (via always-reduce ${n.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let h=this.tokens.getActions(t);for(let a=0;a<h.length;){let d=h[a++],w=h[a++],c=h[a++],g=a==h.length||!r,O=g?t:t.split(),N=this.tokens.mainToken;if(O.apply(d,w,N?N.start:O.pos,c),T&&console.log(i+this.stackID(O)+` (via ${(d&65536)==0?"shift":`reduce of ${n.getName(d&65535)}`} for ${n.getName(w)} @ ${s}${O==t?"":", split"})`),g)return!0;O.pos>s?e.push(O):r.push(O)}return!1}advanceFully(t,e){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return le(t,e),!0}}runRecovery(t,e,r){let s=null,n=!1;for(let i=0;i<t.length;i++){let o=t[i],h=e[i<<1],a=e[(i<<1)+1],d=T?this.stackID(o)+" -> ":"";if(o.deadEnd&&(n||(n=!0,o.restart(),T&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let w=o.split(),c=d;for(let g=0;g<10&&w.forceReduce()&&(T&&console.log(c+this.stackID(w)+" (via force-reduce)"),!this.advanceFully(w,r));g++)T&&(c=this.stackID(w)+" -> ");for(let g of o.recoverByInsert(h))T&&console.log(d+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,r);this.stream.end>o.pos?(a==o.pos&&(a++,h=0),o.recoverByDelete(h,a),T&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(h)})`),le(o,r)):(!s||s.score<w.score)&&(s=w)}return s}stackToTree(t){return t.close(),Z.build({buffer:jt.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(It||(It=new WeakMap)).get(t);return e||It.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}};function le(l,t){for(let e=0;e<t.length;e++){let r=t[e];if(r.pos==l.pos&&r.sameState(l)){t[e].score<l.score&&(t[e]=l);return}}t.push(l)}var Lt=class{constructor(t,e,r){this.source=t,this.flags=e,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}};var vt=class l extends St{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let r=Object.keys(t.topRules).map(o=>t.topRules[o][1]),s=[];for(let o=0;o<e.length;o++)s.push([]);function n(o,h,a){s[o].push([h,h.deserialize(String(a))])}if(t.nodeProps)for(let o of t.nodeProps){let h=o[0];typeof h=="string"&&(h=S[h]);for(let a=1;a<o.length;){let d=o[a++];if(d>=0)n(d,h,o[a++]);else{let w=o[a+-d];for(let c=-d;c>0;c--)n(o[a++],h,w);a++}}}this.nodeSet=new Ot(e.map((o,h)=>B.define({name:h>=this.minRepeatTerm?void 0:o,id:h,props:s[h],top:r.indexOf(h)>-1,error:h==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(h)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let i=pt(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(he),this.states=pt(t.states,Uint32Array),this.data=pt(t.stateData),this.goto=pt(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new V(i,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,r){let s=new Wt(this,t,e,r);for(let n of this.wrappers)s=n(s,t,e,r);return s}getGoto(t,e,r=!1){let s=this.goto;if(e>=s[0])return-1;for(let n=s[e+1];;){let i=s[n++],o=i&1,h=s[n++];if(o&&r)return h;for(let a=n+(i>>1);n<a;n++)if(s[n]==t)return h;if(o)return-1}}hasAction(t,e){let r=this.data;for(let s=0;s<2;s++)for(let n=this.stateSlot(t,s?2:1),i;;n+=3){if((i=r[n])==65535)if(r[n+1]==1)i=r[n=M(r,n+2)];else{if(r[n+1]==2)return M(r,n+2);break}if(i==e||i==0)return M(r,n+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,r=>r==e?!0:null)}allActions(t,e){let r=this.stateSlot(t,4),s=r?e(r):void 0;for(let n=this.stateSlot(t,1);s==null;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=M(this.data,n+2);else break;s=e(M(this.data,n+1))}return s}nextStates(t){let e=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=M(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];e.some((n,i)=>i&1&&n==s)||e.push(this.data[r],s)}}return e}configure(t){let e=Object.assign(Object.create(l.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=r}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(r=>{let s=t.tokenizers.find(n=>n.from==r);return s?s.to:r})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((r,s)=>{let n=t.specializers.find(o=>o.from==r.external);if(!n)return r;let i=Object.assign(Object.assign({},r),{external:n.to});return e.specializers[s]=he(i),i})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),r=e.map(()=>!1);if(t)for(let n of t.split(" ")){let i=e.indexOf(n);i>=0&&(r[i]=!0)}let s=null;for(let n=0;n<e.length;n++)if(!r[n])for(let i=this.dialects[e[n]],o;(o=this.data[i++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new Lt(t,r,s)}static deserialize(t){return new l(t)}};function M(l,t){return l[t]|l[t+1]<<16}function Ae(l){let t=null;for(let e of l){let r=e.p.stoppedAt;(e.pos==e.p.stream.end||r!=null&&e.pos>r)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function he(l){if(l.external){let t=l.extend?1:0;return(e,r)=>l.external(e,r)<<1|t}return l.get}var we=vt.deserialize({version:14,states:"!^QVQPOOOOQO'#C`'#C`OOQO'#DU'#DUO#cQPO'#C^OOQO'#C^'#C^OOQO'#DT'#DTQVQPOOOOQO-E7S-E7SOOQO,58x,58xOOQO-E7R-E7R",stateData:"$X~O{OS~ORSOTPOUPOVPOWPOXPOYPOZPO[PO]PO^PO_PO`POaPObPOcPOdPOePOfPOgPOhPOiPOjPOkPOlPOmPOnPOoPOpPOqPOrPOsPOtPOuPO~OvWO~PYORmlkjihgfedcba`o^_[ZYXWVUT]u~",goto:"!byPPzP!OPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP!T!ZTTOUVQORUQUORXUSROURVR",nodeNames:"\u26A0 Program Sentence Comment Atom Fix By Example Exercise Proof QED Given Assume Conclusion Lets Let Us Prove That We Compute Conclude ByWord Applied To Using Get Such It Suffices String LParen RParen LBrace RBrace LBracket RBracket Chunk EndOfSentence",maxTerm:43,skippedNodes:[0],repeatNodeCount:2,tokenData:"#?u~R![OX$wXY%xYZ&WZ]$w]^%x^p$wpq%xqr$wrs&]sx$wxy'yyz)Sz}$w}!O)X!O!c$w!c!d,a!d!e3d!e!f5b!f!g$w!g!h@i!h!iMt!i!j!!s!j!n$w!n!o!(u!o!r$w!r!s!-{!s!t!3}!t!y$w!y!z!6|!z!}$w!}#O!8z#O#P$w#P#Q!9P#Q#T$w#T#U!9U#U#V!@X#V#W!BV#W#Z$w#Z#[# _#[#]$w#]#^#$^#^#d$w#d#e#&[#e#g$w#g#h#+]#h#i#5e#i#j#:h#j#k$w#k#l!6|#l#o$w#o#p#?k#p#q$w#q#r#?p#r;'S$w;'S;=`%r<%l~$w~O$w~~&W~$|[u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~%uP;=`<%l$w~%}R{~XY%x]^%xpq%x~&]Ov~~&`VOr&]rs&us#O&]#O#P&z#P;'S&];'S;=`'s<%lO&]~&zOn~~&}RO;'S&];'S;=`'W;=`O&]~'ZWOr&]rs&us#O&]#O#P&z#P;'S&];'S;=`'s;=`<%l&]<%lO&]~'vP;=`<%l&]~(OPo~z{(R~(UTOz(Rz{(e{;'S(R;'S;=`(|<%lO(R~(hTOy(Ryz(wz;'S(R;'S;=`(|<%lO(R~(|OR~~)PP;=`<%l(R~)XOp~~)^^u~OX$wZ]$w^p$wqr$wsx$wz}$w}!O*Y!O!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~*aeR~u~OX*YXY+rZ]*Y]^+r^p*Ypq+rqr*Yrs+rsx*Yxz+rz!}*Y!}#O+r#O#P*Y#P#Q+r#Q#o*Y#o#p+r#p#q*Y#q#r+r#r;'S*Y;'S;=`,Z<%lO*Y~+wSR~OY+rZ;'S+r;'S;=`,T<%lO+r~,WP;=`<%l+r~,^P;=`<%l*Y~,f^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h-b#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~-g^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h.c#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~.h^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#i$w#i#j/d#j#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~/i^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#a$w#a#b0e#b#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~0j^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y1f#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~1k^u~OX$wZ]$w^p$wqr$wsx$wz![$w![!]2g!]!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~2n[[~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~3i^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#m$w#m#n4e#n#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~4l[U~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~5g^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d6c#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~6h^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#b$w#b#c7d#c#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~7i^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#V$w#V#W8e#W#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~8j^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#`$w#`#a9f#a#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~9k^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#i$w#i#j:g#j#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~:l^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h;h#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~;m^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^<i#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~<n^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d=j#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~=o^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#b$w#b#c>k#c#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~>p^u~OX$wZ]$w^p$wqr$wsx$wz![$w![!]?l!]!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~?s[]~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~@n^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#l$w#l#mAj#m#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Ao`u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#T$w#T#UBq#U#X$w#X#YGr#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Bv^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#a$w#a#bCr#b#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Cw^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#d$w#d#eDs#e#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Dx^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#`$w#`#aEt#a#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Ey^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#YFu#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~F|[V~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Gw^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#f$w#f#gHs#g#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Hx^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#V$w#V#WIt#W#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Iy^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^Ju#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Jz^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#hKv#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~K{^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#YLw#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~MO[W~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~My^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^Nu#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~Nz^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#l$w#l#m! v#m#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~! }[T~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!!x^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^!#t#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!#y^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#j$w#j#k!$u#k#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!$z^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!%v#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!%{^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#b$w#b#c!&w#c#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!&|^u~OX$wZ]$w^p$wqr$wsx$wz![$w![!]!'x!]!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!(P[Z~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!(z^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!)v#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!){^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#h$w#h#i!*w#i#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!+O__~u~OX$wZ]$w^p$wqr$wsw$wwx!+}z!}$w#O#P$w#Q#g$w#g#h!-O#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!,S^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h!-O#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!-V[^~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!.Q^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#f$w#f#g!.|#g#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!/R^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d!/}#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!0S^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d!1O#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!1T^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#Y$w#Y#Z!2P#Z#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!2U^u~OX$wZ]$w^p$wqr$wsx$wz![$w![!]!3Q!]!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!3X[X~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!4S^u~OX$wZ]$w^p$wqr$wsx$wz!g$w!g!h!5O!h!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!5T^u~OX$wZ]$w^p$wqr$wsx$wz!f$w!f!g!6P!g!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!6W[Y~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!7R^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!7}#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!8U[c~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!9POs~~!9UOt~~!9Z^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#d$w#d#e!:V#e#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!:[^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#d$w#d#e!;W#e#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!;]^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#`$w#`#a!<X#a#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!<^^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^!=Y#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!=_^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!>Z#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!>`^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#W$w#W#X!?[#X#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!?c[g~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!@^^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#m$w#m#n!AY#n#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Aa[f~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!B[^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d!CW#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!C]_u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#a$w#a#b!D[#b#c!I]#c#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Da^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#d$w#d#e!E]#e#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Eb^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#i$w#i#j!F^#j#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Fc^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#h$w#h#i!G_#i#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Gd^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!H`#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Hg[d~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Ib^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#V$w#V#W!J^#W#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Jc^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#`$w#`#a!K_#a#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Kd^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#i$w#i#j!L`#j#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Le^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#W$w#W#X!Ma#X#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Mf^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y!Nb#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~!Ni[e~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~# d^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y#!`#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#!e^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#h$w#h#i##a#i#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~##h[j~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#$c^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#h$w#h#i#%_#i#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#%f[l~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#&a^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#f$w#f#g#']#g#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#'b^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#c$w#c#d#(^#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#(c^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#j$w#j#k#)_#k#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#)d^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y#*`#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#*g[a~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#+b^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#i$w#i#j#,^#j#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#,c`u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#V$w#V#W#-e#W#Y$w#Y#Z#/c#Z#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#-j^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#[$w#[#]#.f#]#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#.m[k~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#/h^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#Y$w#Y#Z#0d#Z#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#0i^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^#1e#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#1j^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#V$w#V#W#2f#W#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#2k^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#X$w#X#Y#3g#Y#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#3l^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h#4h#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#4o[m~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#5j`u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#[$w#[#]#6l#]#c$w#c#d#9k#d#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#6q^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#T$w#T#U#7m#U#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#7r^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#h$w#h#i#8n#i#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#8u[b~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#9r[h~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#:m^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#g$w#g#h#;i#h#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#;p^`~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#]$w#]#^#<l#^#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#<q^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#b$w#b#c#=m#c#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#=r^u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#Z$w#Z#[#>n#[#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#>u[i~u~OX$wZ]$w^p$wqr$wsx$wz!}$w#O#P$w#Q#o$w#p#q$w#r;'S$w;'S;=`%r<%lO$w~#?pOq~~#?uOr~",tokenizers:[0],topRules:{Program:[0,1]},tokenPrec:118});var $={verbose:A.define(),tactic:A.define(),argument:A.define(),param:A.define(),string:A.define(),comment:A.define(),bracket:A.define()},Ce=rt.HighlightStyle.define([{tag:$.verbose,color:"#912828"},{tag:$.tactic,color:"#56b3ffff"},{tag:$.param,color:"#0077ee"},{tag:$.string,color:"#00aa00"},{tag:$.comment,color:"#9ea0b1ff"},{tag:$.bracket,color:"#ff0000"}]),Qe=rt.HighlightStyle.define([{tag:$.verbose,color:"#eb0808ff"},{tag:$.tactic,color:"#004cf0ff"},{tag:$.param,color:"#0077aa"},{tag:$.string,color:"#00aa00"},{tag:$.comment,color:"#787c99"},{tag:$.bracket,color:"#ff0000"}]),fe=rt.LRLanguage.define({parser:we.configure({props:[se({Example:$.verbose,Exercise:$.verbose,Proof:$.verbose,QED:$.verbose,Given:$.param,Assume:$.param,Conclusion:$.param,Fix:$.tactic,By:$.tactic,Lets:$.tactic,Let:$.tactic,Us:$.tactic,Prove:$.tactic,That:$.tactic,We:$.tactic,Compute:$.tactic,Conclude:$.tactic,ByWord:$.tactic,Applied:$.tactic,To:$.tactic,Using:$.tactic,Get:$.tactic,Such:$.tactic,It:$.tactic,Suffices:$.tactic,Chunk:$.argument,Comment:$.comment,String:$.string,LParen:$.bracket,RParen:$.bracket,LBrace:$.bracket,RBrace:$.bracket,LBracket:$.bracket,RBracket:$.bracket})]}),name:"leanVerbose"});function Ze(){return new rt.LanguageSupport(fe)}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvY29tbW9uL2Rpc3QvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BsZXplci9oaWdobGlnaHQvZGlzdC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGxlemVyL2xyL2Rpc3QvaW5kZXguanMiLCAiLi4vc3JjL3N5bnRheC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gSW1wb3J0aW5nIG5lY2Vzc2FyeSBtb2R1bGVzIGZyb20gdGhlIENvZGVtaXJyb3IgbGlicmFyeVxuaW1wb3J0IHtcbiAgICBIaWdobGlnaHRTdHlsZSwgTFJMYW5ndWFnZSwgTGFuZ3VhZ2VTdXBwb3J0LCBzeW50YXhIaWdobGlnaHRpbmdcbn0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmd1YWdlXCJcbmltcG9ydCB7IFRhZywgc3R5bGVUYWdzIH0gZnJvbSBcIkBsZXplci9oaWdobGlnaHRcIlxuXG4vLyBJbXBvcnRpbmcgdGhlIHBhcnNlciBmb3IgdGhlIExlYW4gVmVyYm9zZVxuaW1wb3J0IHsgcGFyc2VyIH0gZnJvbSBcIi4vc3ludGF4XCJcblxuLy8gRGVmaW5pbmcgY3VzdG9tIHRhZ3MgZm9yIHNwZWNpZmljIGVsZW1lbnRzIG9mIHRoZSBMZWFuIFZlcmJvc2VcbmNvbnN0IHRhZ3MgPSB7XG4gICAgdmVyYm9zZTogVGFnLmRlZmluZSgpLFxuICAgIHRhY3RpYzogVGFnLmRlZmluZSgpLFxuICAgIGFyZ3VtZW50OiBUYWcuZGVmaW5lKCksXG4gICAgcGFyYW06IFRhZy5kZWZpbmUoKSxcbiAgICBzdHJpbmc6IFRhZy5kZWZpbmUoKSxcbiAgICBjb21tZW50OiBUYWcuZGVmaW5lKCksXG4gICAgYnJhY2tldDogVGFnLmRlZmluZSgpLFxufVxuXG4vLyBIaWdobGlnaHRpbmcgc3BlY2lmaWMgZWxlbWVudHMgb2YgdGhlIExlYW4gVmVyYm9zZVxuZXhwb3J0IGNvbnN0IGhpZ2hsaWdodF9kYXJrID0gSGlnaGxpZ2h0U3R5bGUuZGVmaW5lKFtcbiAgICB7IHRhZzogdGFncy52ZXJib3NlLCBjb2xvcjogXCIjOTEyODI4XCIgfSxcbiAgICB7IHRhZzogdGFncy50YWN0aWMsIGNvbG9yOiBcIiM1NmIzZmZmZlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucGFyYW0sIGNvbG9yOiBcIiMwMDc3ZWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cmluZywgY29sb3I6IFwiIzAwYWEwMFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuY29tbWVudCwgY29sb3I6IFwiIzllYTBiMWZmXCIgfSxcbiAgICB7IHRhZzogdGFncy5icmFja2V0LCBjb2xvcjogXCIjZmYwMDAwXCIgfSxcbl0pXG5cbi8vIEhpZ2hsaWdodGluZyBzcGVjaWZpYyBlbGVtZW50cyBvZiB0aGUgTGVhbiBWZXJib3NlXG5leHBvcnQgY29uc3QgaGlnaGxpZ2h0X2xpZ2h0ID0gSGlnaGxpZ2h0U3R5bGUuZGVmaW5lKFtcbiAgICB7IHRhZzogdGFncy52ZXJib3NlLCBjb2xvcjogXCIjZWIwODA4ZmZcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnRhY3RpYywgY29sb3I6IFwiIzAwNGNmMGZmXCIgfSxcbiAgICB7IHRhZzogdGFncy5wYXJhbSwgY29sb3I6IFwiIzAwNzdhYVwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaW5nLCBjb2xvcjogXCIjMDBhYTAwXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LCBjb2xvcjogXCIjNzg3Yzk5XCIgfSxcbiAgICB7IHRhZzogdGFncy5icmFja2V0LCBjb2xvcjogXCIjZmYwMDAwXCIgfSxcbl0pO1xuXG4vLyBEZWZpbmluZyB0aGUgTGVhbiBWZXJib3NlIHN5bnRheCwgaGlnaGxpZ2h0aW5nIGFuZCBpbmRlbnRhdGlvblxuZXhwb3J0IGNvbnN0IGxlYW5WZXJib3NlTGFuZ3VhZ2UgPSBMUkxhbmd1YWdlLmRlZmluZSh7XG4gICAgcGFyc2VyOiBwYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIHN0eWxlVGFncyh7XG4gICAgICAgICAgICAgICAgLy8gc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgXCJFeGFtcGxlXCI6IHRhZ3MudmVyYm9zZSxcbiAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCI6IHRhZ3MudmVyYm9zZSxcbiAgICAgICAgICAgICAgICBcIlByb29mXCI6IHRhZ3MudmVyYm9zZSxcbiAgICAgICAgICAgICAgICBcIlFFRFwiOiB0YWdzLnZlcmJvc2UsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXCJHaXZlblwiOiB0YWdzLnBhcmFtLFxuICAgICAgICAgICAgICAgIFwiQXNzdW1lXCI6IHRhZ3MucGFyYW0sXG4gICAgICAgICAgICAgICAgXCJDb25jbHVzaW9uXCI6IHRhZ3MucGFyYW0sXG5cbiAgICAgICAgICAgICAgICAvLyB0YWN0aWNzIC8gY29ubmVjdG9ycyAvIGVuZ2xpc2gga2V5d29yZHNcbiAgICAgICAgICAgICAgICBcIkZpeFwiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIkJ5XCI6IHRhZ3MudGFjdGljLFxuICAgICAgICAgICAgICAgIFwiTGV0c1wiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIkxldFwiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIlVzXCI6IHRhZ3MudGFjdGljLFxuICAgICAgICAgICAgICAgIFwiUHJvdmVcIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJUaGF0XCI6IHRhZ3MudGFjdGljLFxuICAgICAgICAgICAgICAgIFwiV2VcIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJDb21wdXRlXCI6IHRhZ3MudGFjdGljLFxuICAgICAgICAgICAgICAgIFwiQ29uY2x1ZGVcIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJCeVdvcmRcIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJBcHBsaWVkXCI6IHRhZ3MudGFjdGljLFxuICAgICAgICAgICAgICAgIFwiVG9cIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJVc2luZ1wiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIkdldFwiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIlN1Y2hcIjogdGFncy50YWN0aWMsXG4gICAgICAgICAgICAgICAgXCJJdFwiOiB0YWdzLnRhY3RpYyxcbiAgICAgICAgICAgICAgICBcIlN1ZmZpY2VzXCI6IHRhZ3MudGFjdGljLFxuXG4gICAgICAgICAgICAgICAgLy8gZ2VuZXJpY1xuICAgICAgICAgICAgICAgIFwiQ2h1bmtcIjogdGFncy5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBcIkNvbW1lbnRcIjogdGFncy5jb21tZW50LFxuICAgICAgICAgICAgICAgIFwiU3RyaW5nXCI6IHRhZ3Muc3RyaW5nLFxuXG4gICAgICAgICAgICAgICAgLy8gcHVuY3R1YXRpb25cbiAgICAgICAgICAgICAgICBcIkxQYXJlblwiOiB0YWdzLmJyYWNrZXQsXG4gICAgICAgICAgICAgICAgXCJSUGFyZW5cIjogdGFncy5icmFja2V0LFxuICAgICAgICAgICAgICAgIFwiTEJyYWNlXCI6IHRhZ3MuYnJhY2tldCxcbiAgICAgICAgICAgICAgICBcIlJCcmFjZVwiOiB0YWdzLmJyYWNrZXQsXG4gICAgICAgICAgICAgICAgXCJMQnJhY2tldFwiOiB0YWdzLmJyYWNrZXQsXG4gICAgICAgICAgICAgICAgXCJSQnJhY2tldFwiOiB0YWdzLmJyYWNrZXQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIG5hbWU6IFwibGVhblZlcmJvc2VcIlxufSlcblxuZXhwb3J0IGZ1bmN0aW9uIHZlcmJvc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN1cHBvcnQobGVhblZlcmJvc2VMYW5ndWFnZSlcbn1cbiIsICIvKipcblRoZSBkZWZhdWx0IG1heGltdW0gbGVuZ3RoIG9mIGEgYFRyZWVCdWZmZXJgIG5vZGUuXG4qL1xuY29uc3QgRGVmYXVsdEJ1ZmZlckxlbmd0aCA9IDEwMjQ7XG5sZXQgbmV4dFByb3BJRCA9IDA7XG5jbGFzcyBSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbi8qKlxuRWFjaCBbbm9kZSB0eXBlXSgjY29tbW9uLk5vZGVUeXBlKSBvciBbaW5kaXZpZHVhbCB0cmVlXSgjY29tbW9uLlRyZWUpXG5jYW4gaGF2ZSBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggaXQgaW4gcHJvcHMuIEluc3RhbmNlcyBvZiB0aGlzXG5jbGFzcyByZXByZXNlbnQgcHJvcCBuYW1lcy5cbiovXG5jbGFzcyBOb2RlUHJvcCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IG5vZGUgcHJvcCB0eXBlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRQcm9wSUQrKztcbiAgICAgICAgdGhpcy5wZXJOb2RlID0gISFjb25maWcucGVyTm9kZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGNvbmZpZy5kZXNlcmlhbGl6ZSB8fCAoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBub2RlIHR5cGUgZG9lc24ndCBkZWZpbmUgYSBkZXNlcmlhbGl6ZSBmdW5jdGlvblwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tYmluZSA9IGNvbmZpZy5jb21iaW5lIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoXG4gICAgW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG4gICAgW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuUGFyc2VyQ29uZmlnLnByb3BzKSB0byBjb21wdXRlXG4gICAgcHJvcCB2YWx1ZXMgZm9yIGVhY2ggbm9kZSB0eXBlIGluIHRoZSBzZXQuIFRha2VzIGEgW21hdGNoXG4gICAgb2JqZWN0XSgjY29tbW9uLk5vZGVUeXBlXm1hdGNoKSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdW5kZWZpbmVkXG4gICAgaWYgdGhlIG5vZGUgdHlwZSBkb2Vzbid0IGdldCB0aGlzIHByb3AsIGFuZCB0aGUgcHJvcCdzIHZhbHVlIGlmXG4gICAgaXQgZG9lcy5cbiAgICAqL1xuICAgIGFkZChtYXRjaCkge1xuICAgICAgICBpZiAodGhpcy5wZXJOb2RlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBhZGQgcGVyLW5vZGUgcHJvcHMgdG8gbm9kZSB0eXBlc1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRjaCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICBtYXRjaCA9IE5vZGVUeXBlLm1hdGNoKG1hdGNoKTtcbiAgICAgICAgcmV0dXJuICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbWF0Y2godHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBudWxsIDogW3RoaXMsIHJlc3VsdF07XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG5Qcm9wIHRoYXQgaXMgdXNlZCB0byBkZXNjcmliZSBtYXRjaGluZyBkZWxpbWl0ZXJzLiBGb3Igb3BlbmluZ1xuZGVsaW1pdGVycywgdGhpcyBob2xkcyBhbiBhcnJheSBvZiBub2RlIG5hbWVzICh3cml0dGVuIGFzIGFcbnNwYWNlLXNlcGFyYXRlZCBzdHJpbmcgd2hlbiBkZWNsYXJpbmcgdGhpcyBwcm9wIGluIGEgZ3JhbW1hcilcbmZvciB0aGUgbm9kZSB0eXBlcyBvZiBjbG9zaW5nIGRlbGltaXRlcnMgdGhhdCBtYXRjaCBpdC5cbiovXG5Ob2RlUHJvcC5jbG9zZWRCeSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuVGhlIGludmVyc2Ugb2YgW2BjbG9zZWRCeWBdKCNjb21tb24uTm9kZVByb3BeY2xvc2VkQnkpLiBUaGlzIGlzXG5hdHRhY2hlZCB0byBjbG9zaW5nIGRlbGltaXRlcnMsIGhvbGRpbmcgYW4gYXJyYXkgb2Ygbm9kZSBuYW1lc1xub2YgdHlwZXMgb2YgbWF0Y2hpbmcgb3BlbmluZyBkZWxpbWl0ZXJzLlxuKi9cbk5vZGVQcm9wLm9wZW5lZEJ5ID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHN0ciA9PiBzdHIuc3BsaXQoXCIgXCIpIH0pO1xuLyoqXG5Vc2VkIHRvIGFzc2lnbiBub2RlIHR5cGVzIHRvIGdyb3VwcyAoZm9yIGV4YW1wbGUsIGFsbCBub2RlXG50eXBlcyB0aGF0IHJlcHJlc2VudCBhbiBleHByZXNzaW9uIGNvdWxkIGJlIHRhZ2dlZCB3aXRoIGFuXG5gXCJFeHByZXNzaW9uXCJgIGdyb3VwKS5cbiovXG5Ob2RlUHJvcC5ncm91cCA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuQXR0YWNoZWQgdG8gbm9kZXMgdG8gaW5kaWNhdGUgdGhlc2Ugc2hvdWxkIGJlXG5bZGlzcGxheWVkXShodHRwczovL2NvZGVtaXJyb3IubmV0L2RvY3MvcmVmLyNsYW5ndWFnZS5zeW50YXhUcmVlKVxuaW4gYSBiaWRpcmVjdGlvbmFsIHRleHQgaXNvbGF0ZSwgc28gdGhhdCBkaXJlY3Rpb24tbmV1dHJhbFxuY2hhcmFjdGVycyBvbiB0aGVpciBzaWRlcyBkb24ndCBpbmNvcnJlY3RseSBnZXQgYXNzb2NpYXRlZCB3aXRoXG5zdXJyb3VuZGluZyB0ZXh0LiBZb3UnbGwgZ2VuZXJhbGx5IHdhbnQgdG8gc2V0IHRoaXMgZm9yIG5vZGVzXG50aGF0IGNvbnRhaW4gYXJiaXRyYXJ5IHRleHQsIGxpa2Ugc3RyaW5ncyBhbmQgY29tbWVudHMsIGFuZCBmb3Jcbm5vZGVzIHRoYXQgYXBwZWFyIF9pbnNpZGVfIGFyYml0cmFyeSB0ZXh0LCBsaWtlIEhUTUwgdGFncy4gV2hlblxubm90IGdpdmVuIGEgdmFsdWUsIGluIGEgZ3JhbW1hciBkZWNsYXJhdGlvbiwgZGVmYXVsdHMgdG9cbmBcImF1dG9cImAuXG4qL1xuTm9kZVByb3AuaXNvbGF0ZSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiB2YWx1ZSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPSBcInJ0bFwiICYmIHZhbHVlICE9IFwibHRyXCIgJiYgdmFsdWUgIT0gXCJhdXRvXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGlzb2xhdGU6IFwiICsgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWUgfHwgXCJhdXRvXCI7XG4gICAgfSB9KTtcbi8qKlxuVGhlIGhhc2ggb2YgdGhlIFtjb250ZXh0XSgjbHIuQ29udGV4dFRyYWNrZXIuY29uc3RydWN0b3IpXG50aGF0IHRoZSBub2RlIHdhcyBwYXJzZWQgaW4sIGlmIGFueS4gVXNlZCB0byBsaW1pdCByZXVzZSBvZlxuY29udGV4dHVhbCBub2Rlcy5cbiovXG5Ob2RlUHJvcC5jb250ZXh0SGFzaCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vKipcblRoZSBkaXN0YW5jZSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgbm9kZSB0aGF0IHRoZSB0b2tlbml6ZXJcbmxvb2tlZCBhaGVhZCBmb3IgYW55IG9mIHRoZSB0b2tlbnMgaW5zaWRlIHRoZSBub2RlLiAoVGhlIExSXG5wYXJzZXIgb25seSBzdG9yZXMgdGhpcyB3aGVuIGl0IGlzIGxhcmdlciB0aGFuIDI1LCBmb3JcbmVmZmljaWVuY3kgcmVhc29ucy4pXG4qL1xuTm9kZVByb3AubG9va0FoZWFkID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbi8qKlxuVGhpcyBwZXItbm9kZSBwcm9wIGlzIHVzZWQgdG8gcmVwbGFjZSBhIGdpdmVuIG5vZGUsIG9yIHBhcnQgb2YgYVxubm9kZSwgd2l0aCBhbm90aGVyIHRyZWUuIFRoaXMgaXMgdXNlZnVsIHRvIGluY2x1ZGUgdHJlZXMgZnJvbVxuZGlmZmVyZW50IGxhbmd1YWdlcyBpbiBtaXhlZC1sYW5ndWFnZSBwYXJzZXJzLlxuKi9cbk5vZGVQcm9wLm1vdW50ZWQgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLyoqXG5BIG1vdW50ZWQgdHJlZSwgd2hpY2ggY2FuIGJlIFtzdG9yZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgb25cbmEgdHJlZSBub2RlIHRvIGluZGljYXRlIHRoYXQgcGFydHMgb2YgaXRzIGNvbnRlbnQgYXJlXG5yZXByZXNlbnRlZCBieSBhbm90aGVyIHRyZWUuXG4qL1xuY2xhc3MgTW91bnRlZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBpbm5lciB0cmVlLlxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBudWxsLCB0aGlzIHRyZWUgcmVwbGFjZXMgdGhlIGVudGlyZSBub2RlIChpdCB3aWxsXG4gICAgYmUgaW5jbHVkZWQgaW4gdGhlIHJlZ3VsYXIgaXRlcmF0aW9uIGluc3RlYWQgb2YgaXRzIGhvc3RcbiAgICBub2RlKS4gSWYgbm90LCBvbmx5IHRoZSBnaXZlbiByYW5nZXMgYXJlIGNvbnNpZGVyZWQgdG8gYmVcbiAgICBjb3ZlcmVkIGJ5IHRoaXMgdHJlZS4gVGhpcyBpcyB1c2VkIGZvciB0cmVlcyB0aGF0IGFyZSBtaXhlZCBpblxuICAgIGEgd2F5IHRoYXQgaXNuJ3Qgc3RyaWN0bHkgaGllcmFyY2hpY2FsLiBTdWNoIG1vdW50ZWQgdHJlZXMgYXJlXG4gICAgb25seSBlbnRlcmVkIGJ5IFtgcmVzb2x2ZUlubmVyYF0oI2NvbW1vbi5UcmVlLnJlc29sdmVJbm5lcilcbiAgICBhbmQgW2BlbnRlcmBdKCNjb21tb24uU3ludGF4Tm9kZS5lbnRlcikuXG4gICAgKi9cbiAgICBvdmVybGF5LCBcbiAgICAvKipcbiAgICBUaGUgcGFyc2VyIHVzZWQgdG8gY3JlYXRlIHRoaXMgc3VidHJlZS5cbiAgICAqL1xuICAgIHBhcnNlciwgXG4gICAgLyoqXG4gICAgW0luZGljYXRlc10oI2NvbW1vbi5JdGVyTW9kZS5FbnRlckJyYWNrZXRlZCkgdGhhdCB0aGUgbmVzdGVkXG4gICAgY29udGVudCBpcyBkZWxpbmVhdGVkIHdpdGggc29tZSBraW5kXG4gICAgb2YgYnJhY2tldCB0b2tlbi5cbiAgICAqL1xuICAgIGJyYWNrZXRlZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLmJyYWNrZXRlZCA9IGJyYWNrZXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0KHRyZWUpIHtcbiAgICAgICAgcmV0dXJuIHRyZWUgJiYgdHJlZS5wcm9wcyAmJiB0cmVlLnByb3BzW05vZGVQcm9wLm1vdW50ZWQuaWRdO1xuICAgIH1cbn1cbmNvbnN0IG5vUHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG5FYWNoIG5vZGUgaW4gYSBzeW50YXggdHJlZSBoYXMgYSBub2RlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuKi9cbmNsYXNzIE5vZGVUeXBlIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoZSBub2RlIHR5cGUuIE5vdCBuZWNlc3NhcmlseSB1bmlxdWUsIGJ1dCBpZiB0aGVcbiAgICBncmFtbWFyIHdhcyB3cml0dGVuIHByb3Blcmx5LCBkaWZmZXJlbnQgbm9kZSB0eXBlcyB3aXRoIHRoZVxuICAgIHNhbWUgbmFtZSB3aXRoaW4gYSBub2RlIHNldCBzaG91bGQgcGxheSB0aGUgc2FtZSBzZW1hbnRpY1xuICAgIHJvbGUuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHByb3BzLCBcbiAgICAvKipcbiAgICBUaGUgaWQgb2YgdGhpcyBub2RlIGluIGl0cyBzZXQuIENvcnJlc3BvbmRzIHRvIHRoZSB0ZXJtIGlkc1xuICAgIHVzZWQgaW4gdGhlIHBhcnNlci5cbiAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZsYWdzID0gMCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBub2RlIHR5cGUuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKHNwZWMpIHtcbiAgICAgICAgbGV0IHByb3BzID0gc3BlYy5wcm9wcyAmJiBzcGVjLnByb3BzLmxlbmd0aCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBub1Byb3BzO1xuICAgICAgICBsZXQgZmxhZ3MgPSAoc3BlYy50b3AgPyAxIC8qIE5vZGVGbGFnLlRvcCAqLyA6IDApIHwgKHNwZWMuc2tpcHBlZCA/IDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLyA6IDApIHxcbiAgICAgICAgICAgIChzcGVjLmVycm9yID8gNCAvKiBOb2RlRmxhZy5FcnJvciAqLyA6IDApIHwgKHNwZWMubmFtZSA9PSBudWxsID8gOCAvKiBOb2RlRmxhZy5Bbm9ueW1vdXMgKi8gOiAwKTtcbiAgICAgICAgbGV0IHR5cGUgPSBuZXcgTm9kZVR5cGUoc3BlYy5uYW1lIHx8IFwiXCIsIHByb3BzLCBzcGVjLmlkLCBmbGFncyk7XG4gICAgICAgIGlmIChzcGVjLnByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgc3JjIG9mIHNwZWMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3JjKSlcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjKHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyY1swXS5wZXJOb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBzdG9yZSBhIHBlci1ub2RlIHByb3Agb24gYSBub2RlIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3NyY1swXS5pZF0gPSBzcmNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmVzIGEgbm9kZSBwcm9wIGZvciB0aGlzIHR5cGUuIFdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGlmXG4gICAgdGhlIHByb3AgaXNuJ3QgcHJlc2VudCBvbiB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHsgcmV0dXJuIHRoaXMucHJvcHNbcHJvcC5pZF07IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyBpcyB0aGUgdG9wIG5vZGUgb2YgYSBncmFtbWFyLlxuICAgICovXG4gICAgZ2V0IGlzVG9wKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAxIC8qIE5vZGVGbGFnLlRvcCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIHRoaXMgbm9kZSBpcyBwcm9kdWNlZCBieSBhIHNraXAgcnVsZS5cbiAgICAqL1xuICAgIGdldCBpc1NraXBwZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhbiBlcnJvciBub2RlLlxuICAgICovXG4gICAgZ2V0IGlzRXJyb3IoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDQgLyogTm9kZUZsYWcuRXJyb3IgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFdoZW4gdHJ1ZSwgdGhpcyBub2RlIHR5cGUgZG9lc24ndCBjb3JyZXNwb25kIHRvIGEgdXNlci1kZWNsYXJlZFxuICAgIG5hbWVkIG5vZGUsIGZvciBleGFtcGxlIGJlY2F1c2UgaXQgaXMgdXNlZCB0byBjYWNoZSByZXBldGl0aW9uLlxuICAgICovXG4gICAgZ2V0IGlzQW5vbnltb3VzKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIHdoZW4gdGhpcyBub2RlJ3MgbmFtZSBvciBvbmUgb2YgaXRzXG4gICAgW2dyb3Vwc10oI2NvbW1vbi5Ob2RlUHJvcF5ncm91cCkgbWF0Y2hlcyB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgaXMobmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUgPT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBncm91cCA9IHRoaXMucHJvcChOb2RlUHJvcC5ncm91cCk7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXAgPyBncm91cC5pbmRleE9mKG5hbWUpID4gLTEgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pZCA9PSBuYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBmdW5jdGlvbiBmcm9tIG5vZGUgdHlwZXMgdG8gYXJiaXRyYXJ5IHZhbHVlcyBieVxuICAgIHNwZWNpZnlpbmcgYW4gb2JqZWN0IHdob3NlIHByb3BlcnR5IG5hbWVzIGFyZSBub2RlIG9yXG4gICAgW2dyb3VwXSgjY29tbW9uLk5vZGVQcm9wXmdyb3VwKSBuYW1lcy4gT2Z0ZW4gdXNlZnVsIHdpdGhcbiAgICBbYE5vZGVQcm9wLmFkZGBdKCNjb21tb24uTm9kZVByb3AuYWRkKS4gWW91IGNhbiBwdXQgbXVsdGlwbGVcbiAgICBuYW1lcywgc2VwYXJhdGVkIGJ5IHNwYWNlcywgaW4gYSBzaW5nbGUgcHJvcGVydHkgbmFtZSB0byBtYXBcbiAgICBtdWx0aXBsZSBub2RlIG5hbWVzIHRvIGEgc2luZ2xlIHZhbHVlLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoKG1hcCkge1xuICAgICAgICBsZXQgZGlyZWN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtYXApXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgICAgIGRpcmVjdFtuYW1lXSA9IG1hcFtwcm9wXTtcbiAgICAgICAgcmV0dXJuIChub2RlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cHMgPSBub2RlLnByb3AoTm9kZVByb3AuZ3JvdXApLCBpID0gLTE7IGkgPCAoZ3JvdXBzID8gZ3JvdXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBkaXJlY3RbaSA8IDAgPyBub2RlLm5hbWUgOiBncm91cHNbaV1dO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuQW4gZW1wdHkgZHVtbXkgbm9kZSB0eXBlIHRvIHVzZSB3aGVuIG5vIGFjdHVhbCB0eXBlIGlzIGF2YWlsYWJsZS5cbiovXG5Ob2RlVHlwZS5ub25lID0gbmV3IE5vZGVUeXBlKFwiXCIsIE9iamVjdC5jcmVhdGUobnVsbCksIDAsIDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovKTtcbi8qKlxuQSBub2RlIHNldCBob2xkcyBhIGNvbGxlY3Rpb24gb2Ygbm9kZSB0eXBlcy4gSXQgaXMgdXNlZCB0b1xuY29tcGFjdGx5IHJlcHJlc2VudCB0cmVlcyBieSBzdG9yaW5nIHRoZWlyIHR5cGUgaWRzLCByYXRoZXIgdGhhbiBhXG5mdWxsIHBvaW50ZXIgdG8gdGhlIHR5cGUgb2JqZWN0LCBpbiBhIG51bWVyaWMgYXJyYXkuIEVhY2ggcGFyc2VyXG5baGFzXSgjbHIuTFJQYXJzZXIubm9kZVNldCkgYSBub2RlIHNldCwgYW5kIFt0cmVlXG5idWZmZXJzXSgjY29tbW9uLlRyZWVCdWZmZXIpIGNhbiBvbmx5IHN0b3JlIGNvbGxlY3Rpb25zIG9mIG5vZGVzXG5mcm9tIHRoZSBzYW1lIHNldC4gQSBzZXQgY2FuIGhhdmUgYSBtYXhpbXVtIG9mIDIqKjE2ICg2NTUzNikgbm9kZVxudHlwZXMgaW4gaXQsIHNvIHRoYXQgdGhlIGlkcyBmaXQgaW50byAxNi1iaXQgdHlwZWQgYXJyYXkgc2xvdHMuXG4qL1xuY2xhc3MgTm9kZVNldCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IHdpdGggdGhlIGdpdmVuIHR5cGVzLiBUaGUgYGlkYCBwcm9wZXJ0eSBvZiBlYWNoXG4gICAgdHlwZSBzaG91bGQgY29ycmVzcG9uZCB0byBpdHMgcG9zaXRpb24gd2l0aGluIHRoZSBhcnJheS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2V0LCBieSBpZC5cbiAgICAqL1xuICAgIHR5cGVzKSB7XG4gICAgICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICh0eXBlc1tpXS5pZCAhPSBpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm9kZSB0eXBlIGlkcyBzaG91bGQgY29ycmVzcG9uZCB0byBhcnJheSBwb3NpdGlvbnMgd2hlbiBjcmVhdGluZyBhIG5vZGUgc2V0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgc2V0IHdpdGggc29tZSBub2RlIHByb3BlcnRpZXMgYWRkZWQuIFRoZVxuICAgIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCBjYW4gYmUgY3JlYXRlZCB3aXRoXG4gICAgW2BOb2RlUHJvcC5hZGRgXSgjY29tbW9uLk5vZGVQcm9wLmFkZCkuXG4gICAgKi9cbiAgICBleHRlbmQoLi4ucHJvcHMpIHtcbiAgICAgICAgbGV0IG5ld1R5cGVzID0gW107XG4gICAgICAgIGZvciAobGV0IHR5cGUgb2YgdGhpcy50eXBlcykge1xuICAgICAgICAgICAgbGV0IG5ld1Byb3BzID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IHNvdXJjZSBvZiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBhZGQgPSBzb3VyY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1Byb3BzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0eXBlLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYWRkWzFdLCBwcm9wID0gYWRkWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5jb21iaW5lICYmIHByb3AuaWQgaW4gbmV3UHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3AuY29tYmluZShuZXdQcm9wc1twcm9wLmlkXSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1twcm9wLmlkXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1R5cGVzLnB1c2gobmV3UHJvcHMgPyBuZXcgTm9kZVR5cGUodHlwZS5uYW1lLCBuZXdQcm9wcywgdHlwZS5pZCwgdHlwZS5mbGFncykgOiB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE5vZGVTZXQobmV3VHlwZXMpO1xuICAgIH1cbn1cbmNvbnN0IENhY2hlZE5vZGUgPSBuZXcgV2Vha01hcCgpLCBDYWNoZWRJbm5lck5vZGUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG5PcHRpb25zIHRoYXQgY29udHJvbCBpdGVyYXRpb24uIENhbiBiZSBjb21iaW5lZCB3aXRoIHRoZSBgfGBcbm9wZXJhdG9yIHRvIGVuYWJsZSBtdWx0aXBsZSBvbmVzLlxuKi9cbnZhciBJdGVyTW9kZTtcbihmdW5jdGlvbiAoSXRlck1vZGUpIHtcbiAgICAvKipcbiAgICBXaGVuIGVuYWJsZWQsIGl0ZXJhdGlvbiB3aWxsIG9ubHkgdmlzaXQgW2BUcmVlYF0oI2NvbW1vbi5UcmVlKVxuICAgIG9iamVjdHMsIG5vdCBub2RlcyBwYWNrZWQgaW50b1xuICAgIFtgVHJlZUJ1ZmZlcmBdKCNjb21tb24uVHJlZUJ1ZmZlcilzLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJFeGNsdWRlQnVmZmVyc1wiXSA9IDFdID0gXCJFeGNsdWRlQnVmZmVyc1wiO1xuICAgIC8qKlxuICAgIEVuYWJsZSB0aGlzIHRvIG1ha2UgaXRlcmF0aW9uIGluY2x1ZGUgYW5vbnltb3VzIG5vZGVzIChzdWNoIGFzXG4gICAgdGhlIG5vZGVzIHRoYXQgd3JhcCByZXBlYXRlZCBncmFtbWFyIGNvbnN0cnVjdHMgaW50byBhIGJhbGFuY2VkXG4gICAgdHJlZSkuXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIkluY2x1ZGVBbm9ueW1vdXNcIl0gPSAyXSA9IFwiSW5jbHVkZUFub255bW91c1wiO1xuICAgIC8qKlxuICAgIEJ5IGRlZmF1bHQsIHJlZ3VsYXIgW21vdW50ZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgbm9kZXNcbiAgICByZXBsYWNlIHRoZWlyIGJhc2Ugbm9kZSBpbiBpdGVyYXRpb24uIEVuYWJsZSB0aGlzIHRvIGlnbm9yZSB0aGVtXG4gICAgaW5zdGVhZC5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiSWdub3JlTW91bnRzXCJdID0gNF0gPSBcIklnbm9yZU1vdW50c1wiO1xuICAgIC8qKlxuICAgIFRoaXMgb3B0aW9uIG9ubHkgYXBwbGllcyBpblxuICAgIFtgZW50ZXJgXSgjY29tbW9uLlN5bnRheE5vZGUuZW50ZXIpLXN0eWxlIG1ldGhvZHMuIEl0IHRlbGxzIHRoZVxuICAgIGxpYnJhcnkgdG8gbm90IGVudGVyIG1vdW50ZWQgb3ZlcmxheXMgaWYgb25lIGNvdmVycyB0aGUgZ2l2ZW5cbiAgICBwb3NpdGlvbi5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiSWdub3JlT3ZlcmxheXNcIl0gPSA4XSA9IFwiSWdub3JlT3ZlcmxheXNcIjtcbiAgICAvKipcbiAgICBXaGVuIHNldCwgcG9zaXRpb25zIG9uIHRoZSBib3VuZGFyeSBvZiBhIG1vdW50ZWQgb3ZlcmxheSB0cmVlXG4gICAgdGhhdCBoYXMgaXRzIFtgYnJhY2tldGVkYF0oI2NvbW1vbi5OZXN0ZWRQYXJzZS5icmFja2V0ZWQpIGZsYWdcbiAgICBzZXQgd2lsbCBlbnRlciB0aGF0IHRyZWUgcmVnYXJkbGVzcyBvZiBzaWRlLiBPbmx5IHN1cHBvcnRlZCBpblxuICAgIFtgZW50ZXJgXSgjY29tbW9uLlN5bnRheE5vZGUuZW50ZXIpLCBub3QgaW4gY3Vyc29ycy5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiRW50ZXJCcmFja2V0ZWRcIl0gPSAxNl0gPSBcIkVudGVyQnJhY2tldGVkXCI7XG59KShJdGVyTW9kZSB8fCAoSXRlck1vZGUgPSB7fSkpO1xuLyoqXG5BIHBpZWNlIG9mIHN5bnRheCB0cmVlLiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gYXBwcm9hY2ggdGhlc2VcbnRyZWVzOiB0aGUgd2F5IHRoZXkgYXJlIGFjdHVhbGx5IHN0b3JlZCBpbiBtZW1vcnksIGFuZCB0aGVcbmNvbnZlbmllbnQgd2F5LlxuXG5TeW50YXggdHJlZXMgYXJlIHN0b3JlZCBhcyBhIHRyZWUgb2YgYFRyZWVgIGFuZCBgVHJlZUJ1ZmZlcmBcbm9iamVjdHMuIEJ5IHBhY2tpbmcgZGV0YWlsIGluZm9ybWF0aW9uIGludG8gYFRyZWVCdWZmZXJgIGxlYWZcbm5vZGVzLCB0aGUgcmVwcmVzZW50YXRpb24gaXMgbWFkZSBhIGxvdCBtb3JlIG1lbW9yeS1lZmZpY2llbnQuXG5cbkhvd2V2ZXIsIHdoZW4geW91IHdhbnQgdG8gYWN0dWFsbHkgd29yayB3aXRoIHRyZWUgbm9kZXMsIHRoaXNcbnJlcHJlc2VudGF0aW9uIGlzIHZlcnkgYXdrd2FyZCwgc28gbW9zdCBjbGllbnQgY29kZSB3aWxsIHdhbnQgdG9cbnVzZSB0aGUgW2BUcmVlQ3Vyc29yYF0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBvclxuW2BTeW50YXhOb2RlYF0oI2NvbW1vbi5TeW50YXhOb2RlKSBpbnRlcmZhY2UgaW5zdGVhZCwgd2hpY2ggcHJvdmlkZXNcbmEgdmlldyBvbiBzb21lIHBhcnQgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSwgYW5kIGNhbiBiZSB1c2VkIHRvXG5tb3ZlIGFyb3VuZCB0byBhZGphY2VudCBub2Rlcy5cbiovXG5jbGFzcyBUcmVlIHtcbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSBuZXcgdHJlZS4gU2VlIGFsc28gW2BUcmVlLmJ1aWxkYF0oI2NvbW1vbi5UcmVlXmJ1aWxkKS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIHRoZSB0b3Agbm9kZS5cbiAgICAqL1xuICAgIHR5cGUsIFxuICAgIC8qKlxuICAgIFRoaXMgbm9kZSdzIGNoaWxkIG5vZGVzLlxuICAgICovXG4gICAgY2hpbGRyZW4sIFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbnMgKG9mZnNldHMgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoaXMgdHJlZSkgb2ZcbiAgICB0aGUgY2hpbGRyZW4uXG4gICAgKi9cbiAgICBwb3NpdGlvbnMsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhpcyB0cmVlXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFBlci1ub2RlIFtub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wKSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wcykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBmb3IgKGxldCBbcHJvcCwgdmFsdWVdIG9mIHByb3BzKVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHNbdHlwZW9mIHByb3AgPT0gXCJudW1iZXJcIiA/IHByb3AgOiBwcm9wLmlkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobW91bnRlZCAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgcmV0dXJuIG1vdW50ZWQudHJlZS50b1N0cmluZygpO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBjaCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgc3RyID0gY2gudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMudHlwZS5uYW1lID8gY2hpbGRyZW4gOlxuICAgICAgICAgICAgKC9cXFcvLnRlc3QodGhpcy50eXBlLm5hbWUpICYmICF0aGlzLnR5cGUuaXNFcnJvciA/IEpTT04uc3RyaW5naWZ5KHRoaXMudHlwZS5uYW1lKSA6IHRoaXMudHlwZS5uYW1lKSArXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgY2hpbGRyZW4gKyBcIilcIiA6IFwiXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbdHJlZSBjdXJzb3JdKCNjb21tb24uVHJlZUN1cnNvcikgcG9zaXRpb25lZCBhdCB0aGUgdG9wIG9mXG4gICAgdGhlIHRyZWUuIE1vZGUgY2FuIGJlIHVzZWQgdG8gW2NvbnRyb2xdKCNjb21tb24uSXRlck1vZGUpIHdoaWNoXG4gICAgbm9kZXMgdGhlIGN1cnNvciB2aXNpdHMuXG4gICAgKi9cbiAgICBjdXJzb3IobW9kZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQ3Vyc29yKHRoaXMudG9wTm9kZSwgbW9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFt0cmVlIGN1cnNvcl0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBwb2ludGluZyBpbnRvIHRoaXMgdHJlZVxuICAgIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgc2lkZSAoc2VlXG4gICAgW2Btb3ZlVG9gXSgjY29tbW9uLlRyZWVDdXJzb3IubW92ZVRvKS5cbiAgICAqL1xuICAgIGN1cnNvckF0KHBvcywgc2lkZSA9IDAsIG1vZGUgPSAwKSB7XG4gICAgICAgIGxldCBzY29wZSA9IENhY2hlZE5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZTtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKHNjb3BlKTtcbiAgICAgICAgY3Vyc29yLm1vdmVUbyhwb3MsIHNpZGUpO1xuICAgICAgICBDYWNoZWROb2RlLnNldCh0aGlzLCBjdXJzb3IuX3RyZWUpO1xuICAgICAgICByZXR1cm4gY3Vyc29yO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgb2JqZWN0IGZvciB0aGUgdG9wIG9mIHRoZVxuICAgIHRyZWUuXG4gICAgKi9cbiAgICBnZXQgdG9wTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZSh0aGlzLCAwLCAwLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgIElmIGBzaWRlYCBpcyAtMSwgdGhpcyB3aWxsIG1vdmUgaW50byBub2RlcyB0aGF0IGVuZCBhdCB0aGVcbiAgICBwb3NpdGlvbi4gSWYgMSwgaXQnbGwgbW92ZSBpbnRvIG5vZGVzIHRoYXQgc3RhcnQgYXQgdGhlXG4gICAgcG9zaXRpb24uIFdpdGggMCwgaXQnbGwgb25seSBlbnRlciBub2RlcyB0aGF0IGNvdmVyIHRoZSBwb3NpdGlvblxuICAgIGZyb20gYm90aCBzaWRlcy5cbiAgICBcbiAgICBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBlbnRlclxuICAgIFtvdmVybGF5c10oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KSwgYW5kIHlvdSBvZnRlbiB3YW50XG4gICAgW2ByZXNvbHZlSW5uZXJgXSgjY29tbW9uLlRyZWUucmVzb2x2ZUlubmVyKSBpbnN0ZWFkLlxuICAgICovXG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICAgICAgQ2FjaGVkTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBMaWtlIFtgcmVzb2x2ZWBdKCNjb21tb24uVHJlZS5yZXNvbHZlKSwgYnV0IHdpbGwgZW50ZXJcbiAgICBbb3ZlcmxhaWRdKCNjb21tb24uTW91bnRlZFRyZWUub3ZlcmxheSkgbm9kZXMsIHByb2R1Y2luZyBhIHN5bnRheCBub2RlXG4gICAgcG9pbnRpbmcgaW50byB0aGUgaW5uZXJtb3N0IG92ZXJsYWlkIHRyZWUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uXG4gICAgKHdpdGggcGFyZW50IGxpbmtzIGdvaW5nIHRocm91Z2ggYWxsIHBhcmVudCBzdHJ1Y3R1cmUsIGluY2x1ZGluZ1xuICAgIHRoZSBob3N0IHRyZWVzKS5cbiAgICAqL1xuICAgIHJlc29sdmVJbm5lcihwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkSW5uZXJOb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGUsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgICAgIENhY2hlZElubmVyTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBJbiBzb21lIHNpdHVhdGlvbnMsIGl0IGNhbiBiZSB1c2VmdWwgdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbFxuICAgIG5vZGVzIGFyb3VuZCBhIHBvc2l0aW9uLCBpbmNsdWRpbmcgdGhvc2UgaW4gb3ZlcmxheXMgdGhhdCBkb24ndFxuICAgIGRpcmVjdGx5IGNvdmVyIHRoZSBwb3NpdGlvbi4gVGhpcyBtZXRob2QgZ2l2ZXMgeW91IGFuIGl0ZXJhdG9yXG4gICAgdGhhdCB3aWxsIHByb2R1Y2UgYWxsIG5vZGVzLCBmcm9tIHNtYWxsIHRvIGJpZywgYXJvdW5kIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uLlxuICAgICovXG4gICAgcmVzb2x2ZVN0YWNrKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrSXRlcmF0b3IodGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGFuZCBpdHMgY2hpbGRyZW4sIGNhbGxpbmcgYGVudGVyYCBmb3IgYW55XG4gICAgbm9kZSB0aGF0IHRvdWNoZXMgdGhlIGBmcm9tYC9gdG9gIHJlZ2lvbiAoaWYgZ2l2ZW4pIGJlZm9yZVxuICAgIHJ1bm5pbmcgb3ZlciBzdWNoIGEgbm9kZSdzIGNoaWxkcmVuLCBhbmQgYGxlYXZlYCAoaWYgZ2l2ZW4pIHdoZW5cbiAgICBsZWF2aW5nIHRoZSBub2RlLiBXaGVuIGBlbnRlcmAgcmV0dXJucyBgZmFsc2VgLCB0aGF0IG5vZGUgd2lsbFxuICAgIG5vdCBoYXZlIGl0cyBjaGlsZHJlbiBpdGVyYXRlZCBvdmVyIChvciBgbGVhdmVgIGNhbGxlZCkuXG4gICAgKi9cbiAgICBpdGVyYXRlKHNwZWMpIHtcbiAgICAgICAgbGV0IHsgZW50ZXIsIGxlYXZlLCBmcm9tID0gMCwgdG8gPSB0aGlzLmxlbmd0aCB9ID0gc3BlYztcbiAgICAgICAgbGV0IG1vZGUgPSBzcGVjLm1vZGUgfHwgMCwgYW5vbiA9IChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPiAwO1xuICAgICAgICBmb3IgKGxldCBjID0gdGhpcy5jdXJzb3IobW9kZSB8IEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpOzspIHtcbiAgICAgICAgICAgIGxldCBlbnRlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYy5mcm9tIDw9IHRvICYmIGMudG8gPj0gZnJvbSAmJiAoIWFub24gJiYgYy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKGMpICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5maXJzdENoaWxkKCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVudGVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChlbnRlcmVkICYmIGxlYXZlICYmIChhbm9uIHx8ICFjLnR5cGUuaXNBbm9ueW1vdXMpKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZShjKTtcbiAgICAgICAgICAgICAgICBpZiAoYy5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoIWMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBbbm9kZSBwcm9wXSgjY29tbW9uLk5vZGVQcm9wKSBmb3IgdGhpc1xuICAgIG5vZGUuIFdvcmtzIHdpdGggYm90aCBwZXItbm9kZSBhbmQgcGVyLXR5cGUgcHJvcHMuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHtcbiAgICAgICAgcmV0dXJuICFwcm9wLnBlck5vZGUgPyB0aGlzLnR5cGUucHJvcChwcm9wKSA6IHRoaXMucHJvcHMgPyB0aGlzLnByb3BzW3Byb3AuaWRdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRoZSBub2RlJ3MgW3Blci1ub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wLnBlck5vZGUpIGluIGFcbiAgICBmb3JtYXQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBbYFRyZWVgXSgjY29tbW9uLlRyZWUpXG4gICAgY29uc3RydWN0b3IuXG4gICAgKi9cbiAgICBnZXQgcHJvcFZhbHVlcygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5wcm9wcylcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMucHJvcHMpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goWytpZCwgdGhpcy5wcm9wc1tpZF1dKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQmFsYW5jZSB0aGUgZGlyZWN0IGNoaWxkcmVuIG9mIHRoaXMgdHJlZSwgcHJvZHVjaW5nIGEgY29weSBvZlxuICAgIHdoaWNoIG1heSBoYXZlIGNoaWxkcmVuIGdyb3VwZWQgaW50byBzdWJ0cmVlcyB3aXRoIHR5cGVcbiAgICBbYE5vZGVUeXBlLm5vbmVgXSgjY29tbW9uLk5vZGVUeXBlXm5vbmUpLlxuICAgICovXG4gICAgYmFsYW5jZShjb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyA/IHRoaXMgOlxuICAgICAgICAgICAgYmFsYW5jZVJhbmdlKE5vZGVUeXBlLm5vbmUsIHRoaXMuY2hpbGRyZW4sIHRoaXMucG9zaXRpb25zLCAwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgMCwgdGhpcy5sZW5ndGgsIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCB0aGlzLnByb3BWYWx1ZXMpLCBjb25maWcubWFrZVRyZWUgfHwgKChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSB0cmVlIGZyb20gYSBwb3N0Zml4LW9yZGVyZWQgYnVmZmVyIG9mIG5vZGUgaW5mb3JtYXRpb24sXG4gICAgb3IgYSBjdXJzb3Igb3ZlciBzdWNoIGEgYnVmZmVyLlxuICAgICovXG4gICAgc3RhdGljIGJ1aWxkKGRhdGEpIHsgcmV0dXJuIGJ1aWxkVHJlZShkYXRhKTsgfVxufVxuLyoqXG5UaGUgZW1wdHkgdHJlZVxuKi9cblRyZWUuZW1wdHkgPSBuZXcgVHJlZShOb2RlVHlwZS5ub25lLCBbXSwgW10sIDApO1xuY2xhc3MgRmxhdEJ1ZmZlckN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gNF07IH1cbiAgICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gM107IH1cbiAgICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDJdOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMV07IH1cbiAgICBnZXQgcG9zKCkgeyByZXR1cm4gdGhpcy5pbmRleDsgfVxuICAgIG5leHQoKSB7IHRoaXMuaW5kZXggLT0gNDsgfVxuICAgIGZvcmsoKSB7IHJldHVybiBuZXcgRmxhdEJ1ZmZlckN1cnNvcih0aGlzLmJ1ZmZlciwgdGhpcy5pbmRleCk7IH1cbn1cbi8qKlxuVHJlZSBidWZmZXJzIGNvbnRhaW4gKHR5cGUsIHN0YXJ0LCBlbmQsIGVuZEluZGV4KSBxdWFkcyBmb3IgZWFjaFxubm9kZS4gSW4gc3VjaCBhIGJ1ZmZlciwgbm9kZXMgYXJlIHN0b3JlZCBpbiBwcmVmaXggb3JkZXIgKHBhcmVudHNcbmJlZm9yZSBjaGlsZHJlbiwgd2l0aCB0aGUgZW5kSW5kZXggb2YgdGhlIHBhcmVudCBpbmRpY2F0aW5nIHdoaWNoXG5jaGlsZHJlbiBiZWxvbmcgdG8gaXQpLlxuKi9cbmNsYXNzIFRyZWVCdWZmZXIge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRyZWUgYnVmZmVyLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGJ1ZmZlcidzIGNvbnRlbnQuXG4gICAgKi9cbiAgICBidWZmZXIsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIGdyb3VwIG9mIG5vZGVzIGluIHRoZSBidWZmZXIuXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHNldCB1c2VkIGluIHRoaXMgYnVmZmVyLlxuICAgICovXG4gICAgc2V0KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBOb2RlVHlwZS5ub25lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5idWZmZXIubGVuZ3RoOykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jaGlsZFN0cmluZyhpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIixcIik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2hpbGRTdHJpbmcoaW5kZXgpIHtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5idWZmZXJbaW5kZXhdLCBlbmRJbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIGxldCB0eXBlID0gdGhpcy5zZXQudHlwZXNbaWRdLCByZXN1bHQgPSB0eXBlLm5hbWU7XG4gICAgICAgIGlmICgvXFxXLy50ZXN0KHJlc3VsdCkgJiYgIXR5cGUuaXNFcnJvcilcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgIGluZGV4ICs9IDQ7XG4gICAgICAgIGlmIChlbmRJbmRleCA9PSBpbmRleClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkU3RyaW5nKGluZGV4KSk7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIFwiKFwiICsgY2hpbGRyZW4uam9pbihcIixcIikgKyBcIilcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmaW5kQ2hpbGQoc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcywgcGljayA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSAhPSBlbmRJbmRleDsgaSA9IGJ1ZmZlcltpICsgM10pIHtcbiAgICAgICAgICAgIGlmIChjaGVja1NpZGUoc2lkZSwgcG9zLCBidWZmZXJbaSArIDFdLCBidWZmZXJbaSArIDJdKSkge1xuICAgICAgICAgICAgICAgIHBpY2sgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChkaXIgPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGljaztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzbGljZShzdGFydEksIGVuZEksIGZyb20pIHtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgbGV0IGNvcHkgPSBuZXcgVWludDE2QXJyYXkoZW5kSSAtIHN0YXJ0SSksIGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydEksIGogPSAwOyBpIDwgZW5kSTspIHtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXTtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXSAtIGZyb207XG4gICAgICAgICAgICBsZXQgdG8gPSBjb3B5W2orK10gPSBiW2krK10gLSBmcm9tO1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdIC0gc3RhcnRJO1xuICAgICAgICAgICAgbGVuID0gTWF0aC5tYXgobGVuLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQnVmZmVyKGNvcHksIGxlbiwgdGhpcy5zZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU2lkZShzaWRlLCBwb3MsIGZyb20sIHRvKSB7XG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgLTIgLyogU2lkZS5CZWZvcmUgKi86IHJldHVybiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIC0xIC8qIFNpZGUuQXRPckJlZm9yZSAqLzogcmV0dXJuIHRvID49IHBvcyAmJiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIDAgLyogU2lkZS5Bcm91bmQgKi86IHJldHVybiBmcm9tIDwgcG9zICYmIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDEgLyogU2lkZS5BdE9yQWZ0ZXIgKi86IHJldHVybiBmcm9tIDw9IHBvcyAmJiB0byA+IHBvcztcbiAgICAgICAgY2FzZSAyIC8qIFNpZGUuQWZ0ZXIgKi86IHJldHVybiB0byA+IHBvcztcbiAgICAgICAgY2FzZSA0IC8qIFNpZGUuRG9udENhcmUgKi86IHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVOb2RlKG5vZGUsIHBvcywgc2lkZSwgb3ZlcmxheXMpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgd2hpbGUgKG5vZGUuZnJvbSA9PSBub2RlLnRvIHx8XG4gICAgICAgIChzaWRlIDwgMSA/IG5vZGUuZnJvbSA+PSBwb3MgOiBub2RlLmZyb20gPiBwb3MpIHx8XG4gICAgICAgIChzaWRlID4gLTEgPyBub2RlLnRvIDw9IHBvcyA6IG5vZGUudG8gPCBwb3MpKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSAhb3ZlcmxheXMgJiYgbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIG5vZGUuaW5kZXggPCAwID8gbnVsbCA6IG5vZGUucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgbW9kZSA9IG92ZXJsYXlzID8gMCA6IEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzO1xuICAgIC8vIE11c3QgZ28gdXAgb3V0IG9mIG92ZXJsYXlzIHdoZW4gdGhvc2UgZG8gbm90IG92ZXJsYXAgd2l0aCBwb3NcbiAgICBpZiAob3ZlcmxheXMpXG4gICAgICAgIGZvciAobGV0IHNjYW4gPSBub2RlLCBwYXJlbnQgPSBzY2FuLnBhcmVudDsgcGFyZW50OyBzY2FuID0gcGFyZW50LCBwYXJlbnQgPSBzY2FuLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHNjYW4gaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBzY2FuLmluZGV4IDwgMCAmJiAoKF9hID0gcGFyZW50LmVudGVyKHBvcywgc2lkZSwgbW9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcm9tKSAhPSBzY2FuLmZyb20pXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IGlubmVyID0gbm9kZS5lbnRlcihwb3MsIHNpZGUsIG1vZGUpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBCYXNlTm9kZSB7XG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7IHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLCBtb2RlKTsgfVxuICAgIGdldENoaWxkKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICBsZXQgciA9IGdldENoaWxkcmVuKHRoaXMsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gci5sZW5ndGggPyByWzBdIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0Q2hpbGRyZW4odHlwZSwgYmVmb3JlID0gbnVsbCwgYWZ0ZXIgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICB9XG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXRjaE5vZGVDb250ZXh0KHRoaXMucGFyZW50LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZW50ZXJVbmZpbmlzaGVkTm9kZXNCZWZvcmUocG9zKSB7XG4gICAgICAgIGxldCBzY2FuID0gdGhpcy5jaGlsZEJlZm9yZShwb3MpLCBub2RlID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHNjYW4pIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gc2Nhbi5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoIWxhc3QgfHwgbGFzdC50byAhPSBzY2FuLnRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKGxhc3QudHlwZS5pc0Vycm9yICYmIGxhc3QuZnJvbSA9PSBsYXN0LnRvKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHNjYW47XG4gICAgICAgICAgICAgICAgc2NhbiA9IGxhc3QucHJldlNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY2FuID0gbGFzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZ2V0IG5vZGUoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgZ2V0IG5leHQoKSB7IHJldHVybiB0aGlzLnBhcmVudDsgfVxufVxuY2xhc3MgVHJlZU5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoX3RyZWUsIGZyb20sIFxuICAgIC8vIEluZGV4IGluIHBhcmVudCBub2RlLCBzZXQgdG8gLTEgaWYgdGhlIG5vZGUgaXMgbm90IGEgZGlyZWN0IGNoaWxkIG9mIF9wYXJlbnQubm9kZSAob3ZlcmxheSlcbiAgICBpbmRleCwgX3BhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmVlID0gX3RyZWU7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLl90cmVlLnR5cGU7IH1cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUudHlwZS5uYW1lOyB9XG4gICAgZ2V0IHRvKCkgeyByZXR1cm4gdGhpcy5mcm9tICsgdGhpcy5fdHJlZS5sZW5ndGg7IH1cbiAgICBuZXh0Q2hpbGQoaSwgZGlyLCBwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50ID0gdGhpczs7KSB7XG4gICAgICAgICAgICBmb3IgKGxldCB7IGNoaWxkcmVuLCBwb3NpdGlvbnMgfSA9IHBhcmVudC5fdHJlZSwgZSA9IGRpciA+IDAgPyBjaGlsZHJlbi5sZW5ndGggOiAtMTsgaSAhPSBlOyBpICs9IGRpcikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gY2hpbGRyZW5baV0sIHN0YXJ0ID0gcG9zaXRpb25zW2ldICsgcGFyZW50LmZyb207XG4gICAgICAgICAgICAgICAgaWYgKCEoKG1vZGUgJiBJdGVyTW9kZS5FbnRlckJyYWNrZXRlZCkgJiYgbmV4dCBpbnN0YW5jZW9mIFRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgKChfYSA9IE1vdW50ZWRUcmVlLmdldChuZXh0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm92ZXJsYXkpID09PSBudWxsICYmIChzdGFydCA+PSBwb3MgfHwgc3RhcnQgKyBuZXh0Lmxlbmd0aCA8PSBwb3MpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhY2hlY2tTaWRlKHNpZGUsIHBvcywgc3RhcnQsIHN0YXJ0ICsgbmV4dC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBuZXh0LmZpbmRDaGlsZCgwLCBuZXh0LmJ1ZmZlci5sZW5ndGgsIGRpciwgcG9zIC0gc3RhcnQsIHNpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZShuZXcgQnVmZmVyQ29udGV4dChwYXJlbnQsIG5leHQsIGksIHN0YXJ0KSwgbnVsbCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICghbmV4dC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW91bnRlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobW9kZSAmIEl0ZXJNb2RlLklnbm9yZU1vdW50cykgJiYgKG1vdW50ZWQgPSBNb3VudGVkVHJlZS5nZXQobmV4dCkpICYmICFtb3VudGVkLm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKG1vdW50ZWQudHJlZSwgc3RhcnQsIGksIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lciA9IG5ldyBUcmVlTm9kZShuZXh0LCBzdGFydCwgaSwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgIWlubmVyLnR5cGUuaXNBbm9ueW1vdXMgPyBpbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbm5lci5uZXh0Q2hpbGQoZGlyIDwgMCA/IG5leHQuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDAsIGRpciwgcG9zLCBzaWRlLCBtb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAhcGFyZW50LnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocGFyZW50LmluZGV4ID49IDApXG4gICAgICAgICAgICAgICAgaSA9IHBhcmVudC5pbmRleCArIGRpcjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpID0gZGlyIDwgMCA/IC0xIDogcGFyZW50Ll9wYXJlbnQuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQodGhpcy5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxLCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKHRoaXMuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSwgLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgcHJvcChwcm9wKSB7IHJldHVybiB0aGlzLl90cmVlLnByb3AocHJvcCk7IH1cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGxldCBtb3VudGVkO1xuICAgICAgICBpZiAoIShtb2RlICYgSXRlck1vZGUuSWdub3JlT3ZlcmxheXMpICYmIChtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KHRoaXMuX3RyZWUpKSAmJiBtb3VudGVkLm92ZXJsYXkpIHtcbiAgICAgICAgICAgIGxldCByUG9zID0gcG9zIC0gdGhpcy5mcm9tLCBlbnRlckJyYWNrZXRlZCA9IChtb2RlICYgSXRlck1vZGUuRW50ZXJCcmFja2V0ZWQpICYmIG1vdW50ZWQuYnJhY2tldGVkO1xuICAgICAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgIGlmICgoc2lkZSA+IDAgfHwgZW50ZXJCcmFja2V0ZWQgPyBmcm9tIDw9IHJQb3MgOiBmcm9tIDwgclBvcykgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNpZGUgPCAwIHx8IGVudGVyQnJhY2tldGVkID8gdG8gPj0gclBvcyA6IHRvID4gclBvcykpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVHJlZU5vZGUobW91bnRlZC50cmVlLCBtb3VudGVkLm92ZXJsYXlbMF0uZnJvbSArIHRoaXMuZnJvbSwgLTEsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCBwb3MsIHNpZGUsIG1vZGUpO1xuICAgIH1cbiAgICBuZXh0U2lnbmlmaWNhbnRQYXJlbnQoKSB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzO1xuICAgICAgICB3aGlsZSAodmFsLnR5cGUuaXNBbm9ueW1vdXMgJiYgdmFsLl9wYXJlbnQpXG4gICAgICAgICAgICB2YWwgPSB2YWwuX3BhcmVudDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5uZXh0U2lnbmlmaWNhbnRQYXJlbnQoKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBuZXh0U2libGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCAmJiB0aGlzLmluZGV4ID49IDAgPyB0aGlzLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuaW5kZXggKyAxLCAxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHByZXZTaWJsaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ICYmIHRoaXMuaW5kZXggPj0gMCA/IHRoaXMuX3BhcmVudC5uZXh0Q2hpbGQodGhpcy5pbmRleCAtIDEsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHRyZWUoKSB7IHJldHVybiB0aGlzLl90cmVlOyB9XG4gICAgdG9UcmVlKCkgeyByZXR1cm4gdGhpcy5fdHJlZTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLl90cmVlLnRvU3RyaW5nKCk7IH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuKG5vZGUsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBsZXQgY3VyID0gbm9kZS5jdXJzb3IoKSwgcmVzdWx0ID0gW107XG4gICAgaWYgKCFjdXIuZmlyc3RDaGlsZCgpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChiZWZvcmUgIT0gbnVsbClcbiAgICAgICAgZm9yIChsZXQgZm91bmQgPSBmYWxzZTsgIWZvdW5kOykge1xuICAgICAgICAgICAgZm91bmQgPSBjdXIudHlwZS5pcyhiZWZvcmUpO1xuICAgICAgICAgICAgaWYgKCFjdXIubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAoYWZ0ZXIgIT0gbnVsbCAmJiBjdXIudHlwZS5pcyhhZnRlcikpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBpZiAoY3VyLnR5cGUuaXModHlwZSkpXG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXIubm9kZSk7XG4gICAgICAgIGlmICghY3VyLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICByZXR1cm4gYWZ0ZXIgPT0gbnVsbCA/IHJlc3VsdCA6IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hdGNoTm9kZUNvbnRleHQobm9kZSwgY29udGV4dCwgaSA9IGNvbnRleHQubGVuZ3RoIC0gMSkge1xuICAgIGZvciAobGV0IHAgPSBub2RlOyBpID49IDA7IHAgPSBwLnBhcmVudCkge1xuICAgICAgICBpZiAoIXApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcC50eXBlLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFtpXSAmJiBjb250ZXh0W2ldICE9IHAubmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5jbGFzcyBCdWZmZXJDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGJ1ZmZlciwgaW5kZXgsIHN0YXJ0KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgfVxufVxuY2xhc3MgQnVmZmVyTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgZ2V0IGZyb20oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMV07IH1cbiAgICBnZXQgdG8oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMl07IH1cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBfcGFyZW50LCBpbmRleCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMudHlwZSA9IGNvbnRleHQuYnVmZmVyLnNldC50eXBlc1tjb250ZXh0LmJ1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICB9XG4gICAgY2hpbGQoZGlyLCBwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBkaXIsIHBvcyAtIHRoaXMuY29udGV4dC5zdGFydCwgc2lkZSk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgcHJvcChwcm9wKSB7IHJldHVybiB0aGlzLnR5cGUucHJvcChwcm9wKTsgfVxuICAgIGVudGVyKHBvcywgc2lkZSwgbW9kZSA9IDApIHtcbiAgICAgICAgaWYgKG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIHNpZGUgPiAwID8gMSA6IC0xLCBwb3MgLSB0aGlzLmNvbnRleHQuc3RhcnQsIHNpZGUpO1xuICAgICAgICByZXR1cm4gaW5kZXggPCAwID8gbnVsbCA6IG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50IHx8IHRoaXMuY29udGV4dC5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgfVxuICAgIGV4dGVybmFsU2libGluZyhkaXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/IG51bGwgOiB0aGlzLmNvbnRleHQucGFyZW50Lm5leHRDaGlsZCh0aGlzLmNvbnRleHQuaW5kZXggKyBkaXIsIGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTtcbiAgICB9XG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGFmdGVyID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgIGlmIChhZnRlciA8ICh0aGlzLl9wYXJlbnQgPyBidWZmZXIuYnVmZmVyW3RoaXMuX3BhcmVudC5pbmRleCArIDNdIDogYnVmZmVyLmJ1ZmZlci5sZW5ndGgpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcy5fcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVybmFsU2libGluZygxKTtcbiAgICB9XG4gICAgZ2V0IHByZXZTaWJsaW5nKCkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHBhcmVudFN0YXJ0ID0gdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50LmluZGV4ICsgNCA6IDA7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IHBhcmVudFN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZXJuYWxTaWJsaW5nKC0xKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcy5fcGFyZW50LCBidWZmZXIuZmluZENoaWxkKHBhcmVudFN0YXJ0LCB0aGlzLmluZGV4LCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSk7XG4gICAgfVxuICAgIGdldCB0cmVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHRvVHJlZSgpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHN0YXJ0SSA9IHRoaXMuaW5kZXggKyA0LCBlbmRJID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgIGlmIChlbmRJID4gc3RhcnRJKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDFdO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChidWZmZXIuc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSk7XG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodGhpcy50eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCB0aGlzLnRvIC0gdGhpcy5mcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5idWZmZXIuY2hpbGRTdHJpbmcodGhpcy5pbmRleCk7IH1cbn1cbmZ1bmN0aW9uIGl0ZXJTdGFjayhoZWFkcykge1xuICAgIGlmICghaGVhZHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgcGljayA9IDAsIHBpY2tlZCA9IGhlYWRzWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaGVhZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5vZGUgPSBoZWFkc1tpXTtcbiAgICAgICAgaWYgKG5vZGUuZnJvbSA+IHBpY2tlZC5mcm9tIHx8IG5vZGUudG8gPCBwaWNrZWQudG8pIHtcbiAgICAgICAgICAgIHBpY2tlZCA9IG5vZGU7XG4gICAgICAgICAgICBwaWNrID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV4dCA9IHBpY2tlZCBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIHBpY2tlZC5pbmRleCA8IDAgPyBudWxsIDogcGlja2VkLnBhcmVudDtcbiAgICBsZXQgbmV3SGVhZHMgPSBoZWFkcy5zbGljZSgpO1xuICAgIGlmIChuZXh0KVxuICAgICAgICBuZXdIZWFkc1twaWNrXSA9IG5leHQ7XG4gICAgZWxzZVxuICAgICAgICBuZXdIZWFkcy5zcGxpY2UocGljaywgMSk7XG4gICAgcmV0dXJuIG5ldyBTdGFja0l0ZXJhdG9yKG5ld0hlYWRzLCBwaWNrZWQpO1xufVxuY2xhc3MgU3RhY2tJdGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoaGVhZHMsIG5vZGUpIHtcbiAgICAgICAgdGhpcy5oZWFkcyA9IGhlYWRzO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIH1cbiAgICBnZXQgbmV4dCgpIHsgcmV0dXJuIGl0ZXJTdGFjayh0aGlzLmhlYWRzKTsgfVxufVxuZnVuY3Rpb24gc3RhY2tJdGVyYXRvcih0cmVlLCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgaW5uZXIgPSB0cmVlLnJlc29sdmVJbm5lcihwb3MsIHNpZGUpLCBsYXllcnMgPSBudWxsO1xuICAgIGZvciAobGV0IHNjYW4gPSBpbm5lciBpbnN0YW5jZW9mIFRyZWVOb2RlID8gaW5uZXIgOiBpbm5lci5jb250ZXh0LnBhcmVudDsgc2Nhbjsgc2NhbiA9IHNjYW4ucGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FuLmluZGV4IDwgMCkgeyAvLyBUaGlzIGlzIGFuIG92ZXJsYXkgcm9vdFxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHNjYW4ucGFyZW50O1xuICAgICAgICAgICAgKGxheWVycyB8fCAobGF5ZXJzID0gW2lubmVyXSkpLnB1c2gocGFyZW50LnJlc29sdmUocG9zLCBzaWRlKSk7XG4gICAgICAgICAgICBzY2FuID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1vdW50ID0gTW91bnRlZFRyZWUuZ2V0KHNjYW4udHJlZSk7XG4gICAgICAgICAgICAvLyBSZWxldmFudCBvdmVybGF5IGJyYW5jaGluZyBvZmZcbiAgICAgICAgICAgIGlmIChtb3VudCAmJiBtb3VudC5vdmVybGF5ICYmIG1vdW50Lm92ZXJsYXlbMF0uZnJvbSA8PSBwb3MgJiYgbW91bnQub3ZlcmxheVttb3VudC5vdmVybGF5Lmxlbmd0aCAtIDFdLnRvID49IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCByb290ID0gbmV3IFRyZWVOb2RlKG1vdW50LnRyZWUsIG1vdW50Lm92ZXJsYXlbMF0uZnJvbSArIHNjYW4uZnJvbSwgLTEsIHNjYW4pO1xuICAgICAgICAgICAgICAgIChsYXllcnMgfHwgKGxheWVycyA9IFtpbm5lcl0pKS5wdXNoKHJlc29sdmVOb2RlKHJvb3QsIHBvcywgc2lkZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJzID8gaXRlclN0YWNrKGxheWVycykgOiBpbm5lcjtcbn1cbi8qKlxuQSB0cmVlIGN1cnNvciBvYmplY3QgZm9jdXNlcyBvbiBhIGdpdmVuIG5vZGUgaW4gYSBzeW50YXggdHJlZSwgYW5kXG5hbGxvd3MgeW91IHRvIG1vdmUgdG8gYWRqYWNlbnQgbm9kZXMuXG4qL1xuY2xhc3MgVHJlZUN1cnNvciB7XG4gICAgLyoqXG4gICAgU2hvcnRoYW5kIGZvciBgLnR5cGUubmFtZWAuXG4gICAgKi9cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBtb2RlID0gMCkge1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmJ1ZmZlck5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlICYgfkl0ZXJNb2RlLkVudGVyQnJhY2tldGVkO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnlpZWxkTm9kZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWUgPSBub2RlLmNvbnRleHQucGFyZW50O1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gbm9kZS5fcGFyZW50OyBuOyBuID0gbi5fcGFyZW50KVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sudW5zaGlmdChuLmluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHlpZWxkTm9kZShub2RlKSB7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5fdHJlZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudHlwZSA9IG5vZGUudHlwZTtcbiAgICAgICAgdGhpcy5mcm9tID0gbm9kZS5mcm9tO1xuICAgICAgICB0aGlzLnRvID0gbm9kZS50bztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHlpZWxkQnVmKGluZGV4LCB0eXBlKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgbGV0IHsgc3RhcnQsIGJ1ZmZlciB9ID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgYnVmZmVyLnNldC50eXBlc1tidWZmZXIuYnVmZmVyW2luZGV4XV07XG4gICAgICAgIHRoaXMuZnJvbSA9IHN0YXJ0ICsgYnVmZmVyLmJ1ZmZlcltpbmRleCArIDFdO1xuICAgICAgICB0aGlzLnRvID0gc3RhcnQgKyBidWZmZXIuYnVmZmVyW2luZGV4ICsgMl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHlpZWxkKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgsIG5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IHRoaXMuYnVmZmVyLmJ1ZmZlci5jaGlsZFN0cmluZyh0aGlzLmluZGV4KSA6IHRoaXMuX3RyZWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBlbnRlckNoaWxkKGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZCh0aGlzLl90cmVlLm5leHRDaGlsZChkaXIgPCAwID8gdGhpcy5fdHJlZS5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxIDogMCwgZGlyLCBwb3MsIHNpZGUsIHRoaXMubW9kZSkpO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgZGlyLCBwb3MgLSB0aGlzLmJ1ZmZlci5zdGFydCwgc2lkZSk7XG4gICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhpcyBub2RlJ3MgZmlyc3QgY2hpbGQuIFdoZW4gdGhpcyByZXR1cm5zXG4gICAgZmFsc2UsIHRoZSBub2RlIGhhcyBubyBjaGlsZCwgYW5kIHRoZSBjdXJzb3IgaGFzIG5vdCBiZWVuIG1vdmVkLlxuICAgICovXG4gICAgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoaXMgbm9kZSdzIGxhc3QgY2hpbGQuXG4gICAgKi9cbiAgICBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGZpcnN0IGNoaWxkIHRoYXQgZW5kcyBhZnRlciBgcG9zYC5cbiAgICAqL1xuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbGFzdCBjaGlsZCB0aGF0IHN0YXJ0cyBiZWZvcmUgYHBvc2AuXG4gICAgKi9cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGNoaWxkIGFyb3VuZCBgcG9zYC4gSWYgc2lkZSBpcyAtMSB0aGVcbiAgICBjaGlsZCBtYXkgZW5kIGF0IHRoYXQgcG9zaXRpb24sIHdoZW4gMSBpdCBtYXkgc3RhcnQgdGhlcmUuIFRoaXNcbiAgICB3aWxsIGFsc28gZW50ZXIgW292ZXJsYWlkXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpXG4gICAgW21vdW50ZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgdHJlZXMgdW5sZXNzIGBvdmVybGF5c2AgaXNcbiAgICBzZXQgdG8gZmFsc2UuXG4gICAgKi9cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSB0aGlzLm1vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkKHRoaXMuX3RyZWUuZW50ZXIocG9zLCBzaWRlLCBtb2RlKSk7XG4gICAgICAgIHJldHVybiBtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMgPyBmYWxzZSA6IHRoaXMuZW50ZXJDaGlsZCgxLCBwb3MsIHNpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBub2RlJ3MgcGFyZW50IG5vZGUsIGlmIHRoaXMgaXNuJ3QgdGhlIHRvcCBub2RlLlxuICAgICovXG4gICAgcGFyZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKCh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA/IHRoaXMuX3RyZWUuX3BhcmVudCA6IHRoaXMuX3RyZWUucGFyZW50KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYodGhpcy5zdGFjay5wb3AoKSk7XG4gICAgICAgIGxldCBwYXJlbnQgPSAodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPyB0aGlzLmJ1ZmZlci5wYXJlbnQgOiB0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKHBhcmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2libGluZyhkaXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fdHJlZS5fcGFyZW50ID8gZmFsc2VcbiAgICAgICAgICAgICAgICA6IHRoaXMueWllbGQodGhpcy5fdHJlZS5pbmRleCA8IDAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fdHJlZS5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLl90cmVlLmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLywgdGhpcy5tb2RlKSk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXIsIGQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChkaXIgPCAwKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50U3RhcnQgPSBkIDwgMCA/IDAgOiB0aGlzLnN0YWNrW2RdICsgNDtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICE9IHBhcmVudFN0YXJ0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGJ1ZmZlci5maW5kQ2hpbGQocGFyZW50U3RhcnQsIHRoaXMuaW5kZXgsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICAgICAgaWYgKGFmdGVyIDwgKGQgPCAwID8gYnVmZmVyLmJ1ZmZlci5sZW5ndGggOiBidWZmZXIuYnVmZmVyW3RoaXMuc3RhY2tbZF0gKyAzXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoYWZ0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkIDwgMCA/IHRoaXMueWllbGQodGhpcy5idWZmZXIucGFyZW50Lm5leHRDaGlsZCh0aGlzLmJ1ZmZlci5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8sIHRoaXMubW9kZSkpIDogZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgbmV4dCBzaWJsaW5nLCBpZiBhbnkuXG4gICAgKi9cbiAgICBuZXh0U2libGluZygpIHsgcmV0dXJuIHRoaXMuc2libGluZygxKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgcHJldmlvdXMgc2libGluZywgaWYgYW55LlxuICAgICovXG4gICAgcHJldlNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoLTEpOyB9XG4gICAgYXRMYXN0Tm9kZShkaXIpIHtcbiAgICAgICAgbGV0IGluZGV4LCBwYXJlbnQsIHsgYnVmZmVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgYnVmZmVyLmJ1ZmZlci5idWZmZXIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kZXg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5idWZmZXIuYnVmZmVyW2kgKyAzXSA8IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoeyBpbmRleCwgcGFyZW50IH0gPSBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKHsgaW5kZXgsIF9wYXJlbnQ6IHBhcmVudCB9ID0gdGhpcy5fdHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IHBhcmVudDsgeyBpbmRleCwgX3BhcmVudDogcGFyZW50IH0gPSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIGRpciwgZSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fdHJlZS5jaGlsZHJlbi5sZW5ndGg7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50Ll90cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC50eXBlLmlzQW5vbnltb3VzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGlsZChjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBtb3ZlKGRpciwgZW50ZXIpIHtcbiAgICAgICAgaWYgKGVudGVyICYmIHRoaXMuZW50ZXJDaGlsZChkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2libGluZyhkaXIpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXRMYXN0Tm9kZShkaXIpIHx8ICF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IG5vZGUgaW4gYVxuICAgIFtwcmUtb3JkZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RyZWVfdHJhdmVyc2FsI1ByZS1vcmRlcixfTkxSKVxuICAgIHRyYXZlcnNhbCwgZ29pbmcgZnJvbSBhIG5vZGUgdG8gaXRzIGZpcnN0IGNoaWxkIG9yLCBpZiB0aGVcbiAgICBjdXJyZW50IG5vZGUgaXMgZW1wdHkgb3IgYGVudGVyYCBpcyBmYWxzZSwgaXRzIG5leHQgc2libGluZyBvclxuICAgIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudCBub2RlIHRoYXQgaGFzIG9uZS5cbiAgICAqL1xuICAgIG5leHQoZW50ZXIgPSB0cnVlKSB7IHJldHVybiB0aGlzLm1vdmUoMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBub2RlIGluIGEgbGFzdC10by1maXJzdCBwcmUtb3JkZXIgdHJhdmVyc2FsLiBBXG4gICAgbm9kZSBpcyBmb2xsb3dlZCBieSBpdHMgbGFzdCBjaGlsZCBvciwgaWYgaXQgaGFzIG5vbmUsIGl0c1xuICAgIHByZXZpb3VzIHNpYmxpbmcgb3IgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudFxuICAgIG5vZGUgdGhhdCBoYXMgb25lLlxuICAgICovXG4gICAgcHJldihlbnRlciA9IHRydWUpIHsgcmV0dXJuIHRoaXMubW92ZSgtMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBpbm5lcm1vc3Qgbm9kZSB0aGF0IGNvdmVycyBgcG9zYC4gSWZcbiAgICBgc2lkZWAgaXMgLTEsIGl0IHdpbGwgZW50ZXIgbm9kZXMgdGhhdCBlbmQgYXQgYHBvc2AuIElmIGl0IGlzIDEsXG4gICAgaXQgd2lsbCBlbnRlciBub2RlcyB0aGF0IHN0YXJ0IGF0IGBwb3NgLlxuICAgICovXG4gICAgbW92ZVRvKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmZyb20gPT0gdGhpcy50byB8fFxuICAgICAgICAgICAgKHNpZGUgPCAxID8gdGhpcy5mcm9tID49IHBvcyA6IHRoaXMuZnJvbSA+IHBvcykgfHxcbiAgICAgICAgICAgIChzaWRlID4gLTEgPyB0aGlzLnRvIDw9IHBvcyA6IHRoaXMudG8gPCBwb3MpKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBUaGVuIHNjYW4gZG93biBpbnRvIGNoaWxkIG5vZGVzIGFzIGZhciBhcyBwb3NzaWJsZVxuICAgICAgICB3aGlsZSAodGhpcy5lbnRlckNoaWxkKDEsIHBvcywgc2lkZSkpIHsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIGF0IHRoZSBjdXJzb3IncyBjdXJyZW50XG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmVlO1xuICAgICAgICBsZXQgY2FjaGUgPSB0aGlzLmJ1ZmZlck5vZGUsIHJlc3VsdCA9IG51bGwsIGRlcHRoID0gMDtcbiAgICAgICAgaWYgKGNhY2hlICYmIGNhY2hlLmNvbnRleHQgPT0gdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIHNjYW46IGZvciAobGV0IGluZGV4ID0gdGhpcy5pbmRleCwgZCA9IHRoaXMuc3RhY2subGVuZ3RoOyBkID49IDA7KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IGNhY2hlOyBjOyBjID0gYy5fcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5pbmRleCA9PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGggPSBkICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuc3RhY2tbLS1kXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gZGVwdGg7IGkgPCB0aGlzLnN0YWNrLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJ1ZmZlck5vZGUodGhpcy5idWZmZXIsIHJlc3VsdCwgdGhpcy5zdGFja1tpXSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlck5vZGUgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLmluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbdHJlZV0oI2NvbW1vbi5UcmVlKSB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgbm9kZSwgaWZcbiAgICBhbnkuIFdpbGwgcmV0dXJuIG51bGwgd2hlbiB0aGUgbm9kZSBpcyBpbiBhIFt0cmVlXG4gICAgYnVmZmVyXSgjY29tbW9uLlRyZWVCdWZmZXIpLlxuICAgICovXG4gICAgZ2V0IHRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IG51bGwgOiB0aGlzLl90cmVlLl90cmVlO1xuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIGN1cnJlbnQgbm9kZSBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cywgY2FsbGluZ1xuICAgIGBlbnRlcmAgd2hlbiBlbnRlcmluZyBhIG5vZGUgYW5kIGBsZWF2ZWAsIGlmIGdpdmVuLCB3aGVuIGxlYXZpbmdcbiAgICBvbmUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIGFueSBjaGlsZHJlbiBvZiB0aGF0IG5vZGUgYXJlXG4gICAgc2tpcHBlZCwgYW5kIGBsZWF2ZWAgaXNuJ3QgY2FsbGVkIGZvciBpdC5cbiAgICAqL1xuICAgIGl0ZXJhdGUoZW50ZXIsIGxlYXZlKSB7XG4gICAgICAgIGZvciAobGV0IGRlcHRoID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbXVzdExlYXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKHRoaXMpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgICAgIG11c3RMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11c3RMZWF2ZSAmJiBsZWF2ZSlcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdGhpcy50eXBlLmlzQW5vbnltb3VzO1xuICAgICAgICAgICAgICAgIGlmICghZGVwdGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBtYXRjaGVzIGEgZ2l2ZW4gY29udGV4dFx1MjAxNGEgc2VxdWVuY2VcbiAgICBvZiBkaXJlY3QgcGFyZW50IG5vZGUgbmFtZXMuIEVtcHR5IHN0cmluZ3MgaW4gdGhlIGNvbnRleHQgYXJyYXlcbiAgICBhcmUgdHJlYXRlZCBhcyB3aWxkY2FyZHMuXG4gICAgKi9cbiAgICBtYXRjaENvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5ub2RlLnBhcmVudCwgY29udGV4dCk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXIsIHsgdHlwZXMgfSA9IGJ1ZmZlci5zZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBjb250ZXh0Lmxlbmd0aCAtIDEsIGQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgZC0tKSB7XG4gICAgICAgICAgICBpZiAoZCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5fdHJlZSwgY29udGV4dCwgaSk7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2J1ZmZlci5idWZmZXJbdGhpcy5zdGFja1tkXV1dO1xuICAgICAgICAgICAgaWYgKCF0eXBlLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHRbaV0gJiYgY29udGV4dFtpXSAhPSB0eXBlLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzQ2hpbGQodHJlZSkge1xuICAgIHJldHVybiB0cmVlLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8ICFjaC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKGNoKSk7XG59XG5mdW5jdGlvbiBidWlsZFRyZWUoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgeyBidWZmZXIsIG5vZGVTZXQsIG1heEJ1ZmZlckxlbmd0aCA9IERlZmF1bHRCdWZmZXJMZW5ndGgsIHJldXNlZCA9IFtdLCBtaW5SZXBlYXRUeXBlID0gbm9kZVNldC50eXBlcy5sZW5ndGggfSA9IGRhdGE7XG4gICAgbGV0IGN1cnNvciA9IEFycmF5LmlzQXJyYXkoYnVmZmVyKSA/IG5ldyBGbGF0QnVmZmVyQ3Vyc29yKGJ1ZmZlciwgYnVmZmVyLmxlbmd0aCkgOiBidWZmZXI7XG4gICAgbGV0IHR5cGVzID0gbm9kZVNldC50eXBlcztcbiAgICBsZXQgY29udGV4dEhhc2ggPSAwLCBsb29rQWhlYWQgPSAwO1xuICAgIGZ1bmN0aW9uIHRha2VOb2RlKHBhcmVudFN0YXJ0LCBtaW5Qb3MsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGluUmVwZWF0LCBkZXB0aCkge1xuICAgICAgICBsZXQgeyBpZCwgc3RhcnQsIGVuZCwgc2l6ZSB9ID0gY3Vyc29yO1xuICAgICAgICBsZXQgbG9va0FoZWFkQXRTdGFydCA9IGxvb2tBaGVhZCwgY29udGV4dEF0U3RhcnQgPSBjb250ZXh0SGFzaDtcbiAgICAgICAgaWYgKHNpemUgPCAwKSB7XG4gICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKHNpemUgPT0gLTEgLyogU3BlY2lhbFJlY29yZC5SZXVzZSAqLykge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gcmV1c2VkW2lkXTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHN0YXJ0IC0gcGFyZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKSB7IC8vIENvbnRleHQgY2hhbmdlXG4gICAgICAgICAgICAgICAgY29udGV4dEhhc2ggPSBpZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaXplID09IC00IC8qIFNwZWNpYWxSZWNvcmQuTG9va0FoZWFkICovKSB7XG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFVucmVjb2duaXplZCByZWNvcmQgc2l6ZTogJHtzaXplfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0eXBlID0gdHlwZXNbaWRdLCBub2RlLCBidWZmZXI7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHN0YXJ0IC0gcGFyZW50U3RhcnQ7XG4gICAgICAgIGlmIChlbmQgLSBzdGFydCA8PSBtYXhCdWZmZXJMZW5ndGggJiYgKGJ1ZmZlciA9IGZpbmRCdWZmZXJTaXplKGN1cnNvci5wb3MgLSBtaW5Qb3MsIGluUmVwZWF0KSkpIHtcbiAgICAgICAgICAgIC8vIFNtYWxsIGVub3VnaCBmb3IgYSBidWZmZXIsIGFuZCBubyByZXVzZWQgbm9kZXMgaW5zaWRlXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShidWZmZXIuc2l6ZSAtIGJ1ZmZlci5za2lwKTtcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gYnVmZmVyLnNpemUsIGluZGV4ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcylcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvcHlUb0J1ZmZlcihidWZmZXIuc3RhcnQsIGRhdGEsIGluZGV4KTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgVHJlZUJ1ZmZlcihkYXRhLCBlbmQgLSBidWZmZXIuc3RhcnQsIG5vZGVTZXQpO1xuICAgICAgICAgICAgc3RhcnRQb3MgPSBidWZmZXIuc3RhcnQgLSBwYXJlbnRTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gTWFrZSBpdCBhIG5vZGVcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gc2l6ZTtcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgbGV0IGxvY2FsSW5SZXBlYXQgPSBpZCA+PSBtaW5SZXBlYXRUeXBlID8gaWQgOiAtMTtcbiAgICAgICAgICAgIGxldCBsYXN0R3JvdXAgPSAwLCBsYXN0RW5kID0gZW5kO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+PSAwICYmIGN1cnNvci5pZCA9PSBsb2NhbEluUmVwZWF0ICYmIGN1cnNvci5zaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci5lbmQgPD0gbGFzdEVuZCAtIG1heEJ1ZmZlckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlcGVhdExlYWYobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIHN0YXJ0LCBsYXN0R3JvdXAsIGN1cnNvci5lbmQsIGxhc3RFbmQsIGxvY2FsSW5SZXBlYXQsIGxvb2tBaGVhZEF0U3RhcnQsIGNvbnRleHRBdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHcm91cCA9IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVuZCA9IGN1cnNvci5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGggPiAyNTAwIC8qIEN1dE9mZi5EZXB0aCAqLykge1xuICAgICAgICAgICAgICAgICAgICB0YWtlRmxhdE5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFrZU5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxvY2FsSW5SZXBlYXQsIGRlcHRoICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvY2FsSW5SZXBlYXQgPj0gMCAmJiBsYXN0R3JvdXAgPiAwICYmIGxhc3RHcm91cCA8IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIG1ha2VSZXBlYXRMZWFmKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBzdGFydCwgbGFzdEdyb3VwLCBzdGFydCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCwgY29udGV4dEF0U3RhcnQpO1xuICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+IC0xICYmIGxhc3RHcm91cCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFrZSA9IG1ha2VCYWxhbmNlZCh0eXBlLCBjb250ZXh0QXRTdGFydCk7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGJhbGFuY2VSYW5nZSh0eXBlLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgMCwgbG9jYWxDaGlsZHJlbi5sZW5ndGgsIDAsIGVuZCAtIHN0YXJ0LCBtYWtlLCBtYWtlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBtYWtlVHJlZSh0eXBlLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgZW5kIC0gc3RhcnQsIGxvb2tBaGVhZEF0U3RhcnQgLSBlbmQsIGNvbnRleHRBdFN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydFBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VGbGF0Tm9kZShwYXJlbnRTdGFydCwgbWluUG9zLCBjaGlsZHJlbiwgcG9zaXRpb25zKSB7XG4gICAgICAgIGxldCBub2RlcyA9IFtdOyAvLyBUZW1wb3JhcnksIGludmVydGVkIGFycmF5IG9mIGxlYWYgbm9kZXMgZm91bmQsIHdpdGggYWJzb2x1dGUgcG9zaXRpb25zXG4gICAgICAgIGxldCBub2RlQ291bnQgPSAwLCBzdG9wQXQgPSAtMTtcbiAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBtaW5Qb3MpIHtcbiAgICAgICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHsgLy8gTm90IGEgbGVhZlxuICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdG9wQXQgPiAtMSAmJiBzdGFydCA8IHN0b3BBdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BBdCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCA9IGVuZCAtIG1heEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGlkLCBzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBub2RlQ291bnQrKztcbiAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlQ291bnQpIHtcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkobm9kZUNvdW50ICogNCk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5sZW5ndGggLSAzLCBqID0gMDsgaSA+PSAwOyBpIC09IDMpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltqKytdID0gbm9kZXNbaSArIDFdIC0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyW2orK10gPSBub2Rlc1tpICsgMl0gLSBzdGFydDtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IGo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5ldyBUcmVlQnVmZmVyKGJ1ZmZlciwgbm9kZXNbMl0gLSBzdGFydCwgbm9kZVNldCkpO1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnQgLSBwYXJlbnRTdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUJhbGFuY2VkKHR5cGUsIGNvbnRleHRIYXNoKSB7XG4gICAgICAgIHJldHVybiAoY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gMCwgbGFzdEkgPSBjaGlsZHJlbi5sZW5ndGggLSAxLCBsYXN0LCBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgaWYgKGxhc3RJID49IDAgJiYgKGxhc3QgPSBjaGlsZHJlbltsYXN0SV0pIGluc3RhbmNlb2YgVHJlZSkge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdEkgJiYgbGFzdC50eXBlID09IHR5cGUgJiYgbGFzdC5sZW5ndGggPT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgICAgICAgICBpZiAobG9va0FoZWFkUHJvcCA9IGxhc3QucHJvcChOb2RlUHJvcC5sb29rQWhlYWQpKVxuICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWQgPSBwb3NpdGlvbnNbbGFzdEldICsgbGFzdC5sZW5ndGggKyBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ha2VUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgbG9va0FoZWFkLCBjb250ZXh0SGFzaCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VSZXBlYXRMZWFmKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGJhc2UsIGksIGZyb20sIHRvLCB0eXBlLCBsb29rQWhlYWQsIGNvbnRleHRIYXNoKSB7XG4gICAgICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgICAgIHdoaWxlIChjaGlsZHJlbi5sZW5ndGggPiBpKSB7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goY2hpbGRyZW4ucG9wKCkpO1xuICAgICAgICAgICAgbG9jYWxQb3NpdGlvbnMucHVzaChwb3NpdGlvbnMucG9wKCkgKyBiYXNlIC0gZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4ucHVzaChtYWtlVHJlZShub2RlU2V0LnR5cGVzW3R5cGVdLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgdG8gLSBmcm9tLCBsb29rQWhlYWQgLSB0bywgY29udGV4dEhhc2gpKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIGJhc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIGxvb2tBaGVhZCwgY29udGV4dEhhc2gsIHByb3BzKSB7XG4gICAgICAgIGlmIChjb250ZXh0SGFzaCkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSBbTm9kZVByb3AuY29udGV4dEhhc2gsIGNvbnRleHRIYXNoXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9va0FoZWFkID4gMjUpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gW05vZGVQcm9wLmxvb2tBaGVhZCwgbG9va0FoZWFkXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBwcm9wcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRCdWZmZXJTaXplKG1heFNpemUsIGluUmVwZWF0KSB7XG4gICAgICAgIC8vIFNjYW4gdGhyb3VnaCB0aGUgYnVmZmVyIHRvIGZpbmQgcHJldmlvdXMgc2libGluZ3MgdGhhdCBmaXRcbiAgICAgICAgLy8gdG9nZXRoZXIgaW4gYSBUcmVlQnVmZmVyLCBhbmQgZG9uJ3QgY29udGFpbiBhbnkgcmV1c2VkIG5vZGVzXG4gICAgICAgIC8vICh3aGljaCBjYW4ndCBiZSBzdG9yZWQgaW4gYSBidWZmZXIpLlxuICAgICAgICAvLyBJZiBgaW5SZXBlYXRgIGlzID4gLTEsIGlnbm9yZSBub2RlIGJvdW5kYXJpZXMgb2YgdGhhdCB0eXBlIGZvclxuICAgICAgICAvLyBuZXN0aW5nLCBidXQgbWFrZSBzdXJlIHRoZSBlbmQgZmFsbHMgZWl0aGVyIGF0IHRoZSBzdGFydFxuICAgICAgICAvLyAoYG1heFNpemVgKSBvciBiZWZvcmUgc3VjaCBhIG5vZGUuXG4gICAgICAgIGxldCBmb3JrID0gY3Vyc29yLmZvcmsoKTtcbiAgICAgICAgbGV0IHNpemUgPSAwLCBzdGFydCA9IDAsIHNraXAgPSAwLCBtaW5TdGFydCA9IGZvcmsuZW5kIC0gbWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICBsZXQgcmVzdWx0ID0geyBzaXplOiAwLCBzdGFydDogMCwgc2tpcDogMCB9O1xuICAgICAgICBzY2FuOiBmb3IgKGxldCBtaW5Qb3MgPSBmb3JrLnBvcyAtIG1heFNpemU7IGZvcmsucG9zID4gbWluUG9zOykge1xuICAgICAgICAgICAgbGV0IG5vZGVTaXplID0gZm9yay5zaXplO1xuICAgICAgICAgICAgLy8gUHJldGVuZCBuZXN0ZWQgcmVwZWF0IG5vZGVzIG9mIHRoZSBzYW1lIHR5cGUgZG9uJ3QgZXhpc3RcbiAgICAgICAgICAgIGlmIChmb3JrLmlkID09IGluUmVwZWF0ICYmIG5vZGVTaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFeGNlcHQgdGhhdCB3ZSBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBhcyBhIHZhbGlkIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHZhbHVlLlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2tpcCA9IHNraXA7XG4gICAgICAgICAgICAgICAgc2tpcCArPSA0O1xuICAgICAgICAgICAgICAgIHNpemUgKz0gNDtcbiAgICAgICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGZvcmsucG9zIC0gbm9kZVNpemU7XG4gICAgICAgICAgICBpZiAobm9kZVNpemUgPCAwIHx8IHN0YXJ0UG9zIDwgbWluUG9zIHx8IGZvcmsuc3RhcnQgPCBtaW5TdGFydClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCBsb2NhbFNraXBwZWQgPSBmb3JrLmlkID49IG1pblJlcGVhdFR5cGUgPyA0IDogMDtcbiAgICAgICAgICAgIGxldCBub2RlU3RhcnQgPSBmb3JrLnN0YXJ0O1xuICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICB3aGlsZSAoZm9yay5wb3MgPiBzdGFydFBvcykge1xuICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovIHx8IGZvcmsuc2l6ZSA9PSAtNCAvKiBTcGVjaWFsUmVjb3JkLkxvb2tBaGVhZCAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU2tpcHBlZCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBzY2FuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmb3JrLmlkID49IG1pblJlcGVhdFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTa2lwcGVkICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcmsubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnQgPSBub2RlU3RhcnQ7XG4gICAgICAgICAgICBzaXplICs9IG5vZGVTaXplO1xuICAgICAgICAgICAgc2tpcCArPSBsb2NhbFNraXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluUmVwZWF0IDwgMCB8fCBzaXplID09IG1heFNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHJlc3VsdC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgcmVzdWx0LnNraXAgPSBza2lwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuc2l6ZSA+IDQgPyByZXN1bHQgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlUb0J1ZmZlcihidWZmZXJTdGFydCwgYnVmZmVyLCBpbmRleCkge1xuICAgICAgICBsZXQgeyBpZCwgc3RhcnQsIGVuZCwgc2l6ZSB9ID0gY3Vyc29yO1xuICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICBpZiAoc2l6ZSA+PSAwICYmIGlkIDwgbWluUmVwZWF0VHlwZSkge1xuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIGlmIChzaXplID4gNCkge1xuICAgICAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gKHNpemUgLSA0KTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb3B5VG9CdWZmZXIoYnVmZmVyU3RhcnQsIGJ1ZmZlciwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gc3RhcnRJbmRleDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IGVuZCAtIGJ1ZmZlclN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gc3RhcnQgLSBidWZmZXJTdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKSB7XG4gICAgICAgICAgICBjb250ZXh0SGFzaCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTQgLyogU3BlY2lhbFJlY29yZC5Mb29rQWhlYWQgKi8pIHtcbiAgICAgICAgICAgIGxvb2tBaGVhZCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgIHdoaWxlIChjdXJzb3IucG9zID4gMClcbiAgICAgICAgdGFrZU5vZGUoZGF0YS5zdGFydCB8fCAwLCBkYXRhLmJ1ZmZlclN0YXJ0IHx8IDAsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIC0xLCAwKTtcbiAgICBsZXQgbGVuZ3RoID0gKF9hID0gZGF0YS5sZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChjaGlsZHJlbi5sZW5ndGggPyBwb3NpdGlvbnNbMF0gKyBjaGlsZHJlblswXS5sZW5ndGggOiAwKTtcbiAgICByZXR1cm4gbmV3IFRyZWUodHlwZXNbZGF0YS50b3BJRF0sIGNoaWxkcmVuLnJldmVyc2UoKSwgcG9zaXRpb25zLnJldmVyc2UoKSwgbGVuZ3RoKTtcbn1cbmNvbnN0IG5vZGVTaXplQ2FjaGUgPSBuZXcgV2Vha01hcDtcbmZ1bmN0aW9uIG5vZGVTaXplKGJhbGFuY2VUeXBlLCBub2RlKSB7XG4gICAgaWYgKCFiYWxhbmNlVHlwZS5pc0Fub255bW91cyB8fCBub2RlIGluc3RhbmNlb2YgVHJlZUJ1ZmZlciB8fCBub2RlLnR5cGUgIT0gYmFsYW5jZVR5cGUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGxldCBzaXplID0gbm9kZVNpemVDYWNoZS5nZXQobm9kZSk7XG4gICAgaWYgKHNpemUgPT0gbnVsbCkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT0gYmFsYW5jZVR5cGUgfHwgIShjaGlsZCBpbnN0YW5jZW9mIFRyZWUpKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXplICs9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZVNpemVDYWNoZS5zZXQobm9kZSwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufVxuZnVuY3Rpb24gYmFsYW5jZVJhbmdlKFxuLy8gVGhlIHR5cGUgdGhlIGJhbGFuY2VkIHRyZWUncyBpbm5lciBub2Rlcy5cbmJhbGFuY2VUeXBlLCBcbi8vIFRoZSBkaXJlY3QgY2hpbGRyZW4gYW5kIHRoZWlyIHBvc2l0aW9uc1xuY2hpbGRyZW4sIHBvc2l0aW9ucywgXG4vLyBUaGUgaW5kZXggcmFuZ2UgaW4gY2hpbGRyZW4vcG9zaXRpb25zIHRvIHVzZVxuZnJvbSwgdG8sIFxuLy8gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBub2RlcywgcmVsYXRpdmUgdG8gdGhlaXIgcGFyZW50Llxuc3RhcnQsIFxuLy8gTGVuZ3RoIG9mIHRoZSBvdXRlciBub2RlXG5sZW5ndGgsIFxuLy8gRnVuY3Rpb24gdG8gYnVpbGQgdGhlIHRvcCBub2RlIG9mIHRoZSBiYWxhbmNlZCB0cmVlXG5ta1RvcCwgXG4vLyBGdW5jdGlvbiB0byBidWlsZCBpbnRlcm5hbCBub2RlcyBmb3IgdGhlIGJhbGFuY2VkIHRyZWVcbm1rVHJlZSkge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzsgaSsrKVxuICAgICAgICB0b3RhbCArPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgIGxldCBtYXhDaGlsZCA9IE1hdGguY2VpbCgodG90YWwgKiAxLjUpIC8gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyk7XG4gICAgbGV0IGxvY2FsQ2hpbGRyZW4gPSBbXSwgbG9jYWxQb3NpdGlvbnMgPSBbXTtcbiAgICBmdW5jdGlvbiBkaXZpZGUoY2hpbGRyZW4sIHBvc2l0aW9ucywgZnJvbSwgdG8sIG9mZnNldCkge1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOykge1xuICAgICAgICAgICAgbGV0IGdyb3VwRnJvbSA9IGksIGdyb3VwU3RhcnQgPSBwb3NpdGlvbnNbaV0sIGdyb3VwU2l6ZSA9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFNpemUgPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGlmIChncm91cFNpemUgKyBuZXh0U2l6ZSA+PSBtYXhDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZ3JvdXBTaXplICs9IG5leHRTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT0gZ3JvdXBGcm9tICsgMSkge1xuICAgICAgICAgICAgICAgIGlmIChncm91cFNpemUgPiBtYXhDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb25seSA9IGNoaWxkcmVuW2dyb3VwRnJvbV07IC8vIE9ubHkgdHJlZXMgY2FuIGhhdmUgYSBzaXplID4gMVxuICAgICAgICAgICAgICAgICAgICBkaXZpZGUob25seS5jaGlsZHJlbiwgb25seS5wb3NpdGlvbnMsIDAsIG9ubHkuY2hpbGRyZW4ubGVuZ3RoLCBwb3NpdGlvbnNbZ3JvdXBGcm9tXSArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goY2hpbGRyZW5bZ3JvdXBGcm9tXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gcG9zaXRpb25zW2kgLSAxXSArIGNoaWxkcmVuW2kgLSAxXS5sZW5ndGggLSBncm91cFN0YXJ0O1xuICAgICAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChiYWxhbmNlUmFuZ2UoYmFsYW5jZVR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGdyb3VwRnJvbSwgaSwgZ3JvdXBTdGFydCwgbGVuZ3RoLCBudWxsLCBta1RyZWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnB1c2goZ3JvdXBTdGFydCArIG9mZnNldCAtIHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXZpZGUoY2hpbGRyZW4sIHBvc2l0aW9ucywgZnJvbSwgdG8sIDApO1xuICAgIHJldHVybiAobWtUb3AgfHwgbWtUcmVlKShsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgbGVuZ3RoKTtcbn1cbi8qKlxuUHJvdmlkZXMgYSB3YXkgdG8gYXNzb2NpYXRlIHZhbHVlcyB3aXRoIHBpZWNlcyBvZiB0cmVlcy4gQXMgbG9uZ1xuYXMgdGhhdCBwYXJ0IG9mIHRoZSB0cmVlIGlzIHJldXNlZCwgdGhlIGFzc29jaWF0ZWQgdmFsdWVzIGNhbiBiZVxucmV0cmlldmVkIGZyb20gYW4gdXBkYXRlZCB0cmVlLlxuKi9cbmNsYXNzIE5vZGVXZWFrTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cbiAgICBzZXRCdWZmZXIoYnVmZmVyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5tYXAuZ2V0KGJ1ZmZlcik7XG4gICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoYnVmZmVyLCBpbm5lciA9IG5ldyBNYXApO1xuICAgICAgICBpbm5lci5zZXQoaW5kZXgsIHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0QnVmZmVyKGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5tYXAuZ2V0KGJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBpbm5lciAmJiBpbm5lci5nZXQoaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBTZXQgdGhlIHZhbHVlIGZvciB0aGlzIHN5bnRheCBub2RlLlxuICAgICovXG4gICAgc2V0KG5vZGUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQnVmZmVyTm9kZSlcbiAgICAgICAgICAgIHRoaXMuc2V0QnVmZmVyKG5vZGUuY29udGV4dC5idWZmZXIsIG5vZGUuaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKVxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KG5vZGUudHJlZSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXRyaWV2ZSB2YWx1ZSBmb3IgdGhpcyBzeW50YXggbm9kZSwgaWYgaXQgZXhpc3RzIGluIHRoZSBtYXAuXG4gICAgKi9cbiAgICBnZXQobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEJ1ZmZlck5vZGUgPyB0aGlzLmdldEJ1ZmZlcihub2RlLmNvbnRleHQuYnVmZmVyLCBub2RlLmluZGV4KVxuICAgICAgICAgICAgOiBub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUgPyB0aGlzLm1hcC5nZXQobm9kZS50cmVlKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB2YWx1ZSBmb3IgdGhlIG5vZGUgdGhhdCBhIGN1cnNvciBjdXJyZW50bHkgcG9pbnRzIHRvLlxuICAgICovXG4gICAgY3Vyc29yU2V0KGN1cnNvciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGN1cnNvci5idWZmZXIpXG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihjdXJzb3IuYnVmZmVyLmJ1ZmZlciwgY3Vyc29yLmluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChjdXJzb3IudHJlZSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXRyaWV2ZSB0aGUgdmFsdWUgZm9yIHRoZSBub2RlIHRoYXQgYSBjdXJzb3IgY3VycmVudGx5IHBvaW50c1xuICAgIHRvLlxuICAgICovXG4gICAgY3Vyc29yR2V0KGN1cnNvcikge1xuICAgICAgICByZXR1cm4gY3Vyc29yLmJ1ZmZlciA/IHRoaXMuZ2V0QnVmZmVyKGN1cnNvci5idWZmZXIuYnVmZmVyLCBjdXJzb3IuaW5kZXgpIDogdGhpcy5tYXAuZ2V0KGN1cnNvci50cmVlKTtcbiAgICB9XG59XG5cbi8qKlxuVHJlZSBmcmFnbWVudHMgYXJlIHVzZWQgZHVyaW5nIFtpbmNyZW1lbnRhbFxucGFyc2luZ10oI2NvbW1vbi5QYXJzZXIuc3RhcnRQYXJzZSkgdG8gdHJhY2sgcGFydHMgb2Ygb2xkIHRyZWVzXG50aGF0IGNhbiBiZSByZXVzZWQgaW4gYSBuZXcgcGFyc2UuIEFuIGFycmF5IG9mIGZyYWdtZW50cyBpcyB1c2VkXG50byB0cmFjayByZWdpb25zIG9mIGFuIG9sZCB0cmVlIHdob3NlIG5vZGVzIG1pZ2h0IGJlIHJldXNlZCBpbiBuZXdcbnBhcnNlcy4gVXNlIHRoZSBzdGF0aWNcbltgYXBwbHlDaGFuZ2VzYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnReYXBwbHlDaGFuZ2VzKSBtZXRob2QgdG9cbnVwZGF0ZSBmcmFnbWVudHMgZm9yIGRvY3VtZW50IGNoYW5nZXMuXG4qL1xuY2xhc3MgVHJlZUZyYWdtZW50IHtcbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSB0cmVlIGZyYWdtZW50LiBZb3UnbGwgdXN1YWxseSB3YW50IHRvIHVzZVxuICAgIFtgYWRkVHJlZWBdKCNjb21tb24uVHJlZUZyYWdtZW50XmFkZFRyZWUpIGFuZFxuICAgIFtgYXBwbHlDaGFuZ2VzYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnReYXBwbHlDaGFuZ2VzKSBpbnN0ZWFkIG9mXG4gICAgY2FsbGluZyB0aGlzIGRpcmVjdGx5LlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHN0YXJ0IG9mIHRoZSB1bmNoYW5nZWQgcmFuZ2UgcG9pbnRlZCB0byBieSB0aGlzIGZyYWdtZW50LlxuICAgIFRoaXMgcmVmZXJzIHRvIGFuIG9mZnNldCBpbiB0aGUgX3VwZGF0ZWRfIGRvY3VtZW50IChhcyBvcHBvc2VkXG4gICAgdG8gdGhlIG9yaWdpbmFsIHRyZWUpLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGVuZCBvZiB0aGUgdW5jaGFuZ2VkIHJhbmdlLlxuICAgICovXG4gICAgdG8sIFxuICAgIC8qKlxuICAgIFRoZSB0cmVlIHRoYXQgdGhpcyBmcmFnbWVudCBpcyBiYXNlZCBvbi5cbiAgICAqL1xuICAgIHRyZWUsIFxuICAgIC8qKlxuICAgIFRoZSBvZmZzZXQgYmV0d2VlbiB0aGUgZnJhZ21lbnQncyB0cmVlIGFuZCB0aGUgZG9jdW1lbnQgdGhhdFxuICAgIHRoaXMgZnJhZ21lbnQgY2FuIGJlIHVzZWQgYWdhaW5zdC4gQWRkIHRoaXMgd2hlbiBnb2luZyBmcm9tXG4gICAgZG9jdW1lbnQgdG8gdHJlZSBwb3NpdGlvbnMsIHN1YnRyYWN0IGl0IHRvIGdvIGZyb20gdHJlZSB0b1xuICAgIGRvY3VtZW50IHBvc2l0aW9ucy5cbiAgICAqL1xuICAgIG9mZnNldCwgb3BlblN0YXJ0ID0gZmFsc2UsIG9wZW5FbmQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLm9wZW4gPSAob3BlblN0YXJ0ID8gMSAvKiBPcGVuLlN0YXJ0ICovIDogMCkgfCAob3BlbkVuZCA/IDIgLyogT3Blbi5FbmQgKi8gOiAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgc3RhcnQgb2YgdGhlIGZyYWdtZW50IHJlcHJlc2VudHMgdGhlIHN0YXJ0IG9mIGFcbiAgICBwYXJzZSwgb3IgdGhlIGVuZCBvZiBhIGNoYW5nZS4gKEluIHRoZSBzZWNvbmQgY2FzZSwgaXQgbWF5IG5vdFxuICAgIGJlIHNhZmUgdG8gcmV1c2Ugc29tZSBub2RlcyBhdCB0aGUgc3RhcnQsIGRlcGVuZGluZyBvbiB0aGVcbiAgICBwYXJzaW5nIGFsZ29yaXRobS4pXG4gICAgKi9cbiAgICBnZXQgb3BlblN0YXJ0KCkgeyByZXR1cm4gKHRoaXMub3BlbiAmIDEgLyogT3Blbi5TdGFydCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudCByZXByZXNlbnRzIHRoZSBlbmQgb2YgYVxuICAgIGZ1bGwtZG9jdW1lbnQgcGFyc2UsIG9yIHRoZSBzdGFydCBvZiBhIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBvcGVuRW5kKCkgeyByZXR1cm4gKHRoaXMub3BlbiAmIDIgLyogT3Blbi5FbmQgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiBmcmFnbWVudHMgZnJvbSBhIGZyZXNobHkgcGFyc2VkIHRyZWUsIG9yIHVwZGF0ZVxuICAgIGFuIGV4aXN0aW5nIHNldCBvZiBmcmFnbWVudHMgYnkgcmVwbGFjaW5nIHRoZSBvbmVzIHRoYXQgb3ZlcmxhcFxuICAgIHdpdGggYSB0cmVlIHdpdGggY29udGVudCBmcm9tIHRoZSBuZXcgdHJlZS4gV2hlbiBgcGFydGlhbGAgaXNcbiAgICB0cnVlLCB0aGUgcGFyc2UgaXMgdHJlYXRlZCBhcyBpbmNvbXBsZXRlLCBhbmQgdGhlIHJlc3VsdGluZ1xuICAgIGZyYWdtZW50IGhhcyBbYG9wZW5FbmRgXSgjY29tbW9uLlRyZWVGcmFnbWVudC5vcGVuRW5kKSBzZXQgdG9cbiAgICB0cnVlLlxuICAgICovXG4gICAgc3RhdGljIGFkZFRyZWUodHJlZSwgZnJhZ21lbnRzID0gW10sIHBhcnRpYWwgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW25ldyBUcmVlRnJhZ21lbnQoMCwgdHJlZS5sZW5ndGgsIHRyZWUsIDAsIGZhbHNlLCBwYXJ0aWFsKV07XG4gICAgICAgIGZvciAobGV0IGYgb2YgZnJhZ21lbnRzKVxuICAgICAgICAgICAgaWYgKGYudG8gPiB0cmVlLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwbHkgYSBzZXQgb2YgZWRpdHMgdG8gYW4gYXJyYXkgb2YgZnJhZ21lbnRzLCByZW1vdmluZyBvclxuICAgIHNwbGl0dGluZyBmcmFnbWVudHMgYXMgbmVjZXNzYXJ5IHRvIHJlbW92ZSBlZGl0ZWQgcmFuZ2VzLCBhbmRcbiAgICBhZGp1c3Rpbmcgb2Zmc2V0cyBmb3IgZnJhZ21lbnRzIHRoYXQgbW92ZWQuXG4gICAgKi9cbiAgICBzdGF0aWMgYXBwbHlDaGFuZ2VzKGZyYWdtZW50cywgY2hhbmdlcywgbWluR2FwID0gMTI4KSB7XG4gICAgICAgIGlmICghY2hhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZnJhZ21lbnRzO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBmSSA9IDEsIG5leHRGID0gZnJhZ21lbnRzLmxlbmd0aCA/IGZyYWdtZW50c1swXSA6IG51bGw7XG4gICAgICAgIGZvciAobGV0IGNJID0gMCwgcG9zID0gMCwgb2ZmID0gMDs7IGNJKyspIHtcbiAgICAgICAgICAgIGxldCBuZXh0QyA9IGNJIDwgY2hhbmdlcy5sZW5ndGggPyBjaGFuZ2VzW2NJXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dFBvcyA9IG5leHRDID8gbmV4dEMuZnJvbUEgOiAxZTk7XG4gICAgICAgICAgICBpZiAobmV4dFBvcyAtIHBvcyA+PSBtaW5HYXApXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHRGICYmIG5leHRGLmZyb20gPCBuZXh0UG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXQgPSBuZXh0RjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+PSBjdXQuZnJvbSB8fCBuZXh0UG9zIDw9IGN1dC50byB8fCBvZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmRnJvbSA9IE1hdGgubWF4KGN1dC5mcm9tLCBwb3MpIC0gb2ZmLCBmVG8gPSBNYXRoLm1pbihjdXQudG8sIG5leHRQb3MpIC0gb2ZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3V0ID0gZkZyb20gPj0gZlRvID8gbnVsbCA6IG5ldyBUcmVlRnJhZ21lbnQoZkZyb20sIGZUbywgY3V0LnRyZWUsIGN1dC5vZmZzZXQgKyBvZmYsIGNJID4gMCwgISFuZXh0Qyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1dClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Ri50byA+IG5leHRQb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgbmV4dEYgPSBmSSA8IGZyYWdtZW50cy5sZW5ndGggPyBmcmFnbWVudHNbZkkrK10gOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dEMpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwb3MgPSBuZXh0Qy50b0E7XG4gICAgICAgICAgICBvZmYgPSBuZXh0Qy50b0EgLSBuZXh0Qy50b0I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbkEgc3VwZXJjbGFzcyB0aGF0IHBhcnNlcnMgc2hvdWxkIGV4dGVuZC5cbiovXG5jbGFzcyBQYXJzZXIge1xuICAgIC8qKlxuICAgIFN0YXJ0IGEgcGFyc2UsIHJldHVybmluZyBhIFtwYXJ0aWFsIHBhcnNlXSgjY29tbW9uLlBhcnRpYWxQYXJzZSlcbiAgICBvYmplY3QuIFtgZnJhZ21lbnRzYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnQpIGNhbiBiZSBwYXNzZWQgaW4gdG9cbiAgICBtYWtlIHRoZSBwYXJzZSBpbmNyZW1lbnRhbC5cbiAgICBcbiAgICBCeSBkZWZhdWx0LCB0aGUgZW50aXJlIGlucHV0IGlzIHBhcnNlZC4gWW91IGNhbiBwYXNzIGByYW5nZXNgLFxuICAgIHdoaWNoIHNob3VsZCBiZSBhIHNvcnRlZCBhcnJheSBvZiBub24tZW1wdHksIG5vbi1vdmVybGFwcGluZ1xuICAgIHJhbmdlcywgdG8gcGFyc2Ugb25seSB0aG9zZSByYW5nZXMuIFRoZSB0cmVlIHJldHVybmVkIGluIHRoYXRcbiAgICBjYXNlIHdpbGwgc3RhcnQgYXQgYHJhbmdlc1swXS5mcm9tYC5cbiAgICAqL1xuICAgIHN0YXJ0UGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IFN0cmluZ0lucHV0KGlucHV0KTtcbiAgICAgICAgcmFuZ2VzID0gIXJhbmdlcyA/IFtuZXcgUmFuZ2UoMCwgaW5wdXQubGVuZ3RoKV0gOiByYW5nZXMubGVuZ3RoID8gcmFuZ2VzLm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20sIHIudG8pKSA6IFtuZXcgUmFuZ2UoMCwgMCldO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzIHx8IFtdLCByYW5nZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBSdW4gYSBmdWxsIHBhcnNlLCByZXR1cm5pbmcgdGhlIHJlc3VsdGluZyB0cmVlLlxuICAgICovXG4gICAgcGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgIGxldCBwYXJzZSA9IHRoaXMuc3RhcnRQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IHBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU3RyaW5nSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKHN0cmluZykge1xuICAgICAgICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMuc3RyaW5nLmxlbmd0aDsgfVxuICAgIGNodW5rKGZyb20pIHsgcmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKGZyb20pOyB9XG4gICAgZ2V0IGxpbmVDaHVua3MoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJlYWQoZnJvbSwgdG8pIHsgcmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKGZyb20sIHRvKTsgfVxufVxuXG4vKipcbkNyZWF0ZSBhIHBhcnNlIHdyYXBwZXIgdGhhdCwgYWZ0ZXIgdGhlIGlubmVyIHBhcnNlIGNvbXBsZXRlcyxcbnNjYW5zIGl0cyB0cmVlIGZvciBtaXhlZCBsYW5ndWFnZSByZWdpb25zIHdpdGggdGhlIGBuZXN0YFxuZnVuY3Rpb24sIHJ1bnMgdGhlIHJlc3VsdGluZyBbaW5uZXIgcGFyc2VzXSgjY29tbW9uLk5lc3RlZFBhcnNlKSxcbmFuZCB0aGVuIFttb3VudHNdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgdGhlaXIgcmVzdWx0cyBvbnRvIHRoZVxudHJlZS5cbiovXG5mdW5jdGlvbiBwYXJzZU1peGVkKG5lc3QpIHtcbiAgICByZXR1cm4gKHBhcnNlLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpID0+IG5ldyBNaXhlZFBhcnNlKHBhcnNlLCBuZXN0LCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xufVxuY2xhc3MgSW5uZXJQYXJzZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBwYXJzZSwgb3ZlcmxheSwgYnJhY2tldGVkLCB0YXJnZXQsIGZyb20pIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gb3ZlcmxheTtcbiAgICAgICAgdGhpcy5icmFja2V0ZWQgPSBicmFja2V0ZWQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUmFuZ2VzKHJhbmdlcykge1xuICAgIGlmICghcmFuZ2VzLmxlbmd0aCB8fCByYW5nZXMuc29tZShyID0+IHIuZnJvbSA+PSByLnRvKSlcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlubmVyIHBhcnNlIHJhbmdlcyBnaXZlbjogXCIgKyBKU09OLnN0cmluZ2lmeShyYW5nZXMpKTtcbn1cbmNsYXNzIEFjdGl2ZU92ZXJsYXkge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgcHJlZGljYXRlLCBtb3VudHMsIGluZGV4LCBzdGFydCwgYnJhY2tldGVkLCB0YXJnZXQsIHByZXYpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLm1vdW50cyA9IG1vdW50cztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuYnJhY2tldGVkID0gYnJhY2tldGVkO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgICAgICAgdGhpcy5kZXB0aCA9IDA7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgfVxufVxuY29uc3Qgc3RvcHBlZElubmVyID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbmNsYXNzIE1peGVkUGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKGJhc2UsIG5lc3QsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICB0aGlzLm5lc3QgPSBuZXN0O1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgdGhpcy5pbm5lciA9IFtdO1xuICAgICAgICB0aGlzLmlubmVyRG9uZSA9IDA7XG4gICAgICAgIHRoaXMuYmFzZVRyZWUgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVBhcnNlID0gYmFzZTtcbiAgICB9XG4gICAgYWR2YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKSB7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IHRoaXMuYmFzZVBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhcnNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRyZWUgPSBkb25lO1xuICAgICAgICAgICAgdGhpcy5zdGFydElubmVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbm5lciBvZiB0aGlzLmlubmVyKVxuICAgICAgICAgICAgICAgICAgICBpbm5lci5wYXJzZS5zdG9wQXQodGhpcy5zdG9wcGVkQXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlubmVyRG9uZSA9PSB0aGlzLmlubmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuYmFzZVRyZWU7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgVHJlZShyZXN1bHQudHlwZSwgcmVzdWx0LmNoaWxkcmVuLCByZXN1bHQucG9zaXRpb25zLCByZXN1bHQubGVuZ3RoLCByZXN1bHQucHJvcFZhbHVlcy5jb25jYXQoW1tzdG9wcGVkSW5uZXIsIHRoaXMuc3RvcHBlZEF0XV0pKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5pbm5lclt0aGlzLmlubmVyRG9uZV0sIGRvbmUgPSBpbm5lci5wYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyRG9uZSsrO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNvbWV3aGF0IGRvZGd5IGJ1dCBzdXBlciBoZWxwZnVsIGhhY2sgd2hlcmUgd2VcbiAgICAgICAgICAgIC8vIHBhdGNoIHVwIG5vZGVzIGNyZWF0ZWQgYnkgdGhlIGlubmVyIHBhcnNlIChhbmQgdGh1c1xuICAgICAgICAgICAgLy8gcHJlc3VtYWJseSBub3QgYWxpYXNlZCBhbnl3aGVyZSBlbHNlKSB0byBob2xkIHRoZSBpbmZvcm1hdGlvblxuICAgICAgICAgICAgLy8gYWJvdXQgdGhlIGlubmVyIHBhcnNlLlxuICAgICAgICAgICAgbGV0IHByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBpbm5lci50YXJnZXQucHJvcHMpO1xuICAgICAgICAgICAgcHJvcHNbTm9kZVByb3AubW91bnRlZC5pZF0gPSBuZXcgTW91bnRlZFRyZWUoZG9uZSwgaW5uZXIub3ZlcmxheSwgaW5uZXIucGFyc2VyLCBpbm5lci5icmFja2V0ZWQpO1xuICAgICAgICAgICAgaW5uZXIudGFyZ2V0LnByb3BzID0gcHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldCBwYXJzZWRQb3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5pbnB1dC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmlubmVyRG9uZTsgaSA8IHRoaXMuaW5uZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlubmVyW2ldLmZyb20gPCBwb3MpXG4gICAgICAgICAgICAgICAgcG9zID0gTWF0aC5taW4ocG9zLCB0aGlzLmlubmVyW2ldLnBhcnNlLnBhcnNlZFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IHBvcztcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKVxuICAgICAgICAgICAgdGhpcy5iYXNlUGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmlubmVyRG9uZTsgaSA8IHRoaXMuaW5uZXIubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lcltpXS5wYXJzZS5zdG9wQXQocG9zKTtcbiAgICB9XG4gICAgc3RhcnRJbm5lcigpIHtcbiAgICAgICAgbGV0IGZyYWdtZW50Q3Vyc29yID0gbmV3IEZyYWdtZW50Q3Vyc29yKHRoaXMuZnJhZ21lbnRzKTtcbiAgICAgICAgbGV0IG92ZXJsYXkgPSBudWxsO1xuICAgICAgICBsZXQgY292ZXJlZCA9IG51bGw7XG4gICAgICAgIGxldCBjdXJzb3IgPSBuZXcgVHJlZUN1cnNvcihuZXcgVHJlZU5vZGUodGhpcy5iYXNlVHJlZSwgdGhpcy5yYW5nZXNbMF0uZnJvbSwgMCwgbnVsbCksIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMgfCBJdGVyTW9kZS5JZ25vcmVNb3VudHMpO1xuICAgICAgICBzY2FuOiBmb3IgKGxldCBuZXN0LCBpc0NvdmVyZWQ7Oykge1xuICAgICAgICAgICAgbGV0IGVudGVyID0gdHJ1ZSwgcmFuZ2U7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBjdXJzb3IuZnJvbSA+PSB0aGlzLnN0b3BwZWRBdCkge1xuICAgICAgICAgICAgICAgIGVudGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcmFnbWVudEN1cnNvci5oYXNOb2RlKGN1cnNvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBvdmVybGF5Lm1vdW50cy5maW5kKG0gPT4gbS5mcmFnLmZyb20gPD0gY3Vyc29yLmZyb20gJiYgbS5mcmFnLnRvID49IGN1cnNvci50byAmJiBtLm1vdW50Lm92ZXJsYXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIG1hdGNoLm1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHIuZnJvbSArIG1hdGNoLnBvcywgdG8gPSByLnRvICsgbWF0Y2gucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tID49IGN1cnNvci5mcm9tICYmIHRvIDw9IGN1cnNvci50byAmJiAhb3ZlcmxheS5yYW5nZXMuc29tZShyID0+IHIuZnJvbSA8IHRvICYmIHIudG8gPiBmcm9tKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY292ZXJlZCAmJiAoaXNDb3ZlcmVkID0gY2hlY2tDb3Zlcihjb3ZlcmVkLnJhbmdlcywgY3Vyc29yLmZyb20sIGN1cnNvci50bykpKSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBpc0NvdmVyZWQgIT0gMiAvKiBDb3Zlci5GdWxsICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWN1cnNvci50eXBlLmlzQW5vbnltb3VzICYmIChuZXN0ID0gdGhpcy5uZXN0KGN1cnNvciwgdGhpcy5pbnB1dCkpICYmXG4gICAgICAgICAgICAgICAgKGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvIHx8ICFuZXN0Lm92ZXJsYXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IudHJlZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbGl6ZShjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRlcmlhbGl6ZSBjcmVhdGUgb25lIG1vcmUgbGV2ZWwgb2YgbmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCBkZXB0aCB0byBhY3RpdmUgb3ZlcmxheSBmb3IgZ29pbmcgYmFja3dhcmRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5kZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY292ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQuZGVwdGgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG9sZE1vdW50cyA9IGZyYWdtZW50Q3Vyc29yLmZpbmRNb3VudHMoY3Vyc29yLmZyb20sIG5lc3QucGFyc2VyKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5lc3Qub3ZlcmxheSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheSA9IG5ldyBBY3RpdmVPdmVybGF5KG5lc3QucGFyc2VyLCBuZXN0Lm92ZXJsYXksIG9sZE1vdW50cywgdGhpcy5pbm5lci5sZW5ndGgsIGN1cnNvci5mcm9tLCAhIW5lc3QuYnJhY2tldGVkLCBjdXJzb3IudHJlZSwgb3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gcHVuY2hSYW5nZXModGhpcy5yYW5nZXMsIG5lc3Qub3ZlcmxheSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvID8gW25ldyBSYW5nZShjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKV0gOiBbXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmFuZ2VzKHJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoIHx8ICFuZXN0Lm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyLnB1c2gobmV3IElubmVyUGFyc2UobmVzdC5wYXJzZXIsIHJhbmdlcy5sZW5ndGggPyBuZXN0LnBhcnNlci5zdGFydFBhcnNlKHRoaXMuaW5wdXQsIGVudGVyRnJhZ21lbnRzKG9sZE1vdW50cywgcmFuZ2VzKSwgcmFuZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmVzdC5wYXJzZXIuc3RhcnRQYXJzZShcIlwiKSwgbmVzdC5vdmVybGF5ID8gbmVzdC5vdmVybGF5Lm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gLSBjdXJzb3IuZnJvbSwgci50byAtIGN1cnNvci5mcm9tKSkgOiBudWxsLCAhIW5lc3QuYnJhY2tldGVkLCBjdXJzb3IudHJlZSwgcmFuZ2VzLmxlbmd0aCA/IHJhbmdlc1swXS5mcm9tIDogY3Vyc29yLmZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXN0Lm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IHsgcmFuZ2VzLCBkZXB0aDogMCwgcHJldjogY292ZXJlZCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG92ZXJsYXkgJiYgKHJhbmdlID0gb3ZlcmxheS5wcmVkaWNhdGUoY3Vyc29yKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UgPT09IHRydWUpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGN1cnNvci5mcm9tLCBjdXJzb3IudG8pO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tIDwgcmFuZ2UudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBvdmVybGF5LnJhbmdlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA+PSAwICYmIG92ZXJsYXkucmFuZ2VzW2xhc3RdLnRvID09IHJhbmdlLmZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlc1tsYXN0XSA9IHsgZnJvbTogb3ZlcmxheS5yYW5nZXNbbGFzdF0uZnJvbSwgdG86IHJhbmdlLnRvIH07XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXkucmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRlciAmJiBjdXJzb3IuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuZGVwdGgrKztcbiAgICAgICAgICAgICAgICBpZiAoY292ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZC5kZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBzY2FuO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSAmJiAhLS1vdmVybGF5LmRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gcHVuY2hSYW5nZXModGhpcy5yYW5nZXMsIG92ZXJsYXkucmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSYW5nZXMocmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyLnNwbGljZShvdmVybGF5LmluZGV4LCAwLCBuZXcgSW5uZXJQYXJzZShvdmVybGF5LnBhcnNlciwgb3ZlcmxheS5wYXJzZXIuc3RhcnRQYXJzZSh0aGlzLmlucHV0LCBlbnRlckZyYWdtZW50cyhvdmVybGF5Lm1vdW50cywgcmFuZ2VzKSwgcmFuZ2VzKSwgb3ZlcmxheS5yYW5nZXMubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSAtIG92ZXJsYXkuc3RhcnQsIHIudG8gLSBvdmVybGF5LnN0YXJ0KSksIG92ZXJsYXkuYnJhY2tldGVkLCBvdmVybGF5LnRhcmdldCwgcmFuZ2VzWzBdLmZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXkgPSBvdmVybGF5LnByZXY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdmVyZWQgJiYgIS0tY292ZXJlZC5kZXB0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBjb3ZlcmVkLnByZXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tDb3Zlcihjb3ZlcmVkLCBmcm9tLCB0bykge1xuICAgIGZvciAobGV0IHJhbmdlIG9mIGNvdmVyZWQpIHtcbiAgICAgICAgaWYgKHJhbmdlLmZyb20gPj0gdG8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKHJhbmdlLnRvID4gZnJvbSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5mcm9tIDw9IGZyb20gJiYgcmFuZ2UudG8gPj0gdG8gPyAyIC8qIENvdmVyLkZ1bGwgKi8gOiAxIC8qIENvdmVyLlBhcnRpYWwgKi87XG4gICAgfVxuICAgIHJldHVybiAwIC8qIENvdmVyLk5vbmUgKi87XG59XG4vLyBUYWtlIGEgcGllY2Ugb2YgYnVmZmVyIGFuZCBjb252ZXJ0IGl0IGludG8gYSBzdGFuZC1hbG9uZVxuLy8gVHJlZUJ1ZmZlci5cbmZ1bmN0aW9uIHNsaWNlQnVmKGJ1Ziwgc3RhcnRJLCBlbmRJLCBub2RlcywgcG9zaXRpb25zLCBvZmYpIHtcbiAgICBpZiAoc3RhcnRJIDwgZW5kSSkge1xuICAgICAgICBsZXQgZnJvbSA9IGJ1Zi5idWZmZXJbc3RhcnRJICsgMV07XG4gICAgICAgIG5vZGVzLnB1c2goYnVmLnNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gb2ZmKTtcbiAgICB9XG59XG4vLyBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgbm9kZSB0aGF0J3MgaW4gYSBidWZmZXIsIGFuZCBjb252ZXJ0cyBpdCwgYW5kXG4vLyBpdHMgcGFyZW50IGJ1ZmZlciBub2RlcywgaW50byBhIFRyZWUuIFRoaXMgaXMgYWdhaW4gYWN0aW5nIG9uIHRoZVxuLy8gYXNzdW1wdGlvbiB0aGF0IHRoZSB0cmVlcyBhbmQgYnVmZmVycyBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYnkgdGhlXG4vLyBwYXJzZSB0aGF0IHdhcyByYW4gdmlhIHRoZSBtaXggcGFyc2VyLCBhbmQgdGh1cyBhcmVuJ3Qgc2hhcmVkIHdpdGhcbi8vIGFueSBvdGhlciBjb2RlLCBtYWtpbmcgdmlvbGF0aW9ucyBvZiB0aGUgaW1tdXRhYmlsaXR5IHNhZmUuXG5mdW5jdGlvbiBtYXRlcmlhbGl6ZShjdXJzb3IpIHtcbiAgICBsZXQgeyBub2RlIH0gPSBjdXJzb3IsIHN0YWNrID0gW107XG4gICAgbGV0IGJ1ZmZlciA9IG5vZGUuY29udGV4dC5idWZmZXI7XG4gICAgLy8gU2NhbiB1cCB0byB0aGUgbmVhcmVzdCB0cmVlXG4gICAgZG8ge1xuICAgICAgICBzdGFjay5wdXNoKGN1cnNvci5pbmRleCk7XG4gICAgICAgIGN1cnNvci5wYXJlbnQoKTtcbiAgICB9IHdoaWxlICghY3Vyc29yLnRyZWUpO1xuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBidWZmZXIgaW4gdGhhdCB0cmVlXG4gICAgbGV0IGJhc2UgPSBjdXJzb3IudHJlZSwgaSA9IGJhc2UuY2hpbGRyZW4uaW5kZXhPZihidWZmZXIpO1xuICAgIGxldCBidWYgPSBiYXNlLmNoaWxkcmVuW2ldLCBiID0gYnVmLmJ1ZmZlciwgbmV3U3RhY2sgPSBbaV07XG4gICAgLy8gU3BsaXQgYSBsZXZlbCBpbiB0aGUgYnVmZmVyLCBwdXR0aW5nIHRoZSBub2RlcyBiZWZvcmUgYW5kIGFmdGVyXG4gICAgLy8gdGhlIGNoaWxkIHRoYXQgY29udGFpbnMgYG5vZGVgIGludG8gbmV3IGJ1ZmZlcnMuXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RhcnRJLCBlbmRJLCB0eXBlLCBpbm5lck9mZnNldCwgbGVuZ3RoLCBzdGFja1Bvcykge1xuICAgICAgICBsZXQgdGFyZ2V0SSA9IHN0YWNrW3N0YWNrUG9zXTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBzbGljZUJ1ZihidWYsIHN0YXJ0SSwgdGFyZ2V0SSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgaW5uZXJPZmZzZXQpO1xuICAgICAgICBsZXQgZnJvbSA9IGJbdGFyZ2V0SSArIDFdLCB0byA9IGJbdGFyZ2V0SSArIDJdO1xuICAgICAgICBuZXdTdGFjay5wdXNoKGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIGxldCBjaGlsZCA9IHN0YWNrUG9zXG4gICAgICAgICAgICA/IHNwbGl0KHRhcmdldEkgKyA0LCBiW3RhcmdldEkgKyAzXSwgYnVmLnNldC50eXBlc1tiW3RhcmdldEldXSwgZnJvbSwgdG8gLSBmcm9tLCBzdGFja1BvcyAtIDEpXG4gICAgICAgICAgICA6IG5vZGUudG9UcmVlKCk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gaW5uZXJPZmZzZXQpO1xuICAgICAgICBzbGljZUJ1ZihidWYsIGJbdGFyZ2V0SSArIDNdLCBlbmRJLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpbm5lck9mZnNldCk7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpO1xuICAgIH1cbiAgICBiYXNlLmNoaWxkcmVuW2ldID0gc3BsaXQoMCwgYi5sZW5ndGgsIE5vZGVUeXBlLm5vbmUsIDAsIGJ1Zi5sZW5ndGgsIHN0YWNrLmxlbmd0aCAtIDEpO1xuICAgIC8vIE1vdmUgdGhlIGN1cnNvciBiYWNrIHRvIHRoZSB0YXJnZXQgbm9kZVxuICAgIGZvciAobGV0IGluZGV4IG9mIG5ld1N0YWNrKSB7XG4gICAgICAgIGxldCB0cmVlID0gY3Vyc29yLnRyZWUuY2hpbGRyZW5baW5kZXhdLCBwb3MgPSBjdXJzb3IudHJlZS5wb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICBjdXJzb3IueWllbGQobmV3IFRyZWVOb2RlKHRyZWUsIHBvcyArIGN1cnNvci5mcm9tLCBpbmRleCwgY3Vyc29yLl90cmVlKSk7XG4gICAgfVxufVxuY2xhc3MgU3RydWN0dXJlQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290LCBvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnNvciA9IHJvb3QuY3Vyc29yKEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMgfCBJdGVyTW9kZS5JZ25vcmVNb3VudHMpO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRvIHRoZSBmaXJzdCBub2RlIChpbiBwcmUtb3JkZXIpIHRoYXQgc3RhcnRzIGF0IG9yIGFmdGVyIGBwb3NgLlxuICAgIG1vdmVUbyhwb3MpIHtcbiAgICAgICAgbGV0IHsgY3Vyc29yIH0gPSB0aGlzLCBwID0gcG9zIC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIHdoaWxlICghdGhpcy5kb25lICYmIGN1cnNvci5mcm9tIDwgcCkge1xuICAgICAgICAgICAgaWYgKGN1cnNvci50byA+PSBwb3MgJiYgY3Vyc29yLmVudGVyKHAsIDEsIEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzIHwgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpKSA7XG4gICAgICAgICAgICBlbHNlIGlmICghY3Vyc29yLm5leHQoZmFsc2UpKVxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzTm9kZShjdXJzb3IpIHtcbiAgICAgICAgdGhpcy5tb3ZlVG8oY3Vyc29yLmZyb20pO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSAmJiB0aGlzLmN1cnNvci5mcm9tICsgdGhpcy5vZmZzZXQgPT0gY3Vyc29yLmZyb20gJiYgdGhpcy5jdXJzb3IudHJlZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgdHJlZSA9IHRoaXMuY3Vyc29yLnRyZWU7Oykge1xuICAgICAgICAgICAgICAgIGlmICh0cmVlID09IGN1cnNvci50cmVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJlZS5jaGlsZHJlbi5sZW5ndGggJiYgdHJlZS5wb3NpdGlvbnNbMF0gPT0gMCAmJiB0cmVlLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgVHJlZSlcbiAgICAgICAgICAgICAgICAgICAgdHJlZSA9IHRyZWUuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY2xhc3MgRnJhZ21lbnRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzO1xuICAgICAgICB0aGlzLmN1clRvID0gMDtcbiAgICAgICAgdGhpcy5mcmFnSSA9IDA7XG4gICAgICAgIGlmIChmcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLmN1ckZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgICAgICB0aGlzLmN1clRvID0gKF9hID0gZmlyc3QudHJlZS5wcm9wKHN0b3BwZWRJbm5lcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0LnRvO1xuICAgICAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBTdHJ1Y3R1cmVDdXJzb3IoZmlyc3QudHJlZSwgLWZpcnN0Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1ckZyYWcgPSB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNOb2RlKG5vZGUpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VyRnJhZyAmJiBub2RlLmZyb20gPj0gdGhpcy5jdXJUbylcbiAgICAgICAgICAgIHRoaXMubmV4dEZyYWcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyRnJhZyAmJiB0aGlzLmN1ckZyYWcuZnJvbSA8PSBub2RlLmZyb20gJiYgdGhpcy5jdXJUbyA+PSBub2RlLnRvICYmIHRoaXMuaW5uZXIuaGFzTm9kZShub2RlKTtcbiAgICB9XG4gICAgbmV4dEZyYWcoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5mcmFnSSsrO1xuICAgICAgICBpZiAodGhpcy5mcmFnSSA9PSB0aGlzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyRnJhZyA9IHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZyYWcgPSB0aGlzLmN1ckZyYWcgPSB0aGlzLmZyYWdtZW50c1t0aGlzLmZyYWdJXTtcbiAgICAgICAgICAgIHRoaXMuY3VyVG8gPSAoX2EgPSBmcmFnLnRyZWUucHJvcChzdG9wcGVkSW5uZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmcmFnLnRvO1xuICAgICAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBTdHJ1Y3R1cmVDdXJzb3IoZnJhZy50cmVlLCAtZnJhZy5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmRNb3VudHMocG9zLCBwYXJzZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh0aGlzLmlubmVyKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyLmN1cnNvci5tb3ZlVG8ocG9zLCAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IHRoaXMuaW5uZXIuY3Vyc29yLm5vZGU7IHBvczsgcG9zID0gcG9zLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGxldCBtb3VudCA9IChfYSA9IHBvcy50cmVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgICAgICAgICBpZiAobW91bnQgJiYgbW91bnQucGFyc2VyID09IHBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5mcmFnSTsgaSA8IHRoaXMuZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhZyA9IHRoaXMuZnJhZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcuZnJvbSA+PSBwb3MudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy50cmVlID09IHRoaXMuY3VyRnJhZy50cmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MuZnJvbSAtIGZyYWcub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcHVuY2hSYW5nZXMob3V0ZXIsIHJhbmdlcykge1xuICAgIGxldCBjb3B5ID0gbnVsbCwgY3VycmVudCA9IHJhbmdlcztcbiAgICBmb3IgKGxldCBpID0gMSwgaiA9IDA7IGkgPCBvdXRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZ2FwRnJvbSA9IG91dGVyW2kgLSAxXS50bywgZ2FwVG8gPSBvdXRlcltpXS5mcm9tO1xuICAgICAgICBmb3IgKDsgaiA8IGN1cnJlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCByID0gY3VycmVudFtqXTtcbiAgICAgICAgICAgIGlmIChyLmZyb20gPj0gZ2FwVG8pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoci50byA8PSBnYXBGcm9tKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFjb3B5KVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjb3B5ID0gcmFuZ2VzLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAoci5mcm9tIDwgZ2FwRnJvbSkge1xuICAgICAgICAgICAgICAgIGNvcHlbal0gPSBuZXcgUmFuZ2Uoci5mcm9tLCBnYXBGcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoci50byA+IGdhcFRvKVxuICAgICAgICAgICAgICAgICAgICBjb3B5LnNwbGljZShqICsgMSwgMCwgbmV3IFJhbmdlKGdhcFRvLCByLnRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyLnRvID4gZ2FwVG8pIHtcbiAgICAgICAgICAgICAgICBjb3B5W2otLV0gPSBuZXcgUmFuZ2UoZ2FwVG8sIHIudG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29weS5zcGxpY2Uoai0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudDtcbn1cbmZ1bmN0aW9uIGZpbmRDb3ZlckNoYW5nZXMoYSwgYiwgZnJvbSwgdG8pIHtcbiAgICBsZXQgaUEgPSAwLCBpQiA9IDAsIGluQSA9IGZhbHNlLCBpbkIgPSBmYWxzZSwgcG9zID0gLTFlOTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yICg7Oykge1xuICAgICAgICBsZXQgbmV4dEEgPSBpQSA9PSBhLmxlbmd0aCA/IDFlOSA6IGluQSA/IGFbaUFdLnRvIDogYVtpQV0uZnJvbTtcbiAgICAgICAgbGV0IG5leHRCID0gaUIgPT0gYi5sZW5ndGggPyAxZTkgOiBpbkIgPyBiW2lCXS50byA6IGJbaUJdLmZyb207XG4gICAgICAgIGlmIChpbkEgIT0gaW5CKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChwb3MsIGZyb20pLCBlbmQgPSBNYXRoLm1pbihuZXh0QSwgbmV4dEIsIHRvKTtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGVuZClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgUmFuZ2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IE1hdGgubWluKG5leHRBLCBuZXh0Qik7XG4gICAgICAgIGlmIChwb3MgPT0gMWU5KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChuZXh0QSA9PSBwb3MpIHtcbiAgICAgICAgICAgIGlmICghaW5BKVxuICAgICAgICAgICAgICAgIGluQSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbkEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpQSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0QiA9PSBwb3MpIHtcbiAgICAgICAgICAgIGlmICghaW5CKVxuICAgICAgICAgICAgICAgIGluQiA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbkIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpQisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBHaXZlbiBhIG51bWJlciBvZiBmcmFnbWVudHMgZm9yIHRoZSBvdXRlciB0cmVlLCBhbmQgYSBzZXQgb2YgcmFuZ2VzXG4vLyB0byBwYXJzZSwgZmluZCBmcmFnbWVudHMgZm9yIGlubmVyIHRyZWVzIG1vdW50ZWQgYXJvdW5kIHRob3NlXG4vLyByYW5nZXMsIGlmIGFueS5cbmZ1bmN0aW9uIGVudGVyRnJhZ21lbnRzKG1vdW50cywgcmFuZ2VzKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IHsgcG9zLCBtb3VudCwgZnJhZyB9IG9mIG1vdW50cykge1xuICAgICAgICBsZXQgc3RhcnRQb3MgPSBwb3MgKyAobW91bnQub3ZlcmxheSA/IG1vdW50Lm92ZXJsYXlbMF0uZnJvbSA6IDApLCBlbmRQb3MgPSBzdGFydFBvcyArIG1vdW50LnRyZWUubGVuZ3RoO1xuICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KGZyYWcuZnJvbSwgc3RhcnRQb3MpLCB0byA9IE1hdGgubWluKGZyYWcudG8sIGVuZFBvcyk7XG4gICAgICAgIGlmIChtb3VudC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgb3ZlcmxheSA9IG1vdW50Lm92ZXJsYXkubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSArIHBvcywgci50byArIHBvcykpO1xuICAgICAgICAgICAgbGV0IGNoYW5nZXMgPSBmaW5kQ292ZXJDaGFuZ2VzKHJhbmdlcywgb3ZlcmxheSwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IGZyb207OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGkgPT0gY2hhbmdlcy5sZW5ndGgsIGVuZCA9IGxhc3QgPyB0byA6IGNoYW5nZXNbaV0uZnJvbTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVHJlZUZyYWdtZW50KHBvcywgZW5kLCBtb3VudC50cmVlLCAtc3RhcnRQb3MsIGZyYWcuZnJvbSA+PSBwb3MgfHwgZnJhZy5vcGVuU3RhcnQsIGZyYWcudG8gPD0gZW5kIHx8IGZyYWcub3BlbkVuZCkpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MgPSBjaGFuZ2VzW2ldLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFRyZWVGcmFnbWVudChmcm9tLCB0bywgbW91bnQudHJlZSwgLXN0YXJ0UG9zLCBmcmFnLmZyb20gPj0gc3RhcnRQb3MgfHwgZnJhZy5vcGVuU3RhcnQsIGZyYWcudG8gPD0gZW5kUG9zIHx8IGZyYWcub3BlbkVuZCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IERlZmF1bHRCdWZmZXJMZW5ndGgsIEl0ZXJNb2RlLCBNb3VudGVkVHJlZSwgTm9kZVByb3AsIE5vZGVTZXQsIE5vZGVUeXBlLCBOb2RlV2Vha01hcCwgUGFyc2VyLCBUcmVlLCBUcmVlQnVmZmVyLCBUcmVlQ3Vyc29yLCBUcmVlRnJhZ21lbnQsIHBhcnNlTWl4ZWQgfTtcbiIsICJpbXBvcnQgeyBOb2RlUHJvcCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG5sZXQgbmV4dFRhZ0lEID0gMDtcbi8qKlxuSGlnaGxpZ2h0aW5nIHRhZ3MgYXJlIG1hcmtlcnMgdGhhdCBkZW5vdGUgYSBoaWdobGlnaHRpbmcgY2F0ZWdvcnkuXG5UaGV5IGFyZSBbYXNzb2NpYXRlZF0oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpIHdpdGggcGFydHMgb2YgYSBzeW50YXhcbnRyZWUgYnkgYSBsYW5ndWFnZSBtb2RlLCBhbmQgdGhlbiBtYXBwZWQgdG8gYW4gYWN0dWFsIENTUyBzdHlsZSBieVxuYSBbaGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpLlxuXG5CZWNhdXNlIHN5bnRheCB0cmVlIG5vZGUgdHlwZXMgYW5kIGhpZ2hsaWdodCBzdHlsZXMgaGF2ZSB0byBiZVxuYWJsZSB0byB0YWxrIHRoZSBzYW1lIGxhbmd1YWdlLCBDb2RlTWlycm9yIHVzZXMgYSBtb3N0bHkgX2Nsb3NlZF9cblt2b2NhYnVsYXJ5XSgjaGlnaGxpZ2h0LnRhZ3MpIG9mIHN5bnRheCB0YWdzIChhcyBvcHBvc2VkIHRvXG50cmFkaXRpb25hbCBvcGVuIHN0cmluZy1iYXNlZCBzeXN0ZW1zLCB3aGljaCBtYWtlIGl0IGhhcmQgZm9yXG5oaWdobGlnaHRpbmcgdGhlbWVzIHRvIGNvdmVyIGFsbCB0aGUgdG9rZW5zIHByb2R1Y2VkIGJ5IHRoZVxudmFyaW91cyBsYW5ndWFnZXMpLlxuXG5JdCBfaXNfIHBvc3NpYmxlIHRvIFtkZWZpbmVdKCNoaWdobGlnaHQuVGFnXmRlZmluZSkgeW91ciBvd25cbmhpZ2hsaWdodGluZyB0YWdzIGZvciBzeXN0ZW0taW50ZXJuYWwgdXNlICh3aGVyZSB5b3UgY29udHJvbCBib3RoXG50aGUgbGFuZ3VhZ2UgcGFja2FnZSBhbmQgdGhlIGhpZ2hsaWdodGVyKSwgYnV0IHN1Y2ggdGFncyB3aWxsIG5vdFxuYmUgcGlja2VkIHVwIGJ5IHJlZ3VsYXIgaGlnaGxpZ2h0ZXJzICh0aG91Z2ggeW91IGNhbiBkZXJpdmUgdGhlbVxuZnJvbSBzdGFuZGFyZCB0YWdzIHRvIGFsbG93IGhpZ2hsaWdodGVycyB0byBmYWxsIGJhY2sgdG8gdGhvc2UpLlxuKi9cbmNsYXNzIFRhZyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgb3B0aW9uYWwgbmFtZSBvZiB0aGUgYmFzZSB0YWcgQGludGVybmFsXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBUaGUgc2V0IG9mIHRoaXMgdGFnIGFuZCBhbGwgaXRzIHBhcmVudCB0YWdzLCBzdGFydGluZyB3aXRoXG4gICAgdGhpcyBvbmUgaXRzZWxmIGFuZCBzb3J0ZWQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZyBzcGVjaWZpY2l0eS5cbiAgICAqL1xuICAgIHNldCwgXG4gICAgLyoqXG4gICAgVGhlIGJhc2UgdW5tb2RpZmllZCB0YWcgdGhhdCB0aGlzIG9uZSBpcyBiYXNlZCBvbiwgaWYgaXQnc1xuICAgIG1vZGlmaWVkIEBpbnRlcm5hbFxuICAgICovXG4gICAgYmFzZSwgXG4gICAgLyoqXG4gICAgVGhlIG1vZGlmaWVycyBhcHBsaWVkIHRvIHRoaXMuYmFzZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1vZGlmaWVkKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbW9kaWZpZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRUYWdJRCsrO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHsgbmFtZSB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgbW9kIG9mIHRoaXMubW9kaWZpZWQpXG4gICAgICAgICAgICBpZiAobW9kLm5hbWUpXG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke21vZC5uYW1lfSgke25hbWV9KWA7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmaW5lKG5hbWVPclBhcmVudCwgcGFyZW50KSB7XG4gICAgICAgIGxldCBuYW1lID0gdHlwZW9mIG5hbWVPclBhcmVudCA9PSBcInN0cmluZ1wiID8gbmFtZU9yUGFyZW50IDogXCI/XCI7XG4gICAgICAgIGlmIChuYW1lT3JQYXJlbnQgaW5zdGFuY2VvZiBUYWcpXG4gICAgICAgICAgICBwYXJlbnQgPSBuYW1lT3JQYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuYmFzZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgZGVyaXZlIGZyb20gYSBtb2RpZmllZCB0YWdcIik7XG4gICAgICAgIGxldCB0YWcgPSBuZXcgVGFnKG5hbWUsIFtdLCBudWxsLCBbXSk7XG4gICAgICAgIHRhZy5zZXQucHVzaCh0YWcpO1xuICAgICAgICBpZiAocGFyZW50KVxuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiBwYXJlbnQuc2V0KVxuICAgICAgICAgICAgICAgIHRhZy5zZXQucHVzaCh0KTtcbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgdGFnIF9tb2RpZmllcl8sIHdoaWNoIGlzIGEgZnVuY3Rpb24gdGhhdCwgZ2l2ZW4gYSB0YWcsXG4gICAgd2lsbCByZXR1cm4gYSB0YWcgdGhhdCBpcyBhIHN1YnRhZyBvZiB0aGUgb3JpZ2luYWwuIEFwcGx5aW5nIHRoZVxuICAgIHNhbWUgbW9kaWZpZXIgdG8gYSB0d2ljZSB0YWcgd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUgKGBtMSh0MSlcbiAgICA9PSBtMSh0MSlgKSBhbmQgYXBwbHlpbmcgbXVsdGlwbGUgbW9kaWZpZXJzIHdpbGwsIHJlZ2FyZGxlc3Mgb3JcbiAgICBvcmRlciwgcHJvZHVjZSB0aGUgc2FtZSB0YWcgKGBtMShtMih0MSkpID09IG0yKG0xKHQxKSlgKS5cbiAgICBcbiAgICBXaGVuIG11bHRpcGxlIG1vZGlmaWVycyBhcmUgYXBwbGllZCB0byBhIGdpdmVuIGJhc2UgdGFnLCBlYWNoXG4gICAgc21hbGxlciBzZXQgb2YgbW9kaWZpZXJzIGlzIHJlZ2lzdGVyZWQgYXMgYSBwYXJlbnQsIHNvIHRoYXQgZm9yXG4gICAgZXhhbXBsZSBgbTEobTIobTModDEpKSlgIGlzIGEgc3VidHlwZSBvZiBgbTEobTIodDEpKWAsXG4gICAgYG0xKG0zKHQxKWAsIGFuZCBzbyBvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmVNb2RpZmllcihuYW1lKSB7XG4gICAgICAgIGxldCBtb2QgPSBuZXcgTW9kaWZpZXIobmFtZSk7XG4gICAgICAgIHJldHVybiAodGFnKSA9PiB7XG4gICAgICAgICAgICBpZiAodGFnLm1vZGlmaWVkLmluZGV4T2YobW9kKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiB0YWc7XG4gICAgICAgICAgICByZXR1cm4gTW9kaWZpZXIuZ2V0KHRhZy5iYXNlIHx8IHRhZywgdGFnLm1vZGlmaWVkLmNvbmNhdChtb2QpLnNvcnQoKGEsIGIpID0+IGEuaWQgLSBiLmlkKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxubGV0IG5leHRNb2RpZmllcklEID0gMDtcbmNsYXNzIE1vZGlmaWVyIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gW107XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0TW9kaWZpZXJJRCsrO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KGJhc2UsIG1vZHMpIHtcbiAgICAgICAgaWYgKCFtb2RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICBsZXQgZXhpc3RzID0gbW9kc1swXS5pbnN0YW5jZXMuZmluZCh0ID0+IHQuYmFzZSA9PSBiYXNlICYmIHNhbWVBcnJheShtb2RzLCB0Lm1vZGlmaWVkKSk7XG4gICAgICAgIGlmIChleGlzdHMpXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RzO1xuICAgICAgICBsZXQgc2V0ID0gW10sIHRhZyA9IG5ldyBUYWcoYmFzZS5uYW1lLCBzZXQsIGJhc2UsIG1vZHMpO1xuICAgICAgICBmb3IgKGxldCBtIG9mIG1vZHMpXG4gICAgICAgICAgICBtLmluc3RhbmNlcy5wdXNoKHRhZyk7XG4gICAgICAgIGxldCBjb25maWdzID0gcG93ZXJTZXQobW9kcyk7XG4gICAgICAgIGZvciAobGV0IHBhcmVudCBvZiBiYXNlLnNldClcbiAgICAgICAgICAgIGlmICghcGFyZW50Lm1vZGlmaWVkLmxlbmd0aClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb25maWcgb2YgY29uZmlncylcbiAgICAgICAgICAgICAgICAgICAgc2V0LnB1c2goTW9kaWZpZXIuZ2V0KHBhcmVudCwgY29uZmlnKSk7XG4gICAgICAgIHJldHVybiB0YWc7XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZUFycmF5KGEsIGIpIHtcbiAgICByZXR1cm4gYS5sZW5ndGggPT0gYi5sZW5ndGggJiYgYS5ldmVyeSgoeCwgaSkgPT4geCA9PSBiW2ldKTtcbn1cbmZ1bmN0aW9uIHBvd2VyU2V0KGFycmF5KSB7XG4gICAgbGV0IHNldHMgPSBbW11dO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGUgPSBzZXRzLmxlbmd0aDsgaiA8IGU7IGorKykge1xuICAgICAgICAgICAgc2V0cy5wdXNoKHNldHNbal0uY29uY2F0KGFycmF5W2ldKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldHMuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCk7XG59XG4vKipcblRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhZGQgYSBzZXQgb2YgdGFncyB0byBhIGxhbmd1YWdlIHN5bnRheFxudmlhIFtgTm9kZVNldC5leHRlbmRgXSgjY29tbW9uLk5vZGVTZXQuZXh0ZW5kKSBvclxuW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuTFJQYXJzZXIuY29uZmlndXJlKS5cblxuVGhlIGFyZ3VtZW50IG9iamVjdCBtYXBzIG5vZGUgc2VsZWN0b3JzIHRvIFtoaWdobGlnaHRpbmdcbnRhZ3NdKCNoaWdobGlnaHQuVGFnKSBvciBhcnJheXMgb2YgdGFncy5cblxuTm9kZSBzZWxlY3RvcnMgbWF5IGhvbGQgb25lIG9yIG1vcmUgKHNwYWNlLXNlcGFyYXRlZCkgbm9kZSBwYXRocy5cblN1Y2ggYSBwYXRoIGNhbiBiZSBhIFtub2RlIG5hbWVdKCNjb21tb24uTm9kZVR5cGUubmFtZSksIG9yXG5tdWx0aXBsZSBub2RlIG5hbWVzIChvciBgKmAgd2lsZGNhcmRzKSBzZXBhcmF0ZWQgYnkgc2xhc2hcbmNoYXJhY3RlcnMsIGFzIGluIGBcIkJsb2NrL0RlY2xhcmF0aW9uL1ZhcmlhYmxlTmFtZVwiYC4gU3VjaCBhIHBhdGhcbm1hdGNoZXMgdGhlIGZpbmFsIG5vZGUgYnV0IG9ubHkgaWYgaXRzIGRpcmVjdCBwYXJlbnQgbm9kZXMgYXJlIHRoZVxub3RoZXIgbm9kZXMgbWVudGlvbmVkLiBBIGAqYCBpbiBzdWNoIGEgcGF0aCBtYXRjaGVzIGFueSBwYXJlbnQsXG5idXQgb25seSBhIHNpbmdsZSBsZXZlbFx1MjAxNHdpbGRjYXJkcyB0aGF0IG1hdGNoIG11bHRpcGxlIHBhcmVudHNcbmFyZW4ndCBzdXBwb3J0ZWQsIGJvdGggZm9yIGVmZmljaWVuY3kgcmVhc29ucyBhbmQgYmVjYXVzZSBMZXplclxudHJlZXMgbWFrZSBpdCByYXRoZXIgaGFyZCB0byByZWFzb24gYWJvdXQgd2hhdCB0aGV5IHdvdWxkIG1hdGNoLilcblxuQSBwYXRoIGNhbiBiZSBlbmRlZCB3aXRoIGAvLi4uYCB0byBpbmRpY2F0ZSB0aGF0IHRoZSB0YWcgYXNzaWduZWRcbnRvIHRoZSBub2RlIHNob3VsZCBhbHNvIGFwcGx5IHRvIGFsbCBjaGlsZCBub2RlcywgZXZlbiBpZiB0aGV5XG5tYXRjaCB0aGVpciBvd24gc3R5bGUgKGJ5IGRlZmF1bHQsIG9ubHkgdGhlIGlubmVybW9zdCBzdHlsZSBpc1xudXNlZCkuXG5cbldoZW4gYSBwYXRoIGVuZHMgaW4gYCFgLCBhcyBpbiBgQXR0cmlidXRlIWAsIG5vIGZ1cnRoZXIgbWF0Y2hpbmdcbmhhcHBlbnMgZm9yIHRoZSBub2RlJ3MgY2hpbGQgbm9kZXMsIGFuZCB0aGUgZW50aXJlIG5vZGUgZ2V0cyB0aGVcbmdpdmVuIHN0eWxlLlxuXG5JbiB0aGlzIG5vdGF0aW9uLCBub2RlIG5hbWVzIHRoYXQgY29udGFpbiBgL2AsIGAhYCwgYCpgLCBvciBgLi4uYFxubXVzdCBiZSBxdW90ZWQgYXMgSlNPTiBzdHJpbmdzLlxuXG5Gb3IgZXhhbXBsZTpcblxuYGBgamF2YXNjcmlwdFxucGFyc2VyLmNvbmZpZ3VyZSh7cHJvcHM6IFtcbiAgc3R5bGVUYWdzKHtcbiAgICAvLyBTdHlsZSBOdW1iZXIgYW5kIEJpZ051bWJlciBub2Rlc1xuICAgIFwiTnVtYmVyIEJpZ051bWJlclwiOiB0YWdzLm51bWJlcixcbiAgICAvLyBTdHlsZSBFc2NhcGUgbm9kZXMgd2hvc2UgcGFyZW50IGlzIFN0cmluZ1xuICAgIFwiU3RyaW5nL0VzY2FwZVwiOiB0YWdzLmVzY2FwZSxcbiAgICAvLyBTdHlsZSBhbnl0aGluZyBpbnNpZGUgQXR0cmlidXRlcyBub2Rlc1xuICAgIFwiQXR0cmlidXRlcyFcIjogdGFncy5tZXRhLFxuICAgIC8vIEFkZCBhIHN0eWxlIHRvIGFsbCBjb250ZW50IGluc2lkZSBJdGFsaWMgbm9kZXNcbiAgICBcIkl0YWxpYy8uLi5cIjogdGFncy5lbXBoYXNpcyxcbiAgICAvLyBTdHlsZSBJbnZhbGlkU3RyaW5nIG5vZGVzIGFzIGJvdGggYHN0cmluZ2AgYW5kIGBpbnZhbGlkYFxuICAgIFwiSW52YWxpZFN0cmluZ1wiOiBbdGFncy5zdHJpbmcsIHRhZ3MuaW52YWxpZF0sXG4gICAgLy8gU3R5bGUgdGhlIG5vZGUgbmFtZWQgXCIvXCIgYXMgcHVuY3R1YXRpb25cbiAgICAnXCIvXCInOiB0YWdzLnB1bmN0dWF0aW9uXG4gIH0pXG5dfSlcbmBgYFxuKi9cbmZ1bmN0aW9uIHN0eWxlVGFncyhzcGVjKSB7XG4gICAgbGV0IGJ5TmFtZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzcGVjKSB7XG4gICAgICAgIGxldCB0YWdzID0gc3BlY1twcm9wXTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRhZ3MpKVxuICAgICAgICAgICAgdGFncyA9IFt0YWdzXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBwcm9wLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlcyA9IFtdLCBtb2RlID0gMiAvKiBNb2RlLk5vcm1hbCAqLywgcmVzdCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gMDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN0ID09IFwiLi4uXCIgJiYgcG9zID4gMCAmJiBwb3MgKyAzID09IHBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMSAvKiBNb2RlLkluaGVyaXQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgbSA9IC9eXCIoPzpbXlwiXFxcXF18XFxcXC4pKj9cInxbXlxcLyFdKy8uZXhlYyhyZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKG1bMF0gPT0gXCIqXCIgPyBcIlwiIDogbVswXVswXSA9PSAnXCInID8gSlNPTi5wYXJzZShtWzBdKSA6IG1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPT0gcGFydC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwYXJ0W3BvcysrXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA9PSBwYXJ0Lmxlbmd0aCAmJiBuZXh0ID09IFwiIVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMCAvKiBNb2RlLk9wYXF1ZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IFwiL1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3QgPSBwYXJ0LnNsaWNlKHBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gcGllY2VzLmxlbmd0aCAtIDEsIGlubmVyID0gcGllY2VzW2xhc3RdO1xuICAgICAgICAgICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgIGxldCBydWxlID0gbmV3IFJ1bGUodGFncywgbW9kZSwgbGFzdCA+IDAgPyBwaWVjZXMuc2xpY2UoMCwgbGFzdCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBieU5hbWVbaW5uZXJdID0gcnVsZS5zb3J0KGJ5TmFtZVtpbm5lcl0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZU5vZGVQcm9wLmFkZChieU5hbWUpO1xufVxuY29uc3QgcnVsZU5vZGVQcm9wID0gbmV3IE5vZGVQcm9wKHtcbiAgICBjb21iaW5lKGEsIGIpIHtcbiAgICAgICAgbGV0IGN1ciwgcm9vdCwgdGFrZTtcbiAgICAgICAgd2hpbGUgKGEgfHwgYikge1xuICAgICAgICAgICAgaWYgKCFhIHx8IGIgJiYgYS5kZXB0aCA+PSBiLmRlcHRoKSB7XG4gICAgICAgICAgICAgICAgdGFrZSA9IGI7XG4gICAgICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRha2UgPSBhO1xuICAgICAgICAgICAgICAgIGEgPSBhLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VyICYmIGN1ci5tb2RlID09IHRha2UubW9kZSAmJiAhdGFrZS5jb250ZXh0ICYmICFjdXIuY29udGV4dClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBjb3B5ID0gbmV3IFJ1bGUodGFrZS50YWdzLCB0YWtlLm1vZGUsIHRha2UuY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoY3VyKVxuICAgICAgICAgICAgICAgIGN1ci5uZXh0ID0gY29weTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByb290ID0gY29weTtcbiAgICAgICAgICAgIGN1ciA9IGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxufSk7XG5jbGFzcyBSdWxlIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdzLCBtb2RlLCBjb250ZXh0LCBuZXh0KSB7XG4gICAgICAgIHRoaXMudGFncyA9IHRhZ3M7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuICAgIGdldCBvcGFxdWUoKSB7IHJldHVybiB0aGlzLm1vZGUgPT0gMCAvKiBNb2RlLk9wYXF1ZSAqLzsgfVxuICAgIGdldCBpbmhlcml0KCkgeyByZXR1cm4gdGhpcy5tb2RlID09IDEgLyogTW9kZS5Jbmhlcml0ICovOyB9XG4gICAgc29ydChvdGhlcikge1xuICAgICAgICBpZiAoIW90aGVyIHx8IG90aGVyLmRlcHRoIDwgdGhpcy5kZXB0aCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gb3RoZXI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBvdGhlci5uZXh0ID0gdGhpcy5zb3J0KG90aGVyLm5leHQpO1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgfVxuICAgIGdldCBkZXB0aCgpIHsgcmV0dXJuIHRoaXMuY29udGV4dCA/IHRoaXMuY29udGV4dC5sZW5ndGggOiAwOyB9XG59XG5SdWxlLmVtcHR5ID0gbmV3IFJ1bGUoW10sIDIgLyogTW9kZS5Ob3JtYWwgKi8sIG51bGwpO1xuLyoqXG5EZWZpbmUgYSBbaGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpIGZyb20gYW4gYXJyYXkgb2ZcbnRhZy9jbGFzcyBwYWlycy4gQ2xhc3NlcyBhc3NvY2lhdGVkIHdpdGggbW9yZSBzcGVjaWZpYyB0YWdzIHdpbGxcbnRha2UgcHJlY2VkZW5jZS5cbiovXG5mdW5jdGlvbiB0YWdIaWdobGlnaHRlcih0YWdzLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgc3R5bGUgb2YgdGFncykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUudGFnKSlcbiAgICAgICAgICAgIG1hcFtzdHlsZS50YWcuaWRdID0gc3R5bGUuY2xhc3M7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiBzdHlsZS50YWcpXG4gICAgICAgICAgICAgICAgbWFwW3RhZy5pZF0gPSBzdHlsZS5jbGFzcztcbiAgICB9XG4gICAgbGV0IHsgc2NvcGUsIGFsbCA9IG51bGwgfSA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3R5bGU6ICh0YWdzKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xzID0gYWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWIgb2YgdGFnLnNldCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFnQ2xhc3MgPSBtYXBbc3ViLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgPSBjbHMgPyBjbHMgKyBcIiBcIiArIHRhZ0NsYXNzIDogdGFnQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhpZ2hsaWdodFRhZ3MoaGlnaGxpZ2h0ZXJzLCB0YWdzKSB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgZm9yIChsZXQgaGlnaGxpZ2h0ZXIgb2YgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGhpZ2hsaWdodGVyLnN0eWxlKHRhZ3MpO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPyByZXN1bHQgKyBcIiBcIiArIHZhbHVlIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkhpZ2hsaWdodCB0aGUgZ2l2ZW4gW3RyZWVdKCNjb21tb24uVHJlZSkgd2l0aCB0aGUgZ2l2ZW5cbltoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikuIE9mdGVuLCB0aGUgaGlnaGVyLWxldmVsXG5bYGhpZ2hsaWdodENvZGVgXSgjaGlnaGxpZ2h0LmhpZ2hsaWdodENvZGUpIGZ1bmN0aW9uIGlzIGVhc2llciB0b1xudXNlLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFRyZWUodHJlZSwgaGlnaGxpZ2h0ZXIsIFxuLyoqXG5Bc3NpZ24gc3R5bGluZyB0byBhIHJlZ2lvbiBvZiB0aGUgdGV4dC4gV2lsbCBiZSBjYWxsZWQsIGluIG9yZGVyXG5vZiBwb3NpdGlvbiwgZm9yIGFueSByYW5nZXMgd2hlcmUgbW9yZSB0aGFuIHplcm8gY2xhc3NlcyBhcHBseS5cbmBjbGFzc2VzYCBpcyBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2YgQ1NTIGNsYXNzZXMuXG4qL1xucHV0U3R5bGUsIFxuLyoqXG5UaGUgc3RhcnQgb2YgdGhlIHJhbmdlIHRvIGhpZ2hsaWdodC5cbiovXG5mcm9tID0gMCwgXG4vKipcblRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuKi9cbnRvID0gdHJlZS5sZW5ndGgpIHtcbiAgICBsZXQgYnVpbGRlciA9IG5ldyBIaWdobGlnaHRCdWlsZGVyKGZyb20sIEFycmF5LmlzQXJyYXkoaGlnaGxpZ2h0ZXIpID8gaGlnaGxpZ2h0ZXIgOiBbaGlnaGxpZ2h0ZXJdLCBwdXRTdHlsZSk7XG4gICAgYnVpbGRlci5oaWdobGlnaHRSYW5nZSh0cmVlLmN1cnNvcigpLCBmcm9tLCB0bywgXCJcIiwgYnVpbGRlci5oaWdobGlnaHRlcnMpO1xuICAgIGJ1aWxkZXIuZmx1c2godG8pO1xufVxuLyoqXG5IaWdobGlnaHQgdGhlIGdpdmVuIHRyZWUgd2l0aCB0aGUgZ2l2ZW4gaGlnaGxpZ2h0ZXIsIGNhbGxpbmdcbmBwdXRUZXh0YCBmb3IgZXZlcnkgcGllY2Ugb2YgdGV4dCwgZWl0aGVyIHdpdGggYSBzZXQgb2YgY2xhc3NlcyBvclxud2l0aCB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gdW5zdHlsZWQsIGFuZCBgcHV0QnJlYWtgIGZvciBldmVyeSBsaW5lXG5icmVhay5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRDb2RlKGNvZGUsIHRyZWUsIGhpZ2hsaWdodGVyLCBwdXRUZXh0LCBwdXRCcmVhaywgZnJvbSA9IDAsIHRvID0gY29kZS5sZW5ndGgpIHtcbiAgICBsZXQgcG9zID0gZnJvbTtcbiAgICBmdW5jdGlvbiB3cml0ZVRvKHAsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKHAgPD0gcG9zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCB0ZXh0ID0gY29kZS5zbGljZShwb3MsIHApLCBpID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dEJyZWFrID0gdGV4dC5pbmRleE9mKFwiXFxuXCIsIGkpO1xuICAgICAgICAgICAgbGV0IHVwdG8gPSBuZXh0QnJlYWsgPCAwID8gdGV4dC5sZW5ndGggOiBuZXh0QnJlYWs7XG4gICAgICAgICAgICBpZiAodXB0byA+IGkpXG4gICAgICAgICAgICAgICAgcHV0VGV4dCh0ZXh0LnNsaWNlKGksIHVwdG8pLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIGlmIChuZXh0QnJlYWsgPCAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcHV0QnJlYWsoKTtcbiAgICAgICAgICAgIGkgPSBuZXh0QnJlYWsgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IHA7XG4gICAgfVxuICAgIGhpZ2hsaWdodFRyZWUodHJlZSwgaGlnaGxpZ2h0ZXIsIChmcm9tLCB0bywgY2xhc3NlcykgPT4ge1xuICAgICAgICB3cml0ZVRvKGZyb20sIFwiXCIpO1xuICAgICAgICB3cml0ZVRvKHRvLCBjbGFzc2VzKTtcbiAgICB9LCBmcm9tLCB0byk7XG4gICAgd3JpdGVUbyh0bywgXCJcIik7XG59XG5jbGFzcyBIaWdobGlnaHRCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhdCwgaGlnaGxpZ2h0ZXJzLCBzcGFuKSB7XG4gICAgICAgIHRoaXMuYXQgPSBhdDtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRlcnMgPSBoaWdobGlnaHRlcnM7XG4gICAgICAgIHRoaXMuc3BhbiA9IHNwYW47XG4gICAgICAgIHRoaXMuY2xhc3MgPSBcIlwiO1xuICAgIH1cbiAgICBzdGFydFNwYW4oYXQsIGNscykge1xuICAgICAgICBpZiAoY2xzICE9IHRoaXMuY2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goYXQpO1xuICAgICAgICAgICAgaWYgKGF0ID4gdGhpcy5hdClcbiAgICAgICAgICAgICAgICB0aGlzLmF0ID0gYXQ7XG4gICAgICAgICAgICB0aGlzLmNsYXNzID0gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZsdXNoKHRvKSB7XG4gICAgICAgIGlmICh0byA+IHRoaXMuYXQgJiYgdGhpcy5jbGFzcylcbiAgICAgICAgICAgIHRoaXMuc3Bhbih0aGlzLmF0LCB0bywgdGhpcy5jbGFzcyk7XG4gICAgfVxuICAgIGhpZ2hsaWdodFJhbmdlKGN1cnNvciwgZnJvbSwgdG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpIHtcbiAgICAgICAgbGV0IHsgdHlwZSwgZnJvbTogc3RhcnQsIHRvOiBlbmQgfSA9IGN1cnNvcjtcbiAgICAgICAgaWYgKHN0YXJ0ID49IHRvIHx8IGVuZCA8PSBmcm9tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZS5pc1RvcClcbiAgICAgICAgICAgIGhpZ2hsaWdodGVycyA9IHRoaXMuaGlnaGxpZ2h0ZXJzLmZpbHRlcihoID0+ICFoLnNjb3BlIHx8IGguc2NvcGUodHlwZSkpO1xuICAgICAgICBsZXQgY2xzID0gaW5oZXJpdGVkQ2xhc3M7XG4gICAgICAgIGxldCBydWxlID0gZ2V0U3R5bGVUYWdzKGN1cnNvcikgfHwgUnVsZS5lbXB0eTtcbiAgICAgICAgbGV0IHRhZ0NscyA9IGhpZ2hsaWdodFRhZ3MoaGlnaGxpZ2h0ZXJzLCBydWxlLnRhZ3MpO1xuICAgICAgICBpZiAodGFnQ2xzKSB7XG4gICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgIGNscyArPSBcIiBcIjtcbiAgICAgICAgICAgIGNscyArPSB0YWdDbHM7XG4gICAgICAgICAgICBpZiAocnVsZS5tb2RlID09IDEgLyogTW9kZS5Jbmhlcml0ICovKVxuICAgICAgICAgICAgICAgIGluaGVyaXRlZENsYXNzICs9IChpbmhlcml0ZWRDbGFzcyA/IFwiIFwiIDogXCJcIikgKyB0YWdDbHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5tYXgoZnJvbSwgc3RhcnQpLCBjbHMpO1xuICAgICAgICBpZiAocnVsZS5vcGFxdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBtb3VudGVkID0gY3Vyc29yLnRyZWUgJiYgY3Vyc29yLnRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgaWYgKG1vdW50ZWQgJiYgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgaW5uZXIgPSBjdXJzb3Iubm9kZS5lbnRlcihtb3VudGVkLm92ZXJsYXlbMF0uZnJvbSArIHN0YXJ0LCAxKTtcbiAgICAgICAgICAgIGxldCBpbm5lckhpZ2hsaWdodGVycyA9IHRoaXMuaGlnaGxpZ2h0ZXJzLmZpbHRlcihoID0+ICFoLnNjb3BlIHx8IGguc2NvcGUobW91bnRlZC50cmVlLnR5cGUpKTtcbiAgICAgICAgICAgIGxldCBoYXNDaGlsZCA9IGN1cnNvci5maXJzdENoaWxkKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gc3RhcnQ7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGkgPCBtb3VudGVkLm92ZXJsYXkubGVuZ3RoID8gbW91bnRlZC5vdmVybGF5W2ldIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFBvcyA9IG5leHQgPyBuZXh0LmZyb20gKyBzdGFydCA6IGVuZDtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VGcm9tID0gTWF0aC5tYXgoZnJvbSwgcG9zKSwgcmFuZ2VUbyA9IE1hdGgubWluKHRvLCBuZXh0UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VGcm9tIDwgcmFuZ2VUbyAmJiBoYXNDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3Vyc29yLmZyb20gPCByYW5nZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgcmFuZ2VGcm9tLCByYW5nZVRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHJhbmdlVG8sIGN1cnNvci50byksIGNscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnRvID49IG5leHRQb3MgfHwgIWN1cnNvci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbmV4dCB8fCBuZXh0UG9zID4gdG8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcyA9IG5leHQudG8gKyBzdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGlubmVyLmN1cnNvcigpLCBNYXRoLm1heChmcm9tLCBuZXh0LmZyb20gKyBzdGFydCksIE1hdGgubWluKHRvLCBwb3MpLCBcIlwiLCBpbm5lckhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBwb3MpLCBjbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDaGlsZClcbiAgICAgICAgICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgaWYgKG1vdW50ZWQpXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPD0gZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvci5mcm9tID49IHRvKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgZnJvbSwgdG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBjdXJzb3IudG8pLCBjbHMpO1xuICAgICAgICAgICAgfSB3aGlsZSAoY3Vyc29yLm5leHRTaWJsaW5nKCkpO1xuICAgICAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5NYXRjaCBhIHN5bnRheCBub2RlJ3MgW2hpZ2hsaWdodCBydWxlc10oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpLiBJZlxudGhlcmUncyBhIG1hdGNoLCByZXR1cm4gaXRzIHNldCBvZiB0YWdzLCBhbmQgd2hldGhlciBpdCBpc1xub3BhcXVlICh1c2VzIGEgYCFgKSBvciBhcHBsaWVzIHRvIGFsbCBjaGlsZCBub2RlcyAoYC8uLi5gKS5cbiovXG5mdW5jdGlvbiBnZXRTdHlsZVRhZ3Mobm9kZSkge1xuICAgIGxldCBydWxlID0gbm9kZS50eXBlLnByb3AocnVsZU5vZGVQcm9wKTtcbiAgICB3aGlsZSAocnVsZSAmJiBydWxlLmNvbnRleHQgJiYgIW5vZGUubWF0Y2hDb250ZXh0KHJ1bGUuY29udGV4dCkpXG4gICAgICAgIHJ1bGUgPSBydWxlLm5leHQ7XG4gICAgcmV0dXJuIHJ1bGUgfHwgbnVsbDtcbn1cbmNvbnN0IHQgPSBUYWcuZGVmaW5lO1xuY29uc3QgY29tbWVudCA9IHQoKSwgbmFtZSA9IHQoKSwgdHlwZU5hbWUgPSB0KG5hbWUpLCBwcm9wZXJ0eU5hbWUgPSB0KG5hbWUpLCBsaXRlcmFsID0gdCgpLCBzdHJpbmcgPSB0KGxpdGVyYWwpLCBudW1iZXIgPSB0KGxpdGVyYWwpLCBjb250ZW50ID0gdCgpLCBoZWFkaW5nID0gdChjb250ZW50KSwga2V5d29yZCA9IHQoKSwgb3BlcmF0b3IgPSB0KCksIHB1bmN0dWF0aW9uID0gdCgpLCBicmFja2V0ID0gdChwdW5jdHVhdGlvbiksIG1ldGEgPSB0KCk7XG4vKipcblRoZSBkZWZhdWx0IHNldCBvZiBoaWdobGlnaHRpbmcgW3RhZ3NdKCNoaWdobGlnaHQuVGFnKS5cblxuVGhpcyBjb2xsZWN0aW9uIGlzIGhlYXZpbHkgYmlhc2VkIHRvd2FyZHMgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2VzLFxuYW5kIG5lY2Vzc2FyaWx5IGluY29tcGxldGUuIEEgZnVsbCBvbnRvbG9neSBvZiBzeW50YWN0aWNcbmNvbnN0cnVjdHMgd291bGQgZmlsbCBhIHN0YWNrIG9mIGJvb2tzLCBhbmQgYmUgaW1wcmFjdGljYWwgdG9cbndyaXRlIHRoZW1lcyBmb3IuIFNvIHRyeSB0byBtYWtlIGRvIHdpdGggdGhpcyBzZXQuIElmIGFsbCBlbHNlXG5mYWlscywgW29wZW4gYW5cbmlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9jb2RlbWlycm9yLm5leHQpIHRvIHByb3Bvc2UgYVxubmV3IHRhZywgb3IgW2RlZmluZV0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lKSBhIGxvY2FsIGN1c3RvbSB0YWcgZm9yXG55b3VyIHVzZSBjYXNlLlxuXG5Ob3RlIHRoYXQgaXQgaXMgbm90IG9ibGlnYXRvcnkgdG8gYWx3YXlzIGF0dGFjaCB0aGUgbW9zdCBzcGVjaWZpY1xudGFnIHBvc3NpYmxlIHRvIGFuIGVsZW1lbnRcdTIwMTRpZiB5b3VyIGdyYW1tYXIgY2FuJ3QgZWFzaWx5XG5kaXN0aW5ndWlzaCBhIGNlcnRhaW4gdHlwZSBvZiBlbGVtZW50IChzdWNoIGFzIGEgbG9jYWwgdmFyaWFibGUpLFxuaXQgaXMgb2theSB0byBzdHlsZSBpdCBhcyBpdHMgbW9yZSBnZW5lcmFsIHZhcmlhbnQgKGEgdmFyaWFibGUpLlxuXG5Gb3IgdGFncyB0aGF0IGV4dGVuZCBzb21lIHBhcmVudCB0YWcsIHRoZSBkb2N1bWVudGF0aW9uIGxpbmtzIHRvXG50aGUgcGFyZW50LlxuKi9cbmNvbnN0IHRhZ3MgPSB7XG4gICAgLyoqXG4gICAgQSBjb21tZW50LlxuICAgICovXG4gICAgY29tbWVudCxcbiAgICAvKipcbiAgICBBIGxpbmUgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGxpbmVDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8qKlxuICAgIEEgYmxvY2sgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGJsb2NrQ29tbWVudDogdChjb21tZW50KSxcbiAgICAvKipcbiAgICBBIGRvY3VtZW50YXRpb24gW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGRvY0NvbW1lbnQ6IHQoY29tbWVudCksXG4gICAgLyoqXG4gICAgQW55IGtpbmQgb2YgaWRlbnRpZmllci5cbiAgICAqL1xuICAgIG5hbWUsXG4gICAgLyoqXG4gICAgVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSB2YXJpYWJsZS5cbiAgICAqL1xuICAgIHZhcmlhYmxlTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIHR5cGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIHR5cGVOYW1lOiB0eXBlTmFtZSxcbiAgICAvKipcbiAgICBBIHRhZyBuYW1lIChzdWJ0YWcgb2YgW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSkpLlxuICAgICovXG4gICAgdGFnTmFtZTogdCh0eXBlTmFtZSksXG4gICAgLyoqXG4gICAgQSBwcm9wZXJ0eSBvciBmaWVsZCBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgLyoqXG4gICAgQW4gYXR0cmlidXRlIG5hbWUgKHN1YnRhZyBvZiBbYHByb3BlcnR5TmFtZWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpKS5cbiAgICAqL1xuICAgIGF0dHJpYnV0ZU5hbWU6IHQocHJvcGVydHlOYW1lKSxcbiAgICAvKipcbiAgICBUaGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSBvZiBhIGNsYXNzLlxuICAgICovXG4gICAgY2xhc3NOYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgbGFiZWwgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIGxhYmVsTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIG5hbWVzcGFjZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgbmFtZXNwYWNlOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgbWFjcm8uXG4gICAgKi9cbiAgICBtYWNyb05hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSBsaXRlcmFsIHZhbHVlLlxuICAgICovXG4gICAgbGl0ZXJhbCxcbiAgICAvKipcbiAgICBBIHN0cmluZyBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgc3RyaW5nLFxuICAgIC8qKlxuICAgIEEgZG9jdW1lbnRhdGlvbiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKS5cbiAgICAqL1xuICAgIGRvY1N0cmluZzogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgY2hhcmFjdGVyIGxpdGVyYWwgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBjaGFyYWN0ZXI6IHQoc3RyaW5nKSxcbiAgICAvKipcbiAgICBBbiBhdHRyaWJ1dGUgdmFsdWUgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBhdHRyaWJ1dGVWYWx1ZTogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgbnVtYmVyIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBudW1iZXIsXG4gICAgLyoqXG4gICAgQW4gaW50ZWdlciBbbnVtYmVyXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKSBsaXRlcmFsLlxuICAgICovXG4gICAgaW50ZWdlcjogdChudW1iZXIpLFxuICAgIC8qKlxuICAgIEEgZmxvYXRpbmctcG9pbnQgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICAqL1xuICAgIGZsb2F0OiB0KG51bWJlciksXG4gICAgLyoqXG4gICAgQSBib29sZWFuIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBib29sOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIFJlZ3VsYXIgZXhwcmVzc2lvbiBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgcmVnZXhwOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEFuIGVzY2FwZSBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLCBmb3IgZXhhbXBsZSBhXG4gICAgYmFja3NsYXNoIGVzY2FwZSBpbiBhIHN0cmluZy5cbiAgICAqL1xuICAgIGVzY2FwZTogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIGNvbG9yIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBjb2xvcjogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIFVSTCBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgdXJsOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2Uga2V5d29yZC5cbiAgICAqL1xuICAgIGtleXdvcmQsXG4gICAgLyoqXG4gICAgVGhlIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZm9yIHRoZSBzZWxmIG9yIHRoaXNcbiAgICBvYmplY3QuXG4gICAgKi9cbiAgICBzZWxmOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIFRoZSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGZvciBudWxsLlxuICAgICovXG4gICAgbnVsbDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZGVub3Rpbmcgc29tZSBhdG9taWMgdmFsdWUuXG4gICAgKi9cbiAgICBhdG9tOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IHJlcHJlc2VudHMgYSB1bml0LlxuICAgICovXG4gICAgdW5pdDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIG1vZGlmaWVyIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgKi9cbiAgICBtb2RpZmllcjogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCBhY3RzIGFzIGFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3JLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgY29udHJvbC1mbG93IHJlbGF0ZWQgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKS5cbiAgICAqL1xuICAgIGNvbnRyb2xLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgICovXG4gICAgZGVmaW5pdGlvbktleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHJlbGF0ZWQgdG8gZGVmaW5pbmcgb3JcbiAgICBpbnRlcmZhY2luZyB3aXRoIG1vZHVsZXMuXG4gICAgKi9cbiAgICBtb2R1bGVLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3IsXG4gICAgLyoqXG4gICAgQW4gW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVyZWZlcmVuY2VzIHNvbWV0aGluZy5cbiAgICAqL1xuICAgIGRlcmVmT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIEFyaXRobWV0aWMtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBhcml0aG1ldGljT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIExvZ2ljYWwgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgbG9naWNPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQml0IFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGJpdHdpc2VPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQ29tcGFyaXNvbiBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb21wYXJlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFtPcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IHVwZGF0ZXMgaXRzIG9wZXJhbmQuXG4gICAgKi9cbiAgICB1cGRhdGVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgW09wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVmaW5lcyBzb21ldGhpbmcuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFR5cGUtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICB0eXBlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIENvbnRyb2wtZmxvdyBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb250cm9sT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFByb2dyYW0gb3IgbWFya3VwIHB1bmN0dWF0aW9uLlxuICAgICovXG4gICAgcHVuY3R1YXRpb24sXG4gICAgLyoqXG4gICAgW1B1bmN0dWF0aW9uXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pIHRoYXQgc2VwYXJhdGVzXG4gICAgdGhpbmdzLlxuICAgICovXG4gICAgc2VwYXJhdG9yOiB0KHB1bmN0dWF0aW9uKSxcbiAgICAvKipcbiAgICBCcmFja2V0LXN0eWxlIFtwdW5jdHVhdGlvbl0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKS5cbiAgICAqL1xuICAgIGJyYWNrZXQsXG4gICAgLyoqXG4gICAgQW5nbGUgW2JyYWNrZXRzXSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkgKHVzdWFsbHkgYDxgIGFuZCBgPmBcbiAgICB0b2tlbnMpLlxuICAgICovXG4gICAgYW5nbGVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFNxdWFyZSBbYnJhY2tldHNdKCNoaWdobGlnaHQudGFncy5icmFja2V0KSAodXN1YWxseSBgW2AgYW5kIGBdYFxuICAgIHRva2VucykuXG4gICAgKi9cbiAgICBzcXVhcmVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFBhcmVudGhlc2VzICh1c3VhbGx5IGAoYCBhbmQgYClgIHRva2VucykuIFN1YnRhZyBvZlxuICAgIFticmFja2V0XSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkuXG4gICAgKi9cbiAgICBwYXJlbjogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBCcmFjZXMgKHVzdWFsbHkgYHtgIGFuZCBgfWAgdG9rZW5zKS4gU3VidGFnIG9mXG4gICAgW2JyYWNrZXRdKCNoaWdobGlnaHQudGFncy5icmFja2V0KS5cbiAgICAqL1xuICAgIGJyYWNlOiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIENvbnRlbnQsIGZvciBleGFtcGxlIHBsYWluIHRleHQgaW4gWE1MIG9yIG1hcmt1cCBkb2N1bWVudHMuXG4gICAgKi9cbiAgICBjb250ZW50LFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgaGVhZGluZy5cbiAgICAqL1xuICAgIGhlYWRpbmcsXG4gICAgLyoqXG4gICAgQSBsZXZlbCAxIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nMTogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDIgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmcyOiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgMyBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzM6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCA0IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nNDogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDUgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmc1OiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgNiBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzY6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBwcm9zZSBbY29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHNlcGFyYXRvciAoc3VjaCBhcyBhIGhvcml6b250YWwgcnVsZSkuXG4gICAgKi9cbiAgICBjb250ZW50U2VwYXJhdG9yOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgbGlzdC5cbiAgICAqL1xuICAgIGxpc3Q6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IHJlcHJlc2VudHMgYSBxdW90ZS5cbiAgICAqL1xuICAgIHF1b3RlOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBlbXBoYXNpemVkLlxuICAgICovXG4gICAgZW1waGFzaXM6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBzdHJvbmcuXG4gICAgKi9cbiAgICBzdHJvbmc6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHBhcnQgb2YgYSBsaW5rLlxuICAgICovXG4gICAgbGluazogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgc3R5bGVkIGFzIGNvZGUgb3JcbiAgICBtb25vc3BhY2UuXG4gICAgKi9cbiAgICBtb25vc3BhY2U6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGhhcyBhIHN0cmlrZS10aHJvdWdoXG4gICAgc3R5bGUuXG4gICAgKi9cbiAgICBzdHJpa2V0aHJvdWdoOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIEluc2VydGVkIHRleHQgaW4gYSBjaGFuZ2UtdHJhY2tpbmcgZm9ybWF0LlxuICAgICovXG4gICAgaW5zZXJ0ZWQ6IHQoKSxcbiAgICAvKipcbiAgICBEZWxldGVkIHRleHQuXG4gICAgKi9cbiAgICBkZWxldGVkOiB0KCksXG4gICAgLyoqXG4gICAgQ2hhbmdlZCB0ZXh0LlxuICAgICovXG4gICAgY2hhbmdlZDogdCgpLFxuICAgIC8qKlxuICAgIEFuIGludmFsaWQgb3IgdW5zeW50YWN0aWMgZWxlbWVudC5cbiAgICAqL1xuICAgIGludmFsaWQ6IHQoKSxcbiAgICAvKipcbiAgICBNZXRhZGF0YSBvciBtZXRhLWluc3RydWN0aW9uLlxuICAgICovXG4gICAgbWV0YSxcbiAgICAvKipcbiAgICBbTWV0YWRhdGFdKCNoaWdobGlnaHQudGFncy5tZXRhKSB0aGF0IGFwcGxpZXMgdG8gdGhlIGVudGlyZVxuICAgIGRvY3VtZW50LlxuICAgICovXG4gICAgZG9jdW1lbnRNZXRhOiB0KG1ldGEpLFxuICAgIC8qKlxuICAgIFtNZXRhZGF0YV0oI2hpZ2hsaWdodC50YWdzLm1ldGEpIHRoYXQgYW5ub3RhdGVzIG9yIGFkZHNcbiAgICBhdHRyaWJ1dGVzIHRvIGEgZ2l2ZW4gc3ludGFjdGljIGVsZW1lbnQuXG4gICAgKi9cbiAgICBhbm5vdGF0aW9uOiB0KG1ldGEpLFxuICAgIC8qKlxuICAgIFByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gb3IgcHJlcHJvY2Vzc29yIGRpcmVjdGl2ZS4gU3VidGFnIG9mXG4gICAgW21ldGFdKCNoaWdobGlnaHQudGFncy5tZXRhKS5cbiAgICAqL1xuICAgIHByb2Nlc3NpbmdJbnN0cnVjdGlvbjogdChtZXRhKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGluZGljYXRlcyB0aGF0IGFcbiAgICBnaXZlbiBlbGVtZW50IGlzIGJlaW5nIGRlZmluZWQuIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCB0aGVcbiAgICB2YXJpb3VzIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgdGFncy5cbiAgICAqL1xuICAgIGRlZmluaXRpb246IFRhZy5kZWZpbmVNb2RpZmllcihcImRlZmluaXRpb25cIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgdGhhdFxuICAgIHNvbWV0aGluZyBpcyBjb25zdGFudC4gTW9zdGx5IGV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aFxuICAgIFt2YXJpYWJsZSBuYW1lc10oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkuXG4gICAgKi9cbiAgICBjb25zdGFudDogVGFnLmRlZmluZU1vZGlmaWVyKFwiY29uc3RhbnRcIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdXNlZCB0byBpbmRpY2F0ZSB0aGF0XG4gICAgYSBbdmFyaWFibGVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIG9yIFtwcm9wZXJ0eVxuICAgIG5hbWVdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpIGlzIGJlaW5nIGNhbGxlZCBvciBkZWZpbmVkXG4gICAgYXMgYSBmdW5jdGlvbi5cbiAgICAqL1xuICAgIGZ1bmN0aW9uOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJmdW5jdGlvblwiKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvXG4gICAgW25hbWVzXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgdG8gaW5kaWNhdGUgdGhhdCB0aGV5IGJlbG9uZyB0b1xuICAgIHRoZSBsYW5ndWFnZSdzIHN0YW5kYXJkIGVudmlyb25tZW50LlxuICAgICovXG4gICAgc3RhbmRhcmQ6IFRhZy5kZWZpbmVNb2RpZmllcihcInN0YW5kYXJkXCIpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIGEgZ2l2ZW5cbiAgICBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSBpcyBsb2NhbCB0byBzb21lIHNjb3BlLlxuICAgICovXG4gICAgbG9jYWw6IFRhZy5kZWZpbmVNb2RpZmllcihcImxvY2FsXCIpLFxuICAgIC8qKlxuICAgIEEgZ2VuZXJpYyB2YXJpYW50IFttb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXRcbiAgICBjYW4gYmUgdXNlZCB0byB0YWcgbGFuZ3VhZ2Utc3BlY2lmaWMgYWx0ZXJuYXRpdmUgdmFyaWFudHMgb2ZcbiAgICBzb21lIGNvbW1vbiB0YWcuIEl0IGlzIHJlY29tbWVuZGVkIGZvciB0aGVtZXMgdG8gZGVmaW5lIHNwZWNpYWxcbiAgICBmb3JtcyBvZiBhdCBsZWFzdCB0aGUgW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykgYW5kXG4gICAgW3ZhcmlhYmxlIG5hbWVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIHRhZ3MsIHNpbmNlIHRob3NlXG4gICAgY29tZSB1cCBhIGxvdC5cbiAgICAqL1xuICAgIHNwZWNpYWw6IFRhZy5kZWZpbmVNb2RpZmllcihcInNwZWNpYWxcIilcbn07XG5mb3IgKGxldCBuYW1lIGluIHRhZ3MpIHtcbiAgICBsZXQgdmFsID0gdGFnc1tuYW1lXTtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgVGFnKVxuICAgICAgICB2YWwubmFtZSA9IG5hbWU7XG59XG4vKipcblRoaXMgaXMgYSBoaWdobGlnaHRlciB0aGF0IGFkZHMgc3RhYmxlLCBwcmVkaWN0YWJsZSBjbGFzc2VzIHRvXG50b2tlbnMsIGZvciBzdHlsaW5nIHdpdGggZXh0ZXJuYWwgQ1NTLlxuXG5UaGUgZm9sbG93aW5nIHRhZ3MgYXJlIG1hcHBlZCB0byB0aGVpciBuYW1lIHByZWZpeGVkIHdpdGggYFwidG9rLVwiYFxuKGZvciBleGFtcGxlIGBcInRvay1jb21tZW50XCJgKTpcblxuKiBbYGxpbmtgXSgjaGlnaGxpZ2h0LnRhZ3MubGluaylcbiogW2BoZWFkaW5nYF0oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpXG4qIFtgZW1waGFzaXNgXSgjaGlnaGxpZ2h0LnRhZ3MuZW1waGFzaXMpXG4qIFtgc3Ryb25nYF0oI2hpZ2hsaWdodC50YWdzLnN0cm9uZylcbiogW2BrZXl3b3JkYF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpXG4qIFtgYXRvbWBdKCNoaWdobGlnaHQudGFncy5hdG9tKVxuKiBbYGJvb2xgXSgjaGlnaGxpZ2h0LnRhZ3MuYm9vbClcbiogW2B1cmxgXSgjaGlnaGxpZ2h0LnRhZ3MudXJsKVxuKiBbYGxhYmVsTmFtZWBdKCNoaWdobGlnaHQudGFncy5sYWJlbE5hbWUpXG4qIFtgaW5zZXJ0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuaW5zZXJ0ZWQpXG4qIFtgZGVsZXRlZGBdKCNoaWdobGlnaHQudGFncy5kZWxldGVkKVxuKiBbYGxpdGVyYWxgXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbClcbiogW2BzdHJpbmdgXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKVxuKiBbYG51bWJlcmBdKCNoaWdobGlnaHQudGFncy5udW1iZXIpXG4qIFtgdmFyaWFibGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiogW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSlcbiogW2BuYW1lc3BhY2VgXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZXNwYWNlKVxuKiBbYGNsYXNzTmFtZWBdKCNoaWdobGlnaHQudGFncy5jbGFzc05hbWUpXG4qIFtgbWFjcm9OYW1lYF0oI2hpZ2hsaWdodC50YWdzLm1hY3JvTmFtZSlcbiogW2Bwcm9wZXJ0eU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKVxuKiBbYG9wZXJhdG9yYF0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKVxuKiBbYGNvbW1lbnRgXSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudClcbiogW2BtZXRhYF0oI2hpZ2hsaWdodC50YWdzLm1ldGEpXG4qIFtgcHVuY3R1YXRpb25gXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pXG4qIFtgaW52YWxpZGBdKCNoaWdobGlnaHQudGFncy5pbnZhbGlkKVxuXG5JbiBhZGRpdGlvbiwgdGhlc2UgbWFwcGluZ3MgYXJlIHByb3ZpZGVkOlxuXG4qIFtgcmVnZXhwYF0oI2hpZ2hsaWdodC50YWdzLnJlZ2V4cCksXG4gIFtgZXNjYXBlYF0oI2hpZ2hsaWdodC50YWdzLmVzY2FwZSksIGFuZFxuICBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYChzdHJpbmcpYF0oI2hpZ2hsaWdodC50YWdzLnN0cmluZylcbiAgYXJlIG1hcHBlZCB0byBgXCJ0b2stc3RyaW5nMlwiYFxuKiBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZTJcImBcbiogW2Bsb2NhbGBdKCNoaWdobGlnaHQudGFncy5sb2NhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stbG9jYWxcImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AodmFyaWFibGVOYW1lKWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4gIHRvIGBcInRvay12YXJpYWJsZU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AocHJvcGVydHlOYW1lKWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpXG4gIHRvIGBcInRvay1wcm9wZXJ0eU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiovXG5jb25zdCBjbGFzc0hpZ2hsaWdodGVyID0gdGFnSGlnaGxpZ2h0ZXIoW1xuICAgIHsgdGFnOiB0YWdzLmxpbmssIGNsYXNzOiBcInRvay1saW5rXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLCBjbGFzczogXCJ0b2staGVhZGluZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsIGNsYXNzOiBcInRvay1lbXBoYXNpc1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3Ryb25nLCBjbGFzczogXCJ0b2stc3Ryb25nXCIgfSxcbiAgICB7IHRhZzogdGFncy5rZXl3b3JkLCBjbGFzczogXCJ0b2sta2V5d29yZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuYXRvbSwgY2xhc3M6IFwidG9rLWF0b21cIiB9LFxuICAgIHsgdGFnOiB0YWdzLmJvb2wsIGNsYXNzOiBcInRvay1ib29sXCIgfSxcbiAgICB7IHRhZzogdGFncy51cmwsIGNsYXNzOiBcInRvay11cmxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxhYmVsTmFtZSwgY2xhc3M6IFwidG9rLWxhYmVsTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW5zZXJ0ZWQsIGNsYXNzOiBcInRvay1pbnNlcnRlZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVsZXRlZCwgY2xhc3M6IFwidG9rLWRlbGV0ZWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpdGVyYWwsIGNsYXNzOiBcInRvay1saXRlcmFsXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpbmcsIGNsYXNzOiBcInRvay1zdHJpbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm51bWJlciwgY2xhc3M6IFwidG9rLW51bWJlclwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnJlZ2V4cCwgdGFncy5lc2NhcGUsIHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLCBjbGFzczogXCJ0b2stc3RyaW5nMlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudmFyaWFibGVOYW1lLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUgdG9rLWxvY2FsXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUyXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSwgY2xhc3M6IFwidG9rLXByb3BlcnR5TmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudHlwZU5hbWUsIGNsYXNzOiBcInRvay10eXBlTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubmFtZXNwYWNlLCBjbGFzczogXCJ0b2stbmFtZXNwYWNlXCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsIGNsYXNzOiBcInRvay1jbGFzc05hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm1hY3JvTmFtZSwgY2xhc3M6IFwidG9rLW1hY3JvTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucHJvcGVydHlOYW1lLCBjbGFzczogXCJ0b2stcHJvcGVydHlOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5vcGVyYXRvciwgY2xhc3M6IFwidG9rLW9wZXJhdG9yXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LCBjbGFzczogXCJ0b2stY29tbWVudFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubWV0YSwgY2xhc3M6IFwidG9rLW1ldGFcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmludmFsaWQsIGNsYXNzOiBcInRvay1pbnZhbGlkXCIgfSxcbiAgICB7IHRhZzogdGFncy5wdW5jdHVhdGlvbiwgY2xhc3M6IFwidG9rLXB1bmN0dWF0aW9uXCIgfVxuXSk7XG5cbmV4cG9ydCB7IFRhZywgY2xhc3NIaWdobGlnaHRlciwgZ2V0U3R5bGVUYWdzLCBoaWdobGlnaHRDb2RlLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCB0YWdzIH07XG4iLCAiaW1wb3J0IHsgUGFyc2VyLCBOb2RlUHJvcCwgTm9kZVNldCwgTm9kZVR5cGUsIERlZmF1bHRCdWZmZXJMZW5ndGgsIFRyZWUsIEl0ZXJNb2RlIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbi8qKlxuQSBwYXJzZSBzdGFjay4gVGhlc2UgYXJlIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcGFyc2VyIHRvIHRyYWNrXG5wYXJzaW5nIHByb2dyZXNzLiBUaGV5IGFsc28gcHJvdmlkZSBzb21lIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcbnRoYXQgZXh0ZXJuYWwgY29kZSBzdWNoIGFzIGEgdG9rZW5pemVyIGNhbiB1c2UgdG8gZ2V0IGluZm9ybWF0aW9uXG5hYm91dCB0aGUgcGFyc2Ugc3RhdGUuXG4qL1xuY2xhc3MgU3RhY2sge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHBhcnNlIHRoYXQgdGhpcyBzdGFjayBpcyBwYXJ0IG9mIEBpbnRlcm5hbFxuICAgICovXG4gICAgcCwgXG4gICAgLyoqXG4gICAgSG9sZHMgc3RhdGUsIGlucHV0IHBvcywgYnVmZmVyIGluZGV4IHRyaXBsZXRzIGZvciBhbGwgYnV0IHRoZVxuICAgIHRvcCBzdGF0ZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YWNrLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBwYXJzZSBzdGF0ZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvLyBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIG5leHQgcmVkdWNlIHNob3VsZCB0YWtlIHBsYWNlLiBUaGlzXG4gICAgLy8gY2FuIGJlIGxlc3MgdGhhbiBgdGhpcy5wb3NgIHdoZW4gc2tpcHBlZCBleHByZXNzaW9ucyBoYXZlIGJlZW5cbiAgICAvLyBhZGRlZCB0byB0aGUgc3RhY2sgKHdoaWNoIHNob3VsZCBiZSBtb3ZlZCBvdXRzaWRlIG9mIHRoZSBuZXh0XG4gICAgLy8gcmVkdWN0aW9uKVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVkdWNlUG9zLCBcbiAgICAvKipcbiAgICBUaGUgaW5wdXQgcG9zaXRpb24gdXAgdG8gd2hpY2ggdGhpcyBzdGFjayBoYXMgcGFyc2VkLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBUaGUgZHluYW1pYyBzY29yZSBvZiB0aGUgc3RhY2ssIGluY2x1ZGluZyBkeW5hbWljIHByZWNlZGVuY2VcbiAgICBhbmQgZXJyb3ItcmVjb3ZlcnkgcGVuYWx0aWVzXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzY29yZSwgXG4gICAgLy8gVGhlIG91dHB1dCBidWZmZXIuIEhvbGRzICh0eXBlLCBzdGFydCwgZW5kLCBzaXplKSBxdWFkc1xuICAgIC8vIHJlcHJlc2VudGluZyBub2RlcyBjcmVhdGVkIGJ5IHRoZSBwYXJzZXIsIHdoZXJlIGBzaXplYCBpc1xuICAgIC8vIGFtb3VudCBvZiBidWZmZXIgYXJyYXkgZW50cmllcyBjb3ZlcmVkIGJ5IHRoaXMgbm9kZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGJ1ZmZlciwgXG4gICAgLy8gVGhlIGJhc2Ugb2Zmc2V0IG9mIHRoZSBidWZmZXIuIFdoZW4gc3RhY2tzIGFyZSBzcGxpdCwgdGhlIHNwbGl0XG4gICAgLy8gaW5zdGFuY2Ugc2hhcmVkIHRoZSBidWZmZXIgaGlzdG9yeSB3aXRoIGl0cyBwYXJlbnQgdXAgdG9cbiAgICAvLyBgYnVmZmVyQmFzZWAsIHdoaWNoIGlzIHRoZSBhYnNvbHV0ZSBvZmZzZXQgKGluY2x1ZGluZyB0aGVcbiAgICAvLyBvZmZzZXQgb2YgcHJldmlvdXMgc3BsaXRzKSBpbnRvIHRoZSBidWZmZXIgYXQgd2hpY2ggdGhpcyBzdGFja1xuICAgIC8vIHN0YXJ0cyB3cml0aW5nLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYnVmZmVyQmFzZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjdXJDb250ZXh0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGxvb2tBaGVhZCA9IDAsIFxuICAgIC8vIEEgcGFyZW50IHN0YWNrIGZyb20gd2hpY2ggdGhpcyB3YXMgc3BsaXQgb2ZmLCBpZiBhbnkuIFRoaXMgaXNcbiAgICAvLyBzZXQgdXAgc28gdGhhdCBpdCBhbHdheXMgcG9pbnRzIHRvIGEgc3RhY2sgdGhhdCBoYXMgc29tZVxuICAgIC8vIGFkZGl0aW9uYWwgYnVmZmVyIGNvbnRlbnQsIG5ldmVyIHRvIGEgc3RhY2sgd2l0aCBhbiBlcXVhbFxuICAgIC8vIGBidWZmZXJCYXNlYC5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHBhcmVudCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSByZWR1Y2VQb3M7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmJ1ZmZlckJhc2UgPSBidWZmZXJCYXNlO1xuICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBjdXJDb250ZXh0O1xuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IGxvb2tBaGVhZDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgWyR7dGhpcy5zdGFjay5maWx0ZXIoKF8sIGkpID0+IGkgJSAzID09IDApLmNvbmNhdCh0aGlzLnN0YXRlKX1dQCR7dGhpcy5wb3N9JHt0aGlzLnNjb3JlID8gXCIhXCIgKyB0aGlzLnNjb3JlIDogXCJcIn1gO1xuICAgIH1cbiAgICAvLyBTdGFydCBhbiBlbXB0eSBzdGFja1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIHN0YXJ0KHAsIHN0YXRlLCBwb3MgPSAwKSB7XG4gICAgICAgIGxldCBjeCA9IHAucGFyc2VyLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2socCwgW10sIHN0YXRlLCBwb3MsIHBvcywgMCwgW10sIDAsIGN4ID8gbmV3IFN0YWNrQ29udGV4dChjeCwgY3guc3RhcnQpIDogbnVsbCwgMCwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzdGFjaydzIGN1cnJlbnQgW2NvbnRleHRdKCNsci5Db250ZXh0VHJhY2tlcikgdmFsdWUsIGlmXG4gICAgYW55LiBJdHMgdHlwZSB3aWxsIGRlcGVuZCBvbiB0aGUgY29udGV4dCB0cmFja2VyJ3MgdHlwZVxuICAgIHBhcmFtZXRlciwgb3IgaXQgd2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gY29udGV4dFxuICAgIHRyYWNrZXIuXG4gICAgKi9cbiAgICBnZXQgY29udGV4dCgpIHsgcmV0dXJuIHRoaXMuY3VyQ29udGV4dCA/IHRoaXMuY3VyQ29udGV4dC5jb250ZXh0IDogbnVsbDsgfVxuICAgIC8vIFB1c2ggYSBzdGF0ZSBvbnRvIHRoZSBzdGFjaywgdHJhY2tpbmcgaXRzIHN0YXJ0IHBvc2l0aW9uIGFzIHdlbGxcbiAgICAvLyBhcyB0aGUgYnVmZmVyIGJhc2UgYXQgdGhhdCBwb2ludC5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHB1c2hTdGF0ZShzdGF0ZSwgc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHRoaXMuc3RhdGUsIHN0YXJ0LCB0aGlzLmJ1ZmZlckJhc2UgKyB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIC8vIEFwcGx5IGEgcmVkdWNlIGFjdGlvblxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVkdWNlKGFjdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBkZXB0aCA9IGFjdGlvbiA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLywgdHlwZSA9IGFjdGlvbiAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi87XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICBsZXQgbG9va2FoZWFkUmVjb3JkID0gdGhpcy5yZWR1Y2VQb3MgPCB0aGlzLnBvcyAtIDI1IC8qIExvb2thaGVhZC5NYXJnaW4gKi8gJiYgdGhpcy5zZXRMb29rQWhlYWQodGhpcy5wb3MpO1xuICAgICAgICBsZXQgZFByZWMgPSBwYXJzZXIuZHluYW1pY1ByZWNlZGVuY2UodHlwZSk7XG4gICAgICAgIGlmIChkUHJlYylcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgKz0gZFByZWM7XG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShwYXJzZXIuZ2V0R290byh0aGlzLnN0YXRlLCB0eXBlLCB0cnVlKSwgdGhpcy5yZWR1Y2VQb3MpO1xuICAgICAgICAgICAgLy8gWmVyby1kZXB0aCByZWR1Y3Rpb25zIGFyZSBhIHNwZWNpYWwgY2FzZVx1MjAxNHRoZXkgYWRkIHN0dWZmIHRvXG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgd2l0aG91dCBwb3BwaW5nIGFueXRoaW5nIG9mZi5cbiAgICAgICAgICAgIGlmICh0eXBlIDwgcGFyc2VyLm1pblJlcGVhdFRlcm0pXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUodHlwZSwgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucmVkdWNlUG9zLCBsb29rYWhlYWRSZWNvcmQgPyA4IDogNCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlZHVjZUNvbnRleHQodHlwZSwgdGhpcy5yZWR1Y2VQb3MpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgdGhlIGJhc2UgaW5kZXggaW50byBgdGhpcy5zdGFja2AsIGNvbnRlbnQgYWZ0ZXIgd2hpY2ggd2lsbFxuICAgICAgICAvLyBiZSBkcm9wcGVkLiBOb3RlIHRoYXQgd2l0aCBgU3RheUZsYWdgIHJlZHVjdGlvbnMgd2UgbmVlZCB0b1xuICAgICAgICAvLyBjb25zdW1lIHR3byBleHRyYSBmcmFtZXMgKHRoZSBkdW1teSBwYXJlbnQgbm9kZSBmb3IgdGhlIHNraXBwZWRcbiAgICAgICAgLy8gZXhwcmVzc2lvbiBhbmQgdGhlIHN0YXRlIHRoYXQgd2UnbGwgYmUgc3RheWluZyBpbiwgd2hpY2ggc2hvdWxkXG4gICAgICAgIC8vIGJlIG1vdmVkIHRvIGB0aGlzLnN0YXRlYCkuXG4gICAgICAgIGxldCBiYXNlID0gdGhpcy5zdGFjay5sZW5ndGggLSAoKGRlcHRoIC0gMSkgKiAzKSAtIChhY3Rpb24gJiAyNjIxNDQgLyogQWN0aW9uLlN0YXlGbGFnICovID8gNiA6IDApO1xuICAgICAgICBsZXQgc3RhcnQgPSBiYXNlID8gdGhpcy5zdGFja1tiYXNlIC0gMl0gOiB0aGlzLnAucmFuZ2VzWzBdLmZyb20sIHNpemUgPSB0aGlzLnJlZHVjZVBvcyAtIHN0YXJ0O1xuICAgICAgICAvLyBUaGlzIGlzIGEga2x1ZGdlIHRvIHRyeSBhbmQgZGV0ZWN0IG92ZXJseSBkZWVwIGxlZnQtYXNzb2NpYXRpdmVcbiAgICAgICAgLy8gdHJlZXMsIHdoaWNoIHdpbGwgbm90IGluY3JlYXNlIHRoZSBwYXJzZSBzdGFjayBkZXB0aCBhbmQgdGh1c1xuICAgICAgICAvLyB3b24ndCBiZSBjYXVnaHQgYnkgdGhlIHJlZ3VsYXIgc3RhY2stZGVwdGggbGltaXQgY2hlY2suXG4gICAgICAgIGlmIChzaXplID49IDIwMDAgLyogUmVjb3Zlci5NaW5CaWdSZWR1Y3Rpb24gKi8gJiYgISgoX2EgPSB0aGlzLnAucGFyc2VyLm5vZGVTZXQudHlwZXNbdHlwZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0Fub255bW91cykpIHtcbiAgICAgICAgICAgIGlmIChzdGFydCA9PSB0aGlzLnAubGFzdEJpZ1JlZHVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wLmJpZ1JlZHVjdGlvbkNvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5wLmxhc3RCaWdSZWR1Y3Rpb25TaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucC5sYXN0QmlnUmVkdWN0aW9uU2l6ZSA8IHNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnAuYmlnUmVkdWN0aW9uQ291bnQgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMucC5sYXN0QmlnUmVkdWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLnAubGFzdEJpZ1JlZHVjdGlvblNpemUgPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBidWZmZXJCYXNlID0gYmFzZSA/IHRoaXMuc3RhY2tbYmFzZSAtIDFdIDogMCwgY291bnQgPSB0aGlzLmJ1ZmZlckJhc2UgKyB0aGlzLmJ1ZmZlci5sZW5ndGggLSBidWZmZXJCYXNlO1xuICAgICAgICAvLyBTdG9yZSBub3JtYWwgdGVybXMgb3IgYFIgLT4gUiBSYCByZXBlYXQgcmVkdWN0aW9uc1xuICAgICAgICBpZiAodHlwZSA8IHBhcnNlci5taW5SZXBlYXRUZXJtIHx8IChhY3Rpb24gJiAxMzEwNzIgLyogQWN0aW9uLlJlcGVhdEZsYWcgKi8pKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gcGFyc2VyLnN0YXRlRmxhZyh0aGlzLnN0YXRlLCAxIC8qIFN0YXRlRmxhZy5Ta2lwcGVkICovKSA/IHRoaXMucG9zIDogdGhpcy5yZWR1Y2VQb3M7XG4gICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSh0eXBlLCBzdGFydCwgcG9zLCBjb3VudCArIDQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb24gJiAyNjIxNDQgLyogQWN0aW9uLlN0YXlGbGFnICovKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFja1tiYXNlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBiYXNlU3RhdGVJRCA9IHRoaXMuc3RhY2tbYmFzZSAtIDNdO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHBhcnNlci5nZXRHb3RvKGJhc2VTdGF0ZUlELCB0eXBlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5zdGFjay5sZW5ndGggPiBiYXNlKVxuICAgICAgICAgICAgdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5yZWR1Y2VDb250ZXh0KHR5cGUsIHN0YXJ0KTtcbiAgICB9XG4gICAgLy8gU2hpZnQgYSB2YWx1ZSBpbnRvIHRoZSBidWZmZXJcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0b3JlTm9kZSh0ZXJtLCBzdGFydCwgZW5kLCBzaXplID0gNCwgbXVzdFNpbmsgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGVybSA9PSAwIC8qIFRlcm0uRXJyICovICYmXG4gICAgICAgICAgICAoIXRoaXMuc3RhY2subGVuZ3RoIHx8IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXSA8IHRoaXMuYnVmZmVyLmxlbmd0aCArIHRoaXMuYnVmZmVyQmFzZSkpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBvbWl0L21lcmdlIGFkamFjZW50IGVycm9yIG5vZGVzXG4gICAgICAgICAgICBsZXQgY3VyID0gdGhpcywgdG9wID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRvcCA9PSAwICYmIGN1ci5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0b3AgPSBjdXIuYnVmZmVyQmFzZSAtIGN1ci5wYXJlbnQuYnVmZmVyQmFzZTtcbiAgICAgICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvcCA+IDAgJiYgY3VyLmJ1ZmZlclt0b3AgLSA0XSA9PSAwIC8qIFRlcm0uRXJyICovICYmIGN1ci5idWZmZXJbdG9wIC0gMV0gPiAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PSBlbmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoY3VyLmJ1ZmZlclt0b3AgLSAyXSA+PSBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjdXIuYnVmZmVyW3RvcCAtIDJdID0gZW5kO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbXVzdFNpbmsgfHwgdGhpcy5wb3MgPT0gZW5kKSB7IC8vIFNpbXBsZSBjYXNlLCBqdXN0IGFwcGVuZFxuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0ZXJtLCBzdGFydCwgZW5kLCBzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gVGhlcmUgbWF5IGJlIHNraXBwZWQgbm9kZXMgdGhhdCBoYXZlIHRvIGJlIG1vdmVkIGZvcndhcmRcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDAgJiYgKHRoaXMuYnVmZmVyW2luZGV4IC0gNF0gIT0gMCAvKiBUZXJtLkVyciAqLyB8fCB0aGlzLmJ1ZmZlcltpbmRleCAtIDFdIDwgMCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbXVzdE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzY2FuID0gaW5kZXg7IHNjYW4gPiAwICYmIHRoaXMuYnVmZmVyW3NjYW4gLSAyXSA+IGVuZDsgc2NhbiAtPSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcltzY2FuIC0gMV0gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG11c3RNb3ZlKVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPiAwICYmIHRoaXMuYnVmZmVyW2luZGV4IC0gMl0gPiBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhpcyByZWNvcmQgZm9yd2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXhdID0gdGhpcy5idWZmZXJbaW5kZXggLSA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgMV0gPSB0aGlzLmJ1ZmZlcltpbmRleCAtIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAyXSA9IHRoaXMuYnVmZmVyW2luZGV4IC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDNdID0gdGhpcy5idWZmZXJbaW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4IC09IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSA+IDQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSAtPSA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleF0gPSB0ZXJtO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAxXSA9IHN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAyXSA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgM10gPSBzaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFwcGx5IGEgc2hpZnQgYWN0aW9uXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzaGlmdChhY3Rpb24sIHR5cGUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKGFjdGlvbiAmIDEzMTA3MiAvKiBBY3Rpb24uR290b0ZsYWcgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKGFjdGlvbiAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi8sIHRoaXMucG9zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYWN0aW9uICYgMjYyMTQ0IC8qIEFjdGlvbi5TdGF5RmxhZyAqLykgPT0gMCkgeyAvLyBSZWd1bGFyIHNoaWZ0XG4gICAgICAgICAgICBsZXQgbmV4dFN0YXRlID0gYWN0aW9uLCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgICAgICBsZXQgc2tpcHBlZCA9IHBhcnNlci5zdGF0ZUZsYWcobmV4dFN0YXRlLCAxIC8qIFN0YXRlRmxhZy5Ta2lwcGVkICovKTtcbiAgICAgICAgICAgIC8vIFNraXBwZWQgb3IgemVyby1sZW5ndGggbm9uLXRyZWUgdG9rZW5zIGRvbid0IG1vdmUgcmVkdWNlUG9zXG4gICAgICAgICAgICBpZiAoIXNraXBwZWQgJiYgKGVuZCA+IHN0YXJ0IHx8IHR5cGUgPD0gcGFyc2VyLm1heE5vZGUpKVxuICAgICAgICAgICAgICAgIHRoaXMucmVkdWNlUG9zID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUobmV4dFN0YXRlLCBza2lwcGVkID8gc3RhcnQgOiBNYXRoLm1pbihzdGFydCwgdGhpcy5yZWR1Y2VQb3MpKTtcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDb250ZXh0KHR5cGUsIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0eXBlIDw9IHBhcnNlci5tYXhOb2RlKVxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godHlwZSwgc3RhcnQsIGVuZCwgNCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIFNoaWZ0LWFuZC1zdGF5LCB3aGljaCBtZWFucyB0aGlzIGlzIGEgc2tpcHBlZCB0b2tlblxuICAgICAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q29udGV4dCh0eXBlLCBzdGFydCk7XG4gICAgICAgICAgICBpZiAodHlwZSA8PSB0aGlzLnAucGFyc2VyLm1heE5vZGUpXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0eXBlLCBzdGFydCwgZW5kLCA0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBcHBseSBhbiBhY3Rpb25cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFwcGx5KGFjdGlvbiwgbmV4dCwgbmV4dFN0YXJ0LCBuZXh0RW5kKSB7XG4gICAgICAgIGlmIChhY3Rpb24gJiA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLylcbiAgICAgICAgICAgIHRoaXMucmVkdWNlKGFjdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc2hpZnQoYWN0aW9uLCBuZXh0LCBuZXh0U3RhcnQsIG5leHRFbmQpO1xuICAgIH1cbiAgICAvLyBBZGQgYSBwcmVidWlsdCAocmV1c2VkKSBub2RlIGludG8gdGhlIGJ1ZmZlci5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHVzZU5vZGUodmFsdWUsIG5leHQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wLnJldXNlZC5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMucC5yZXVzZWRbaW5kZXhdICE9IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnAucmV1c2VkLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSB0aGlzLnBvcyA9IHN0YXJ0ICsgdmFsdWUubGVuZ3RoO1xuICAgICAgICB0aGlzLnB1c2hTdGF0ZShuZXh0LCBzdGFydCk7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goaW5kZXgsIHN0YXJ0LCB0aGlzLnJlZHVjZVBvcywgLTEgLyogc2l6ZSA9PSAtMSBtZWFucyB0aGlzIGlzIGEgcmV1c2VkIHZhbHVlICovKTtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlci5yZXVzZSh0aGlzLmN1ckNvbnRleHQuY29udGV4dCwgdmFsdWUsIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQodGhpcy5wb3MgLSB2YWx1ZS5sZW5ndGgpKSk7XG4gICAgfVxuICAgIC8vIFNwbGl0IHRoZSBzdGFjay4gRHVlIHRvIHRoZSBidWZmZXIgc2hhcmluZyBhbmQgdGhlIGZhY3RcbiAgICAvLyB0aGF0IGB0aGlzLnN0YWNrYCB0ZW5kcyB0byBzdGF5IHF1aXRlIHNoYWxsb3csIHRoaXMgaXNuJ3QgdmVyeVxuICAgIC8vIGV4cGVuc2l2ZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNwbGl0KCkge1xuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcztcbiAgICAgICAgbGV0IG9mZiA9IHBhcmVudC5idWZmZXIubGVuZ3RoO1xuICAgICAgICAvLyBCZWNhdXNlIHRoZSB0b3Agb2YgdGhlIGJ1ZmZlciAoYWZ0ZXIgdGhpcy5wb3MpIG1heSBiZSBtdXRhdGVkXG4gICAgICAgIC8vIHRvIHJlb3JkZXIgcmVkdWN0aW9ucyBhbmQgc2tpcHBlZCB0b2tlbnMsIGFuZCBzaGFyZWQgYnVmZmVyc1xuICAgICAgICAvLyBzaG91bGQgYmUgaW1tdXRhYmxlLCB0aGlzIGNvcGllcyBhbnkgb3V0c3RhbmRpbmcgc2tpcHBlZCB0b2tlbnNcbiAgICAgICAgLy8gdG8gdGhlIG5ldyBidWZmZXIsIGFuZCBwdXRzIHRoZSBiYXNlIHBvaW50ZXIgYmVmb3JlIHRoZW0uXG4gICAgICAgIHdoaWxlIChvZmYgPiAwICYmIHBhcmVudC5idWZmZXJbb2ZmIC0gMl0gPiBwYXJlbnQucmVkdWNlUG9zKVxuICAgICAgICAgICAgb2ZmIC09IDQ7XG4gICAgICAgIGxldCBidWZmZXIgPSBwYXJlbnQuYnVmZmVyLnNsaWNlKG9mZiksIGJhc2UgPSBwYXJlbnQuYnVmZmVyQmFzZSArIG9mZjtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHBhcmVudCBwb2ludHMgdG8gYW4gYWN0dWFsIHBhcmVudCB3aXRoIGNvbnRlbnQsIGlmIHRoZXJlIGlzIHN1Y2ggYSBwYXJlbnQuXG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgYmFzZSA9PSBwYXJlbnQuYnVmZmVyQmFzZSlcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2sodGhpcy5wLCB0aGlzLnN0YWNrLnNsaWNlKCksIHRoaXMuc3RhdGUsIHRoaXMucmVkdWNlUG9zLCB0aGlzLnBvcywgdGhpcy5zY29yZSwgYnVmZmVyLCBiYXNlLCB0aGlzLmN1ckNvbnRleHQsIHRoaXMubG9va0FoZWFkLCBwYXJlbnQpO1xuICAgIH1cbiAgICAvLyBUcnkgdG8gcmVjb3ZlciBmcm9tIGFuIGVycm9yIGJ5ICdkZWxldGluZycgKGlnbm9yaW5nKSBvbmUgdG9rZW4uXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWNvdmVyQnlEZWxldGUobmV4dCwgbmV4dEVuZCkge1xuICAgICAgICBsZXQgaXNOb2RlID0gbmV4dCA8PSB0aGlzLnAucGFyc2VyLm1heE5vZGU7XG4gICAgICAgIGlmIChpc05vZGUpXG4gICAgICAgICAgICB0aGlzLnN0b3JlTm9kZShuZXh0LCB0aGlzLnBvcywgbmV4dEVuZCwgNCk7XG4gICAgICAgIHRoaXMuc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHRoaXMucG9zLCBuZXh0RW5kLCBpc05vZGUgPyA4IDogNCk7XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5yZWR1Y2VQb3MgPSBuZXh0RW5kO1xuICAgICAgICB0aGlzLnNjb3JlIC09IDE5MCAvKiBSZWNvdmVyLkRlbGV0ZSAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgaWYgdGhlIGdpdmVuIHRlcm0gd291bGQgYmUgYWJsZSB0byBiZSBzaGlmdGVkIChvcHRpb25hbGx5XG4gICAgYWZ0ZXIgc29tZSByZWR1Y3Rpb25zKSBvbiB0aGlzIHN0YWNrLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yXG4gICAgZXh0ZXJuYWwgdG9rZW5pemVycyB0aGF0IHdhbnQgdG8gbWFrZSBzdXJlIHRoZXkgb25seSBwcm92aWRlIGFcbiAgICBnaXZlbiB0b2tlbiB3aGVuIGl0IGFwcGxpZXMuXG4gICAgKi9cbiAgICBjYW5TaGlmdCh0ZXJtKSB7XG4gICAgICAgIGZvciAobGV0IHNpbSA9IG5ldyBTaW11bGF0ZWRTdGFjayh0aGlzKTs7KSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gdGhpcy5wLnBhcnNlci5zdGF0ZVNsb3Qoc2ltLnN0YXRlLCA0IC8qIFBhcnNlU3RhdGUuRGVmYXVsdFJlZHVjZSAqLykgfHwgdGhpcy5wLnBhcnNlci5oYXNBY3Rpb24oc2ltLnN0YXRlLCB0ZXJtKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoKGFjdGlvbiAmIDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovKSA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgc2ltLnJlZHVjZShhY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFwcGx5IHVwIHRvIFJlY292ZXIuTWF4TmV4dCByZWNvdmVyeSBhY3Rpb25zIHRoYXQgY29uY2VwdHVhbGx5XG4gICAgLy8gaW5zZXJ0cyBzb21lIG1pc3NpbmcgdG9rZW4gb3IgcnVsZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlY292ZXJCeUluc2VydChuZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+PSAzMDAgLyogUmVjb3Zlci5NYXhJbnNlcnRTdGFja0RlcHRoICovKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgbmV4dFN0YXRlcyA9IHRoaXMucC5wYXJzZXIubmV4dFN0YXRlcyh0aGlzLnN0YXRlKTtcbiAgICAgICAgaWYgKG5leHRTdGF0ZXMubGVuZ3RoID4gNCAvKiBSZWNvdmVyLk1heE5leHQgKi8gPDwgMSB8fCB0aGlzLnN0YWNrLmxlbmd0aCA+PSAxMjAgLyogUmVjb3Zlci5EYW1wZW5JbnNlcnRTdGFja0RlcHRoICovKSB7XG4gICAgICAgICAgICBsZXQgYmVzdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHM7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChzID0gbmV4dFN0YXRlc1tpICsgMV0pICE9IHRoaXMuc3RhdGUgJiYgdGhpcy5wLnBhcnNlci5oYXNBY3Rpb24ocywgbmV4dCkpXG4gICAgICAgICAgICAgICAgICAgIGJlc3QucHVzaChuZXh0U3RhdGVzW2ldLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA8IDEyMCAvKiBSZWNvdmVyLkRhbXBlbkluc2VydFN0YWNrRGVwdGggKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGJlc3QubGVuZ3RoIDwgNCAvKiBSZWNvdmVyLk1heE5leHQgKi8gPDwgMSAmJiBpIDwgbmV4dFN0YXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IG5leHRTdGF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJlc3Quc29tZSgodiwgaSkgPT4gKGkgJiAxKSAmJiB2ID09IHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdC5wdXNoKG5leHRTdGF0ZXNbaV0sIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRTdGF0ZXMgPSBiZXN0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgNCAvKiBSZWNvdmVyLk1heE5leHQgKi87IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IHMgPSBuZXh0U3RhdGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChzID09IHRoaXMuc3RhdGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSB0aGlzLnNwbGl0KCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoU3RhdGUocywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgc3RhY2suc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHN0YWNrLnBvcywgc3RhY2sucG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHN0YWNrLnNoaWZ0Q29udGV4dChuZXh0U3RhdGVzW2ldLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICBzdGFjay5yZWR1Y2VQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgICAgIHN0YWNrLnNjb3JlIC09IDIwMCAvKiBSZWNvdmVyLkluc2VydCAqLztcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBGb3JjZSBhIHJlZHVjZSwgaWYgcG9zc2libGUuIFJldHVybiBmYWxzZSBpZiB0aGF0IGNhbid0XG4gICAgLy8gYmUgZG9uZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZvcmNlUmVkdWNlKCkge1xuICAgICAgICBsZXQgeyBwYXJzZXIgfSA9IHRoaXMucDtcbiAgICAgICAgbGV0IHJlZHVjZSA9IHBhcnNlci5zdGF0ZVNsb3QodGhpcy5zdGF0ZSwgNSAvKiBQYXJzZVN0YXRlLkZvcmNlZFJlZHVjZSAqLyk7XG4gICAgICAgIGlmICgocmVkdWNlICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pID09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyc2VyLnZhbGlkQWN0aW9uKHRoaXMuc3RhdGUsIHJlZHVjZSkpIHtcbiAgICAgICAgICAgIGxldCBkZXB0aCA9IHJlZHVjZSA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLywgdGVybSA9IHJlZHVjZSAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi87XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdGFjay5sZW5ndGggLSBkZXB0aCAqIDM7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IDwgMCB8fCBwYXJzZXIuZ2V0R290byh0aGlzLnN0YWNrW3RhcmdldF0sIHRlcm0sIGZhbHNlKSA8IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgYmFja3VwID0gdGhpcy5maW5kRm9yY2VkUmVkdWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2t1cCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVkdWNlID0gYmFja3VwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUoMCAvKiBUZXJtLkVyciAqLywgdGhpcy5wb3MsIHRoaXMucG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgLT0gMTAwIC8qIFJlY292ZXIuUmVkdWNlICovO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVkdWNlUG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucmVkdWNlKHJlZHVjZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUcnkgdG8gc2NhbiB0aHJvdWdoIHRoZSBhdXRvbWF0b24gdG8gZmluZCBzb21lIGtpbmQgb2YgcmVkdWN0aW9uXG4gICAgdGhhdCBjYW4gYmUgYXBwbGllZC4gVXNlZCB3aGVuIHRoZSByZWd1bGFyIEZvcmNlZFJlZHVjZSBmaWVsZFxuICAgIGlzbid0IGEgdmFsaWQgYWN0aW9uLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZpbmRGb3JjZWRSZWR1Y3Rpb24oKSB7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wLCBzZWVuID0gW107XG4gICAgICAgIGxldCBleHBsb3JlID0gKHN0YXRlLCBkZXB0aCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlZW4uaW5jbHVkZXMoc3RhdGUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlZW4ucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VyLmFsbEFjdGlvbnMoc3RhdGUsIChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uICYgKDI2MjE0NCAvKiBBY3Rpb24uU3RheUZsYWcgKi8gfCAxMzEwNzIgLyogQWN0aW9uLkdvdG9GbGFnICovKSkgO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbiAmIDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByRGVwdGggPSAoYWN0aW9uID4+IDE5IC8qIEFjdGlvbi5SZWR1Y2VEZXB0aFNoaWZ0ICovKSAtIGRlcHRoO1xuICAgICAgICAgICAgICAgICAgICBpZiAockRlcHRoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm0gPSBhY3Rpb24gJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovLCB0YXJnZXQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIHJEZXB0aCAqIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID49IDAgJiYgcGFyc2VyLmdldEdvdG8odGhpcy5zdGFja1t0YXJnZXRdLCB0ZXJtLCBmYWxzZSkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHJEZXB0aCA8PCAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLykgfCA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLyB8IHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGV4cGxvcmUoYWN0aW9uLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4cGxvcmUodGhpcy5zdGF0ZSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZm9yY2VBbGwoKSB7XG4gICAgICAgIHdoaWxlICghdGhpcy5wLnBhcnNlci5zdGF0ZUZsYWcodGhpcy5zdGF0ZSwgMiAvKiBTdGF0ZUZsYWcuQWNjZXB0aW5nICovKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcmNlUmVkdWNlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIFRlcm0uRXJyICovLCB0aGlzLnBvcywgdGhpcy5wb3MsIDQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICBDaGVjayB3aGV0aGVyIHRoaXMgc3RhdGUgaGFzIG5vIGZ1cnRoZXIgYWN0aW9ucyAoYXNzdW1lZCB0byBiZSBhIGRpcmVjdCBkZXNjZW5kYW50IG9mIHRoZVxuICAgIHRvcCBzdGF0ZSwgc2luY2UgYW55IG90aGVyIHN0YXRlcyBtdXN0IGJlIGFibGUgdG8gY29udGludWVcbiAgICBzb21laG93KS4gQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgZGVhZEVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoICE9IDMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICByZXR1cm4gcGFyc2VyLmRhdGFbcGFyc2VyLnN0YXRlU2xvdCh0aGlzLnN0YXRlLCAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyldID09IDY1NTM1IC8qIFNlcS5FbmQgKi8gJiZcbiAgICAgICAgICAgICFwYXJzZXIuc3RhdGVTbG90KHRoaXMuc3RhdGUsIDQgLyogUGFyc2VTdGF0ZS5EZWZhdWx0UmVkdWNlICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVzdGFydCB0aGUgc3RhY2sgKHB1dCBpdCBiYWNrIGluIGl0cyBzdGFydCBzdGF0ZSkuIE9ubHkgc2FmZVxuICAgIHdoZW4gdGhpcy5zdGFjay5sZW5ndGggPT0gMyAoc3RhdGUgaXMgZGlyZWN0bHkgYmVsb3cgdGhlIHRvcFxuICAgIHN0YXRlKS4gQGludGVybmFsXG4gICAgKi9cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIFRlcm0uRXJyICovLCB0aGlzLnBvcywgdGhpcy5wb3MsIDQsIHRydWUpO1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFja1swXTtcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNhbWVTdGF0ZShvdGhlcikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBvdGhlci5zdGF0ZSB8fCB0aGlzLnN0YWNrLmxlbmd0aCAhPSBvdGhlci5zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFjay5sZW5ndGg7IGkgKz0gMylcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrW2ldICE9IG90aGVyLnN0YWNrW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcGFyc2VyIHVzZWQgYnkgdGhpcyBzdGFjay5cbiAgICAqL1xuICAgIGdldCBwYXJzZXIoKSB7IHJldHVybiB0aGlzLnAucGFyc2VyOyB9XG4gICAgLyoqXG4gICAgVGVzdCB3aGV0aGVyIGEgZ2l2ZW4gZGlhbGVjdCAoYnkgbnVtZXJpYyBJRCwgYXMgZXhwb3J0ZWQgZnJvbVxuICAgIHRoZSB0ZXJtcyBmaWxlKSBpcyBlbmFibGVkLlxuICAgICovXG4gICAgZGlhbGVjdEVuYWJsZWQoZGlhbGVjdElEKSB7IHJldHVybiB0aGlzLnAucGFyc2VyLmRpYWxlY3QuZmxhZ3NbZGlhbGVjdElEXTsgfVxuICAgIHNoaWZ0Q29udGV4dCh0ZXJtLCBzdGFydCkge1xuICAgICAgICBpZiAodGhpcy5jdXJDb250ZXh0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KHRoaXMuY3VyQ29udGV4dC50cmFja2VyLnNoaWZ0KHRoaXMuY3VyQ29udGV4dC5jb250ZXh0LCB0ZXJtLCB0aGlzLCB0aGlzLnAuc3RyZWFtLnJlc2V0KHN0YXJ0KSkpO1xuICAgIH1cbiAgICByZWR1Y2VDb250ZXh0KHRlcm0sIHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1ckNvbnRleHQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQodGhpcy5jdXJDb250ZXh0LnRyYWNrZXIucmVkdWNlKHRoaXMuY3VyQ29udGV4dC5jb250ZXh0LCB0ZXJtLCB0aGlzLCB0aGlzLnAuc3RyZWFtLnJlc2V0KHN0YXJ0KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVtaXRDb250ZXh0KCkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuYnVmZmVyLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChsYXN0IDwgMCB8fCB0aGlzLmJ1ZmZlcltsYXN0XSAhPSAtMylcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godGhpcy5jdXJDb250ZXh0Lmhhc2gsIHRoaXMucG9zLCB0aGlzLnBvcywgLTMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVtaXRMb29rQWhlYWQoKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPCAwIHx8IHRoaXMuYnVmZmVyW2xhc3RdICE9IC00KVxuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0aGlzLmxvb2tBaGVhZCwgdGhpcy5wb3MsIHRoaXMucG9zLCAtNCk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCAhPSB0aGlzLmN1ckNvbnRleHQuY29udGV4dCkge1xuICAgICAgICAgICAgbGV0IG5ld0N4ID0gbmV3IFN0YWNrQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlciwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAobmV3Q3guaGFzaCAhPSB0aGlzLmN1ckNvbnRleHQuaGFzaClcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRDb250ZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBuZXdDeDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNldExvb2tBaGVhZChsb29rQWhlYWQpIHtcbiAgICAgICAgaWYgKGxvb2tBaGVhZCA8PSB0aGlzLmxvb2tBaGVhZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0TG9va0FoZWFkKCk7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gbG9va0FoZWFkO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dCAmJiB0aGlzLmN1ckNvbnRleHQudHJhY2tlci5zdHJpY3QpXG4gICAgICAgICAgICB0aGlzLmVtaXRDb250ZXh0KCk7XG4gICAgICAgIGlmICh0aGlzLmxvb2tBaGVhZCA+IDApXG4gICAgICAgICAgICB0aGlzLmVtaXRMb29rQWhlYWQoKTtcbiAgICB9XG59XG5jbGFzcyBTdGFja0NvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHRyYWNrZXIsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy50cmFja2VyID0gdHJhY2tlcjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5oYXNoID0gdHJhY2tlci5zdHJpY3QgPyB0cmFja2VyLmhhc2goY29udGV4dCkgOiAwO1xuICAgIH1cbn1cbi8vIFVzZWQgdG8gY2hlYXBseSBydW4gc29tZSByZWR1Y3Rpb25zIHRvIHNjYW4gYWhlYWQgd2l0aG91dCBtdXRhdGluZ1xuLy8gYW4gZW50aXJlIHN0YWNrXG5jbGFzcyBTaW11bGF0ZWRTdGFjayB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhcnQuc3RhdGU7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFydC5zdGFjaztcbiAgICAgICAgdGhpcy5iYXNlID0gdGhpcy5zdGFjay5sZW5ndGg7XG4gICAgfVxuICAgIHJlZHVjZShhY3Rpb24pIHtcbiAgICAgICAgbGV0IHRlcm0gPSBhY3Rpb24gJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovLCBkZXB0aCA9IGFjdGlvbiA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLztcbiAgICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrID09IHRoaXMuc3RhcnQuc3RhY2spXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjayA9IHRoaXMuc3RhY2suc2xpY2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnN0YXRlLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZSArPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlIC09IChkZXB0aCAtIDEpICogMztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ290byA9IHRoaXMuc3RhcnQucC5wYXJzZXIuZ2V0R290byh0aGlzLnN0YWNrW3RoaXMuYmFzZSAtIDNdLCB0ZXJtLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGdvdG87XG4gICAgfVxufVxuLy8gVGhpcyBpcyBnaXZlbiB0byBgVHJlZS5idWlsZGAgdG8gYnVpbGQgYSBidWZmZXIsIGFuZCBlbmNhcHN1bGF0ZXNcbi8vIHRoZSBwYXJlbnQtc3RhY2std2Fsa2luZyBuZWNlc3NhcnkgdG8gcmVhZCB0aGUgbm9kZXMuXG5jbGFzcyBTdGFja0J1ZmZlckN1cnNvciB7XG4gICAgY29uc3RydWN0b3Ioc3RhY2ssIHBvcywgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHN0YWNrLmJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMClcbiAgICAgICAgICAgIHRoaXMubWF5YmVOZXh0KCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoc3RhY2ssIHBvcyA9IHN0YWNrLmJ1ZmZlckJhc2UgKyBzdGFjay5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2tCdWZmZXJDdXJzb3Ioc3RhY2ssIHBvcywgcG9zIC0gc3RhY2suYnVmZmVyQmFzZSk7XG4gICAgfVxuICAgIG1heWJlTmV4dCgpIHtcbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLnN0YWNrLnBhcmVudDtcbiAgICAgICAgaWYgKG5leHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuc3RhY2suYnVmZmVyQmFzZSAtIG5leHQuYnVmZmVyQmFzZTtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBuZXh0LmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gNF07IH1cbiAgICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gM107IH1cbiAgICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDJdOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMV07IH1cbiAgICBuZXh0KCkge1xuICAgICAgICB0aGlzLmluZGV4IC09IDQ7XG4gICAgICAgIHRoaXMucG9zIC09IDQ7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApXG4gICAgICAgICAgICB0aGlzLm1heWJlTmV4dCgpO1xuICAgIH1cbiAgICBmb3JrKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YWNrQnVmZmVyQ3Vyc29yKHRoaXMuc3RhY2ssIHRoaXMucG9zLCB0aGlzLmluZGV4KTtcbiAgICB9XG59XG5cbi8vIFNlZSBsZXplci1nZW5lcmF0b3Ivc3JjL2VuY29kZS50cyBmb3IgY29tbWVudHMgYWJvdXQgdGhlIGVuY29kaW5nXG4vLyB1c2VkIGhlcmVcbmZ1bmN0aW9uIGRlY29kZUFycmF5KGlucHV0LCBUeXBlID0gVWludDE2QXJyYXkpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICBsZXQgYXJyYXkgPSBudWxsO1xuICAgIGZvciAobGV0IHBvcyA9IDAsIG91dCA9IDA7IHBvcyA8IGlucHV0Lmxlbmd0aDspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHBvcysrKSwgc3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5leHQgPT0gMTI2IC8qIEVuY29kZS5CaWdWYWxDb2RlICovKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSA2NTUzNSAvKiBFbmNvZGUuQmlnVmFsICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgPj0gOTIgLyogRW5jb2RlLkdhcDIgKi8pXG4gICAgICAgICAgICAgICAgbmV4dC0tO1xuICAgICAgICAgICAgaWYgKG5leHQgPj0gMzQgLyogRW5jb2RlLkdhcDEgKi8pXG4gICAgICAgICAgICAgICAgbmV4dC0tO1xuICAgICAgICAgICAgbGV0IGRpZ2l0ID0gbmV4dCAtIDMyIC8qIEVuY29kZS5TdGFydCAqLztcbiAgICAgICAgICAgIGlmIChkaWdpdCA+PSA0NiAvKiBFbmNvZGUuQmFzZSAqLykge1xuICAgICAgICAgICAgICAgIGRpZ2l0IC09IDQ2IC8qIEVuY29kZS5CYXNlICovO1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgKz0gZGlnaXQ7XG4gICAgICAgICAgICBpZiAoc3RvcClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhbHVlICo9IDQ2IC8qIEVuY29kZS5CYXNlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJheSlcbiAgICAgICAgICAgIGFycmF5W291dCsrXSA9IHZhbHVlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG5jbGFzcyBDYWNoZWRUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IC0xO1xuICAgICAgICB0aGlzLmVuZCA9IC0xO1xuICAgICAgICB0aGlzLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gMDtcbiAgICAgICAgdGhpcy5tYXNrID0gMDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gMDtcbiAgICB9XG59XG5jb25zdCBudWxsVG9rZW4gPSBuZXcgQ2FjaGVkVG9rZW47XG4vKipcbltUb2tlbml6ZXJzXSgjbHIuRXh0ZXJuYWxUb2tlbml6ZXIpIGludGVyYWN0IHdpdGggdGhlIGlucHV0XG50aHJvdWdoIHRoaXMgaW50ZXJmYWNlLiBJdCBwcmVzZW50cyB0aGUgaW5wdXQgYXMgYSBzdHJlYW0gb2ZcbmNoYXJhY3RlcnMsIHRyYWNraW5nIGxvb2thaGVhZCBhbmQgaGlkaW5nIHRoZSBjb21wbGV4aXR5IG9mXG5bcmFuZ2VzXSgjY29tbW9uLlBhcnNlci5wYXJzZV5yYW5nZXMpIGZyb20gdG9rZW5pemVyIGNvZGUuXG4qL1xuY2xhc3MgSW5wdXRTdHJlYW0ge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpbnB1dCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rT2ZmID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgIEJhY2t1cCBjaHVua1xuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rMiA9IFwiXCI7XG4gICAgICAgIHRoaXMuY2h1bmsyUG9zID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgIFRoZSBjaGFyYWN0ZXIgY29kZSBvZiB0aGUgbmV4dCBjb2RlIHVuaXQgaW4gdGhlIGlucHV0LCBvciAtMVxuICAgICAgICB3aGVuIHRoZSBzdHJlYW0gaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudG9rZW4gPSBudWxsVG9rZW47XG4gICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5jaHVua1BvcyA9IHJhbmdlc1swXS5mcm9tO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2VzWzBdO1xuICAgICAgICB0aGlzLmVuZCA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgIHRoaXMucmVhZE5leHQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZXNvbHZlT2Zmc2V0KG9mZnNldCwgYXNzb2MpIHtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yYW5nZSwgaW5kZXggPSB0aGlzLnJhbmdlSW5kZXg7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvcyArIG9mZnNldDtcbiAgICAgICAgd2hpbGUgKHBvcyA8IHJhbmdlLmZyb20pIHtcbiAgICAgICAgICAgIGlmICghaW5kZXgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMucmFuZ2VzWy0taW5kZXhdO1xuICAgICAgICAgICAgcG9zIC09IHJhbmdlLmZyb20gLSBuZXh0LnRvO1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhc3NvYyA8IDAgPyBwb3MgPiByYW5nZS50byA6IHBvcyA+PSByYW5nZS50bykge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMucmFuZ2VzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMucmFuZ2VzWysraW5kZXhdO1xuICAgICAgICAgICAgcG9zICs9IG5leHQuZnJvbSAtIHJhbmdlLnRvO1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2xpcFBvcyhwb3MpIHtcbiAgICAgICAgaWYgKHBvcyA+PSB0aGlzLnJhbmdlLmZyb20gJiYgcG9zIDwgdGhpcy5yYW5nZS50bylcbiAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgaWYgKHJhbmdlLnRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChwb3MsIHJhbmdlLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5lbmQ7XG4gICAgfVxuICAgIC8qKlxuICAgIExvb2sgYXQgYSBjb2RlIHVuaXQgbmVhciB0aGUgc3RyZWFtIHBvc2l0aW9uLiBgLnBlZWsoMClgIGVxdWFsc1xuICAgIGAubmV4dGAsIGAucGVlaygtMSlgIGdpdmVzIHlvdSB0aGUgcHJldmlvdXMgY2hhcmFjdGVyLCBhbmQgc29cbiAgICBvbi5cbiAgICBcbiAgICBOb3RlIHRoYXQgbG9va2luZyBhcm91bmQgZHVyaW5nIHRva2VuaXppbmcgY3JlYXRlcyBkZXBlbmRlbmNpZXNcbiAgICBvbiBwb3RlbnRpYWxseSBmYXItYXdheSBjb250ZW50LCB3aGljaCBtYXkgcmVkdWNlIHRoZVxuICAgIGVmZmVjdGl2ZW5lc3MgaW5jcmVtZW50YWwgcGFyc2luZ1x1MjAxNHdoZW4gbG9va2luZyBmb3J3YXJkXHUyMDE0b3IgZXZlblxuICAgIGNhdXNlIGludmFsaWQgcmVwYXJzZXMgd2hlbiBsb29raW5nIGJhY2t3YXJkIG1vcmUgdGhhbiAyNSBjb2RlXG4gICAgdW5pdHMsIHNpbmNlIHRoZSBsaWJyYXJ5IGRvZXMgbm90IHRyYWNrIGxvb2tiZWhpbmQuXG4gICAgKi9cbiAgICBwZWVrKG9mZnNldCkge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jaHVua09mZiArIG9mZnNldCwgcG9zLCByZXN1bHQ7XG4gICAgICAgIGlmIChpZHggPj0gMCAmJiBpZHggPCB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zID0gdGhpcy5wb3MgKyBvZmZzZXQ7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNodW5rLmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZU9mZnNldChvZmZzZXQsIDEpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVkID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcG9zID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmsyUG9zICYmIHBvcyA8IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdChwb3MgLSB0aGlzLmNodW5rMlBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHRoaXMucmFuZ2VJbmRleCwgcmFuZ2UgPSB0aGlzLnJhbmdlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyYW5nZS50byA8PSBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5yYW5nZXNbKytpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rMiA9IHRoaXMuaW5wdXQuY2h1bmsodGhpcy5jaHVuazJQb3MgPSBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgKyB0aGlzLmNodW5rMi5sZW5ndGggPiByYW5nZS50bylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVuazIgPSB0aGlzLmNodW5rMi5zbGljZSgwLCByYW5nZS50byAtIHBvcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zID49IHRoaXMudG9rZW4ubG9va0FoZWFkKVxuICAgICAgICAgICAgdGhpcy50b2tlbi5sb29rQWhlYWQgPSBwb3MgKyAxO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBBY2NlcHQgYSB0b2tlbi4gQnkgZGVmYXVsdCwgdGhlIGVuZCBvZiB0aGUgdG9rZW4gaXMgc2V0IHRvIHRoZVxuICAgIGN1cnJlbnQgc3RyZWFtIHBvc2l0aW9uLCBidXQgeW91IGNhbiBwYXNzIGFuIG9mZnNldCAocmVsYXRpdmUgdG9cbiAgICB0aGUgc3RyZWFtIHBvc2l0aW9uKSB0byBjaGFuZ2UgdGhhdC5cbiAgICAqL1xuICAgIGFjY2VwdFRva2VuKHRva2VuLCBlbmRPZmZzZXQgPSAwKSB7XG4gICAgICAgIGxldCBlbmQgPSBlbmRPZmZzZXQgPyB0aGlzLnJlc29sdmVPZmZzZXQoZW5kT2Zmc2V0LCAtMSkgOiB0aGlzLnBvcztcbiAgICAgICAgaWYgKGVuZCA9PSBudWxsIHx8IGVuZCA8IHRoaXMudG9rZW4uc3RhcnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRva2VuIGVuZCBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB0aGlzLnRva2VuLnZhbHVlID0gdG9rZW47XG4gICAgICAgIHRoaXMudG9rZW4uZW5kID0gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICBBY2NlcHQgYSB0b2tlbiBlbmRpbmcgYXQgYSBzcGVjaWZpYyBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGFjY2VwdFRva2VuVG8odG9rZW4sIGVuZFBvcykge1xuICAgICAgICB0aGlzLnRva2VuLnZhbHVlID0gdG9rZW47XG4gICAgICAgIHRoaXMudG9rZW4uZW5kID0gZW5kUG9zO1xuICAgIH1cbiAgICBnZXRDaHVuaygpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMuY2h1bmsyUG9zICYmIHRoaXMucG9zIDwgdGhpcy5jaHVuazJQb3MgKyB0aGlzLmNodW5rMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGNodW5rLCBjaHVua1BvcyB9ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsgPSB0aGlzLmNodW5rMjtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtQb3MgPSB0aGlzLmNodW5rMlBvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyID0gY2h1bms7XG4gICAgICAgICAgICB0aGlzLmNodW5rMlBvcyA9IGNodW5rUG9zO1xuICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IHRoaXMucG9zIC0gdGhpcy5jaHVua1BvcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyID0gdGhpcy5jaHVuaztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyUG9zID0gdGhpcy5jaHVua1BvcztcbiAgICAgICAgICAgIGxldCBuZXh0Q2h1bmsgPSB0aGlzLmlucHV0LmNodW5rKHRoaXMucG9zKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBvcyArIG5leHRDaHVuay5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmNodW5rID0gZW5kID4gdGhpcy5yYW5nZS50byA/IG5leHRDaHVuay5zbGljZSgwLCB0aGlzLnJhbmdlLnRvIC0gdGhpcy5wb3MpIDogbmV4dENodW5rO1xuICAgICAgICAgICAgdGhpcy5jaHVua1BvcyA9IHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZE5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNodW5rT2ZmID49IHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmdldENodW5rKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jaHVua09mZiA9PSB0aGlzLmNodW5rLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0ID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IHRoaXMuY2h1bmsuY2hhckNvZGVBdCh0aGlzLmNodW5rT2ZmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgc3RyZWFtIGZvcndhcmQgTiAoZGVmYXVsdHMgdG8gMSkgY29kZSB1bml0cy4gUmV0dXJuc1xuICAgIHRoZSBuZXcgdmFsdWUgb2YgW2BuZXh0YF0oI2xyLklucHV0U3RyZWFtLm5leHQpLlxuICAgICovXG4gICAgYWR2YW5jZShuID0gMSkge1xuICAgICAgICB0aGlzLmNodW5rT2ZmICs9IG47XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyArIG4gPj0gdGhpcy5yYW5nZS50bykge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VJbmRleCA9PSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldERvbmUoKTtcbiAgICAgICAgICAgIG4gLT0gdGhpcy5yYW5nZS50byAtIHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMucmFuZ2VzWysrdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5yYW5nZS5mcm9tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zICs9IG47XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLnRva2VuLmxvb2tBaGVhZClcbiAgICAgICAgICAgIHRoaXMudG9rZW4ubG9va0FoZWFkID0gdGhpcy5wb3MgKyAxO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkTmV4dCgpO1xuICAgIH1cbiAgICBzZXREb25lKCkge1xuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuY2h1bmtQb3MgPSB0aGlzLmVuZDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMucmFuZ2VzW3RoaXMucmFuZ2VJbmRleCA9IHRoaXMucmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc2V0KHBvcywgdG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgICAgICB0b2tlbi5zdGFydCA9IHBvcztcbiAgICAgICAgICAgIHRva2VuLmxvb2tBaGVhZCA9IHBvcyArIDE7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHRva2VuLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gbnVsbFRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyAhPSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICAgICAgaWYgKHBvcyA9PSB0aGlzLmVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RG9uZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IHRoaXMucmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5yYW5nZXNbLS10aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA+PSB0aGlzLnJhbmdlLnRvKVxuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmtQb3MgJiYgcG9zIDwgdGhpcy5jaHVua1BvcyArIHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IHBvcyAtIHRoaXMuY2h1bmtQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rT2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVhZE5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWFkKGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMuY2h1bmtQb3MgJiYgdG8gPD0gdGhpcy5jaHVua1BvcyArIHRoaXMuY2h1bmsubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmsuc2xpY2UoZnJvbSAtIHRoaXMuY2h1bmtQb3MsIHRvIC0gdGhpcy5jaHVua1Bvcyk7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMuY2h1bmsyUG9zICYmIHRvIDw9IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmsyLnNsaWNlKGZyb20gLSB0aGlzLmNodW5rMlBvcywgdG8gLSB0aGlzLmNodW5rMlBvcyk7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMucmFuZ2UuZnJvbSAmJiB0byA8PSB0aGlzLnJhbmdlLnRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQucmVhZChmcm9tLCB0byk7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCByIG9mIHRoaXMucmFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAoci5mcm9tID49IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHIudG8gPiBmcm9tKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLmlucHV0LnJlYWQoTWF0aC5tYXgoci5mcm9tLCBmcm9tKSwgTWF0aC5taW4oci50bywgdG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuQGludGVybmFsXG4qL1xuY2xhc3MgVG9rZW5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgaWQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICB0b2tlbihpbnB1dCwgc3RhY2spIHtcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSBzdGFjay5wO1xuICAgICAgICByZWFkVG9rZW4odGhpcy5kYXRhLCBpbnB1dCwgc3RhY2ssIHRoaXMuaWQsIHBhcnNlci5kYXRhLCBwYXJzZXIudG9rZW5QcmVjVGFibGUpO1xuICAgIH1cbn1cblRva2VuR3JvdXAucHJvdG90eXBlLmNvbnRleHR1YWwgPSBUb2tlbkdyb3VwLnByb3RvdHlwZS5mYWxsYmFjayA9IFRva2VuR3JvdXAucHJvdG90eXBlLmV4dGVuZCA9IGZhbHNlO1xuLyoqXG5AaGlkZVxuKi9cbmNsYXNzIExvY2FsVG9rZW5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcHJlY1RhYmxlLCBlbHNlVG9rZW4pIHtcbiAgICAgICAgdGhpcy5wcmVjVGFibGUgPSBwcmVjVGFibGU7XG4gICAgICAgIHRoaXMuZWxzZVRva2VuID0gZWxzZVRva2VuO1xuICAgICAgICB0aGlzLmRhdGEgPSB0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiID8gZGVjb2RlQXJyYXkoZGF0YSkgOiBkYXRhO1xuICAgIH1cbiAgICB0b2tlbihpbnB1dCwgc3RhY2spIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gaW5wdXQucG9zLCBza2lwcGVkID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGF0RW9mID0gaW5wdXQubmV4dCA8IDAsIG5leHRQb3MgPSBpbnB1dC5yZXNvbHZlT2Zmc2V0KDEsIDEpO1xuICAgICAgICAgICAgcmVhZFRva2VuKHRoaXMuZGF0YSwgaW5wdXQsIHN0YWNrLCAwLCB0aGlzLmRhdGEsIHRoaXMucHJlY1RhYmxlKTtcbiAgICAgICAgICAgIGlmIChpbnB1dC50b2tlbi52YWx1ZSA+IC0xKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxzZVRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFhdEVvZilcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XG4gICAgICAgICAgICBpZiAobmV4dFBvcyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaW5wdXQucmVzZXQobmV4dFBvcywgaW5wdXQudG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgICBpbnB1dC5yZXNldChzdGFydCwgaW5wdXQudG9rZW4pO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGhpcy5lbHNlVG9rZW4sIHNraXBwZWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuTG9jYWxUb2tlbkdyb3VwLnByb3RvdHlwZS5jb250ZXh0dWFsID0gVG9rZW5Hcm91cC5wcm90b3R5cGUuZmFsbGJhY2sgPSBUb2tlbkdyb3VwLnByb3RvdHlwZS5leHRlbmQgPSBmYWxzZTtcbi8qKlxuYEBleHRlcm5hbCB0b2tlbnNgIGRlY2xhcmF0aW9ucyBpbiB0aGUgZ3JhbW1hciBzaG91bGQgcmVzb2x2ZSB0b1xuYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiovXG5jbGFzcyBFeHRlcm5hbFRva2VuaXplciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgdG9rZW5pemVyLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGZ1bmN0aW9uIHRoYXQsXG4gICAgZ2l2ZW4gYW4gaW5wdXQgc3RyZWFtLCBzY2FucyBmb3IgdGhlIHR5cGVzIG9mIHRva2VucyBpdFxuICAgIHJlY29nbml6ZXMgYXQgdGhlIHN0cmVhbSdzIHBvc2l0aW9uLCBhbmQgY2FsbHNcbiAgICBbYGFjY2VwdFRva2VuYF0oI2xyLklucHV0U3RyZWFtLmFjY2VwdFRva2VuKSB3aGVuIGl0IGZpbmRzXG4gICAgb25lLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b2tlbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5jb250ZXh0dWFsID0gISFvcHRpb25zLmNvbnRleHR1YWw7XG4gICAgICAgIHRoaXMuZmFsbGJhY2sgPSAhIW9wdGlvbnMuZmFsbGJhY2s7XG4gICAgICAgIHRoaXMuZXh0ZW5kID0gISFvcHRpb25zLmV4dGVuZDtcbiAgICB9XG59XG4vLyBUb2tlbml6ZXIgZGF0YSBpcyBzdG9yZWQgYSBiaWcgdWludDE2IGFycmF5IGNvbnRhaW5pbmcsIGZvciBlYWNoXG4vLyBzdGF0ZTpcbi8vXG4vLyAgLSBBIGdyb3VwIGJpdG1hc2ssIGluZGljYXRpbmcgd2hhdCB0b2tlbiBncm91cHMgYXJlIHJlYWNoYWJsZSBmcm9tXG4vLyAgICB0aGlzIHN0YXRlLCBzbyB0aGF0IHBhdGhzIHRoYXQgY2FuIG9ubHkgbGVhZCB0byB0b2tlbnMgbm90IGluXG4vLyAgICBhbnkgb2YgdGhlIGN1cnJlbnQgZ3JvdXBzIGNhbiBiZSBjdXQgb2ZmIGVhcmx5LlxuLy9cbi8vICAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIHRoZSBzdGF0ZSdzIHNlcXVlbmNlIG9mIGFjY2VwdGluZ1xuLy8gICAgdG9rZW5zXG4vL1xuLy8gIC0gVGhlIG51bWJlciBvZiBvdXRnb2luZyBlZGdlcyBmb3IgdGhlIHN0YXRlXG4vL1xuLy8gIC0gVGhlIGFjY2VwdGluZyB0b2tlbnMsIGFzICh0b2tlbiBpZCwgZ3JvdXAgbWFzaykgcGFpcnNcbi8vXG4vLyAgLSBUaGUgb3V0Z29pbmcgZWRnZXMsIGFzIChzdGFydCBjaGFyYWN0ZXIsIGVuZCBjaGFyYWN0ZXIsIHN0YXRlXG4vLyAgICBpbmRleCkgdHJpcGxlcywgd2l0aCBlbmQgY2hhcmFjdGVyIGJlaW5nIGV4Y2x1c2l2ZVxuLy9cbi8vIFRoaXMgZnVuY3Rpb24gaW50ZXJwcmV0cyB0aGF0IGRhdGEsIHJ1bm5pbmcgdGhyb3VnaCBhIHN0cmVhbSBhc1xuLy8gbG9uZyBhcyBuZXcgc3RhdGVzIHdpdGggdGhlIGEgbWF0Y2hpbmcgZ3JvdXAgbWFzayBjYW4gYmUgcmVhY2hlZCxcbi8vIGFuZCB1cGRhdGluZyBgaW5wdXQudG9rZW5gIHdoZW4gaXQgbWF0Y2hlcyBhIHRva2VuLlxuZnVuY3Rpb24gcmVhZFRva2VuKGRhdGEsIGlucHV0LCBzdGFjaywgZ3JvdXAsIHByZWNUYWJsZSwgcHJlY09mZnNldCkge1xuICAgIGxldCBzdGF0ZSA9IDAsIGdyb3VwTWFzayA9IDEgPDwgZ3JvdXAsIHsgZGlhbGVjdCB9ID0gc3RhY2sucC5wYXJzZXI7XG4gICAgc2NhbjogZm9yICg7Oykge1xuICAgICAgICBpZiAoKGdyb3VwTWFzayAmIGRhdGFbc3RhdGVdKSA9PSAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGxldCBhY2NFbmQgPSBkYXRhW3N0YXRlICsgMV07XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhpcyBzdGF0ZSBjYW4gbGVhZCB0byBhIHRva2VuIGluIHRoZSBjdXJyZW50IGdyb3VwXG4gICAgICAgIC8vIEFjY2VwdCB0b2tlbnMgaW4gdGhpcyBzdGF0ZSwgcG9zc2libHkgb3ZlcndyaXRpbmdcbiAgICAgICAgLy8gbG93ZXItcHJlY2VkZW5jZSAvIHNob3J0ZXIgdG9rZW5zXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGF0ZSArIDM7IGkgPCBhY2NFbmQ7IGkgKz0gMilcbiAgICAgICAgICAgIGlmICgoZGF0YVtpICsgMV0gJiBncm91cE1hc2spID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0ZXJtID0gZGF0YVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGlhbGVjdC5hbGxvd3ModGVybSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGlucHV0LnRva2VuLnZhbHVlID09IC0xIHx8IGlucHV0LnRva2VuLnZhbHVlID09IHRlcm0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlcyh0ZXJtLCBpbnB1dC50b2tlbi52YWx1ZSwgcHJlY1RhYmxlLCBwcmVjT2Zmc2V0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGVybSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSBpbnB1dC5uZXh0LCBsb3cgPSAwLCBoaWdoID0gZGF0YVtzdGF0ZSArIDJdO1xuICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIEVPRlxuICAgICAgICBpZiAoaW5wdXQubmV4dCA8IDAgJiYgaGlnaCA+IGxvdyAmJiBkYXRhW2FjY0VuZCArIGhpZ2ggKiAzIC0gM10gPT0gNjU1MzUgLyogU2VxLkVuZCAqLykge1xuICAgICAgICAgICAgc3RhdGUgPSBkYXRhW2FjY0VuZCArIGhpZ2ggKiAzIC0gMV07XG4gICAgICAgICAgICBjb250aW51ZSBzY2FuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgc3RhdGUncyBlZGdlc1xuICAgICAgICBmb3IgKDsgbG93IDwgaGlnaDspIHtcbiAgICAgICAgICAgIGxldCBtaWQgPSAobG93ICsgaGlnaCkgPj4gMTtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGFjY0VuZCArIG1pZCArIChtaWQgPDwgMSk7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGRhdGFbaW5kZXhdLCB0byA9IGRhdGFbaW5kZXggKyAxXSB8fCAweDEwMDAwO1xuICAgICAgICAgICAgaWYgKG5leHQgPCBmcm9tKVxuICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICBlbHNlIGlmIChuZXh0ID49IHRvKVxuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgY29udGludWUgc2NhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kT2Zmc2V0KGRhdGEsIHN0YXJ0LCB0ZXJtKSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0LCBuZXh0OyAobmV4dCA9IGRhdGFbaV0pICE9IDY1NTM1IC8qIFNlcS5FbmQgKi87IGkrKylcbiAgICAgICAgaWYgKG5leHQgPT0gdGVybSlcbiAgICAgICAgICAgIHJldHVybiBpIC0gc3RhcnQ7XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVzKHRva2VuLCBwcmV2LCB0YWJsZURhdGEsIHRhYmxlT2Zmc2V0KSB7XG4gICAgbGV0IGlQcmV2ID0gZmluZE9mZnNldCh0YWJsZURhdGEsIHRhYmxlT2Zmc2V0LCBwcmV2KTtcbiAgICByZXR1cm4gaVByZXYgPCAwIHx8IGZpbmRPZmZzZXQodGFibGVEYXRhLCB0YWJsZU9mZnNldCwgdG9rZW4pIDwgaVByZXY7XG59XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlIHVzZWQgdG8gY29udHJvbCBjb25zb2xlIG91dHB1dFxuY29uc3QgdmVyYm9zZSA9IHR5cGVvZiBwcm9jZXNzICE9IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5lbnYgJiYgL1xcYnBhcnNlXFxiLy50ZXN0KHByb2Nlc3MuZW52LkxPRyk7XG5sZXQgc3RhY2tJRHMgPSBudWxsO1xuZnVuY3Rpb24gY3V0QXQodHJlZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGN1cnNvciA9IHRyZWUuY3Vyc29yKEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpO1xuICAgIGN1cnNvci5tb3ZlVG8ocG9zKTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmICghKHNpZGUgPCAwID8gY3Vyc29yLmNoaWxkQmVmb3JlKHBvcykgOiBjdXJzb3IuY2hpbGRBZnRlcihwb3MpKSlcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpZGUgPCAwID8gY3Vyc29yLnRvIDwgcG9zIDogY3Vyc29yLmZyb20gPiBwb3MpICYmICFjdXJzb3IudHlwZS5pc0Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZSA8IDAgPyBNYXRoLm1heCgwLCBNYXRoLm1pbihjdXJzb3IudG8gLSAxLCBwb3MgLSAyNSAvKiBMb29rYWhlYWQuTWFyZ2luICovKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4odHJlZS5sZW5ndGgsIE1hdGgubWF4KGN1cnNvci5mcm9tICsgMSwgcG9zICsgMjUgLyogTG9va2FoZWFkLk1hcmdpbiAqLykpO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCA/IGN1cnNvci5wcmV2U2libGluZygpIDogY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZSA8IDAgPyAwIDogdHJlZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRnJhZ21lbnRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50cywgbm9kZVNldCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5ub2RlU2V0ID0gbm9kZVNldDtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FmZUZyb20gPSAtMTtcbiAgICAgICAgdGhpcy5zYWZlVG8gPSAtMTtcbiAgICAgICAgdGhpcy50cmVlcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5uZXh0RnJhZ21lbnQoKTtcbiAgICB9XG4gICAgbmV4dEZyYWdtZW50KCkge1xuICAgICAgICBsZXQgZnIgPSB0aGlzLmZyYWdtZW50ID0gdGhpcy5pID09IHRoaXMuZnJhZ21lbnRzLmxlbmd0aCA/IG51bGwgOiB0aGlzLmZyYWdtZW50c1t0aGlzLmkrK107XG4gICAgICAgIGlmIChmcikge1xuICAgICAgICAgICAgdGhpcy5zYWZlRnJvbSA9IGZyLm9wZW5TdGFydCA/IGN1dEF0KGZyLnRyZWUsIGZyLmZyb20gKyBmci5vZmZzZXQsIDEpIC0gZnIub2Zmc2V0IDogZnIuZnJvbTtcbiAgICAgICAgICAgIHRoaXMuc2FmZVRvID0gZnIub3BlbkVuZCA/IGN1dEF0KGZyLnRyZWUsIGZyLnRvICsgZnIub2Zmc2V0LCAtMSkgLSBmci5vZmZzZXQgOiBmci50bztcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRyZWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4LnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmVlcy5wdXNoKGZyLnRyZWUpO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5wdXNoKC1mci5vZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5pbmRleC5wdXNoKDApO1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSB0aGlzLnNhZmVGcm9tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSAxZTk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYHBvc2AgbXVzdCBiZSA+PSBhbnkgcHJldmlvdXNseSBnaXZlbiBgcG9zYCBmb3IgdGhpcyBjdXJzb3JcbiAgICBub2RlQXQocG9zKSB7XG4gICAgICAgIGlmIChwb3MgPCB0aGlzLm5leHRTdGFydClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB3aGlsZSAodGhpcy5mcmFnbWVudCAmJiB0aGlzLnNhZmVUbyA8PSBwb3MpXG4gICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICBpZiAoIXRoaXMuZnJhZ21lbnQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLnRyZWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBpZiAobGFzdCA8IDApIHsgLy8gRW5kIG9mIHRyZWVcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMudHJlZXNbbGFzdF0sIGluZGV4ID0gdGhpcy5pbmRleFtsYXN0XTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0b3AuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0W2xhc3RdICsgdG9wLnBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc3RhcnQgPiBwb3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBUcmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09IHBvcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPCB0aGlzLnNhZmVGcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kIDw9IHRoaXMuc2FmZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gbmV4dC5wcm9wKE5vZGVQcm9wLmxvb2tBaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvb2tBaGVhZCB8fCBlbmQgKyBsb29rQWhlYWQgPCB0aGlzLmZyYWdtZW50LnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhbbGFzdF0rKztcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgKyBuZXh0Lmxlbmd0aCA+PSBNYXRoLm1heCh0aGlzLnNhZmVGcm9tLCBwb3MpKSB7IC8vIEVudGVyIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucHVzaCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4W2xhc3RdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgVG9rZW5DYWNoZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBzdHJlYW0pIHtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICAgIHRoaXMubWFpblRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zID0gcGFyc2VyLnRva2VuaXplcnMubWFwKF8gPT4gbmV3IENhY2hlZFRva2VuKTtcbiAgICB9XG4gICAgZ2V0QWN0aW9ucyhzdGFjaykge1xuICAgICAgICBsZXQgYWN0aW9uSW5kZXggPSAwO1xuICAgICAgICBsZXQgbWFpbiA9IG51bGw7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucCwgeyB0b2tlbml6ZXJzIH0gPSBwYXJzZXI7XG4gICAgICAgIGxldCBtYXNrID0gcGFyc2VyLnN0YXRlU2xvdChzdGFjay5zdGF0ZSwgMyAvKiBQYXJzZVN0YXRlLlRva2VuaXplck1hc2sgKi8pO1xuICAgICAgICBsZXQgY29udGV4dCA9IHN0YWNrLmN1ckNvbnRleHQgPyBzdGFjay5jdXJDb250ZXh0Lmhhc2ggOiAwO1xuICAgICAgICBsZXQgbG9va0FoZWFkID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKCgxIDw8IGkpICYgbWFzaykgPT0gMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCB0b2tlbml6ZXIgPSB0b2tlbml6ZXJzW2ldLCB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgICAgICAgaWYgKG1haW4gJiYgIXRva2VuaXplci5mYWxsYmFjaylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh0b2tlbml6ZXIuY29udGV4dHVhbCB8fCB0b2tlbi5zdGFydCAhPSBzdGFjay5wb3MgfHwgdG9rZW4ubWFzayAhPSBtYXNrIHx8IHRva2VuLmNvbnRleHQgIT0gY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGVkVG9rZW4odG9rZW4sIHRva2VuaXplciwgc3RhY2spO1xuICAgICAgICAgICAgICAgIHRva2VuLm1hc2sgPSBtYXNrO1xuICAgICAgICAgICAgICAgIHRva2VuLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRva2VuLmxvb2tBaGVhZCA+IHRva2VuLmVuZCArIDI1IC8qIExvb2thaGVhZC5NYXJnaW4gKi8pXG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gTWF0aC5tYXgodG9rZW4ubG9va0FoZWFkLCBsb29rQWhlYWQpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlICE9IDAgLyogVGVybS5FcnIgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IGFjdGlvbkluZGV4O1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5leHRlbmRlZCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4uZXh0ZW5kZWQsIHRva2VuLmVuZCwgYWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgIGFjdGlvbkluZGV4ID0gdGhpcy5hZGRBY3Rpb25zKHN0YWNrLCB0b2tlbi52YWx1ZSwgdG9rZW4uZW5kLCBhY3Rpb25JbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbml6ZXIuZXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkluZGV4ID4gc3RhcnRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5hY3Rpb25zLmxlbmd0aCA+IGFjdGlvbkluZGV4KVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnBvcCgpO1xuICAgICAgICBpZiAobG9va0FoZWFkKVxuICAgICAgICAgICAgc3RhY2suc2V0TG9va0FoZWFkKGxvb2tBaGVhZCk7XG4gICAgICAgIGlmICghbWFpbiAmJiBzdGFjay5wb3MgPT0gdGhpcy5zdHJlYW0uZW5kKSB7XG4gICAgICAgICAgICBtYWluID0gbmV3IENhY2hlZFRva2VuO1xuICAgICAgICAgICAgbWFpbi52YWx1ZSA9IHN0YWNrLnAucGFyc2VyLmVvZlRlcm07XG4gICAgICAgICAgICBtYWluLnN0YXJ0ID0gbWFpbi5lbmQgPSBzdGFjay5wb3M7XG4gICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgbWFpbi52YWx1ZSwgbWFpbi5lbmQsIGFjdGlvbkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW5Ub2tlbiA9IG1haW47XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnM7XG4gICAgfVxuICAgIGdldE1haW5Ub2tlbihzdGFjaykge1xuICAgICAgICBpZiAodGhpcy5tYWluVG9rZW4pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluVG9rZW47XG4gICAgICAgIGxldCBtYWluID0gbmV3IENhY2hlZFRva2VuLCB7IHBvcywgcCB9ID0gc3RhY2s7XG4gICAgICAgIG1haW4uc3RhcnQgPSBwb3M7XG4gICAgICAgIG1haW4uZW5kID0gTWF0aC5taW4ocG9zICsgMSwgcC5zdHJlYW0uZW5kKTtcbiAgICAgICAgbWFpbi52YWx1ZSA9IHBvcyA9PSBwLnN0cmVhbS5lbmQgPyBwLnBhcnNlci5lb2ZUZXJtIDogMCAvKiBUZXJtLkVyciAqLztcbiAgICAgICAgcmV0dXJuIG1haW47XG4gICAgfVxuICAgIHVwZGF0ZUNhY2hlZFRva2VuKHRva2VuLCB0b2tlbml6ZXIsIHN0YWNrKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMuc3RyZWFtLmNsaXBQb3Moc3RhY2sucG9zKTtcbiAgICAgICAgdG9rZW5pemVyLnRva2VuKHRoaXMuc3RyZWFtLnJlc2V0KHN0YXJ0LCB0b2tlbiksIHN0YWNrKTtcbiAgICAgICAgaWYgKHRva2VuLnZhbHVlID4gLTEpIHtcbiAgICAgICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VyLnNwZWNpYWxpemVkLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZXIuc3BlY2lhbGl6ZWRbaV0gPT0gdG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHBhcnNlci5zcGVjaWFsaXplcnNbaV0odGhpcy5zdHJlYW0ucmVhZCh0b2tlbi5zdGFydCwgdG9rZW4uZW5kKSwgc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDAgJiYgc3RhY2sucC5wYXJzZXIuZGlhbGVjdC5hbGxvd3MocmVzdWx0ID4+IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdCAmIDEpID09IDAgLyogU3BlY2lhbGl6ZS5TcGVjaWFsaXplICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gcmVzdWx0ID4+IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4uZXh0ZW5kZWQgPSByZXN1bHQgPj4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSAwIC8qIFRlcm0uRXJyICovO1xuICAgICAgICAgICAgdG9rZW4uZW5kID0gdGhpcy5zdHJlYW0uY2xpcFBvcyhzdGFydCArIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1dEFjdGlvbihhY3Rpb24sIHRva2VuLCBlbmQsIGluZGV4KSB7XG4gICAgICAgIC8vIERvbid0IGFkZCBkdXBsaWNhdGUgYWN0aW9uc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpICs9IDMpXG4gICAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zW2ldID09IGFjdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IGFjdGlvbjtcbiAgICAgICAgdGhpcy5hY3Rpb25zW2luZGV4KytdID0gdG9rZW47XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IGVuZDtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBhZGRBY3Rpb25zKHN0YWNrLCB0b2tlbiwgZW5kLCBpbmRleCkge1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gc3RhY2ssIHsgcGFyc2VyIH0gPSBzdGFjay5wLCB7IGRhdGEgfSA9IHBhcnNlcjtcbiAgICAgICAgZm9yIChsZXQgc2V0ID0gMDsgc2V0IDwgMjsgc2V0KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXJzZXIuc3RhdGVTbG90KHN0YXRlLCBzZXQgPyAyIC8qIFBhcnNlU3RhdGUuU2tpcCAqLyA6IDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKTs7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IDY1NTM1IC8qIFNlcS5FbmQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaSArIDFdID09IDEgLyogU2VxLk5leHQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBwYWlyKGRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAwICYmIGRhdGFbaSArIDFdID09IDIgLyogU2VxLk90aGVyICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5wdXRBY3Rpb24ocGFpcihkYXRhLCBpICsgMiksIHRva2VuLCBlbmQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IHRva2VuKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMucHV0QWN0aW9uKHBhaXIoZGF0YSwgaSArIDEpLCB0b2tlbiwgZW5kLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cbmNsYXNzIFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgdGhpcy5yZWNvdmVyaW5nID0gMDtcbiAgICAgICAgdGhpcy5uZXh0U3RhY2tJRCA9IDB4MjY1NDsgLy8gXHUyNjU0LCBcdTI2NTUsIFx1MjY1NiwgXHUyNjU3LCBcdTI2NTgsIFx1MjY1OSwgXHUyNjYwLCBcdTI2NjEsIFx1MjY2MiwgXHUyNjYzLCBcdTI2NjQsIFx1MjY2NSwgXHUyNjY2LCBcdTI2NjdcbiAgICAgICAgdGhpcy5taW5TdGFja1BvcyA9IDA7XG4gICAgICAgIHRoaXMucmV1c2VkID0gW107XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0QmlnUmVkdWN0aW9uU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0QmlnUmVkdWN0aW9uU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuYmlnUmVkdWN0aW9uQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG5ldyBJbnB1dFN0cmVhbShpbnB1dCwgcmFuZ2VzKTtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBuZXcgVG9rZW5DYWNoZShwYXJzZXIsIHRoaXMuc3RyZWFtKTtcbiAgICAgICAgdGhpcy50b3BUZXJtID0gcGFyc2VyLnRvcFsxXTtcbiAgICAgICAgbGV0IHsgZnJvbSB9ID0gcmFuZ2VzWzBdO1xuICAgICAgICB0aGlzLnN0YWNrcyA9IFtTdGFjay5zdGFydCh0aGlzLCBwYXJzZXIudG9wWzBdLCBmcm9tKV07XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzLmxlbmd0aCAmJiB0aGlzLnN0cmVhbS5lbmQgLSBmcm9tID4gcGFyc2VyLmJ1ZmZlckxlbmd0aCAqIDRcbiAgICAgICAgICAgID8gbmV3IEZyYWdtZW50Q3Vyc29yKGZyYWdtZW50cywgcGFyc2VyLm5vZGVTZXQpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHBhcnNlZFBvcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluU3RhY2tQb3M7XG4gICAgfVxuICAgIC8vIE1vdmUgdGhlIHBhcnNlciBmb3J3YXJkLiBUaGlzIHdpbGwgcHJvY2VzcyBhbGwgcGFyc2Ugc3RhY2tzIGF0XG4gICAgLy8gYHRoaXMucG9zYCBhbmQgdHJ5IHRvIGFkdmFuY2UgdGhlbSB0byBhIGZ1cnRoZXIgcG9zaXRpb24uIElmIG5vXG4gICAgLy8gc3RhY2sgZm9yIHN1Y2ggYSBwb3NpdGlvbiBpcyBmb3VuZCwgaXQnbGwgc3RhcnQgZXJyb3ItcmVjb3ZlcnkuXG4gICAgLy9cbiAgICAvLyBXaGVuIHRoZSBwYXJzZSBpcyBmaW5pc2hlZCwgdGhpcyB3aWxsIHJldHVybiBhIHN5bnRheCB0cmVlLiBXaGVuXG4gICAgLy8gbm90LCBpdCByZXR1cm5zIGBudWxsYC5cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBsZXQgc3RhY2tzID0gdGhpcy5zdGFja3MsIHBvcyA9IHRoaXMubWluU3RhY2tQb3M7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBob2xkIHN0YWNrcyBiZXlvbmQgYHBvc2AuXG4gICAgICAgIGxldCBuZXdTdGFja3MgPSB0aGlzLnN0YWNrcyA9IFtdO1xuICAgICAgICBsZXQgc3RvcHBlZCwgc3RvcHBlZFRva2VucztcbiAgICAgICAgLy8gSWYgYSBsYXJnZSBhbW91bnQgb2YgcmVkdWN0aW9ucyBoYXBwZW5lZCB3aXRoIHRoZSBzYW1lIHN0YXJ0XG4gICAgICAgIC8vIHBvc2l0aW9uLCBmb3JjZSB0aGUgc3RhY2sgb3V0IG9mIHRoYXQgcHJvZHVjdGlvbiBpbiBvcmRlciB0b1xuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHRyZWUgdG9vIGRlZXAgdG8gcmVjdXJzZSB0aHJvdWdoLlxuICAgICAgICAvLyAoVGhpcyBpcyBhbiB1Z2x5IGtsdWRnZSwgYmVjYXVzZSB1bmZvcnR1bmF0ZWx5IHRoZXJlIGlzIG5vXG4gICAgICAgIC8vIHN0cmFpZ2h0Zm9yd2FyZCwgY2hlYXAgd2F5IHRvIGNoZWNrIGZvciB0aGlzIGhhcHBlbmluZywgZHVlIHRvXG4gICAgICAgIC8vIHRoZSBoaXN0b3J5IG9mIHJlZHVjdGlvbnMgb25seSBiZWluZyBhdmFpbGFibGUgaW4gYW5cbiAgICAgICAgLy8gZXhwZW5zaXZlLXRvLWFjY2VzcyBmb3JtYXQgaW4gdGhlIHN0YWNrIGJ1ZmZlcnMuKVxuICAgICAgICBpZiAodGhpcy5iaWdSZWR1Y3Rpb25Db3VudCA+IDMwMCAvKiBSZWMuTWF4TGVmdEFzc29jaWF0aXZlUmVkdWN0aW9uQ291bnQgKi8gJiYgc3RhY2tzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgW3NdID0gc3RhY2tzO1xuICAgICAgICAgICAgd2hpbGUgKHMuZm9yY2VSZWR1Y2UoKSAmJiBzLnN0YWNrLmxlbmd0aCAmJiBzLnN0YWNrW3Muc3RhY2subGVuZ3RoIC0gMl0gPj0gdGhpcy5sYXN0QmlnUmVkdWN0aW9uU3RhcnQpIHsgfVxuICAgICAgICAgICAgdGhpcy5iaWdSZWR1Y3Rpb25Db3VudCA9IHRoaXMubGFzdEJpZ1JlZHVjdGlvblNpemUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgYWR2YW5jaW5nIGFueSBzdGFja3MgYXQgYHBvc2AgdW50aWwgdGhleSBlaXRoZXIgbW92ZVxuICAgICAgICAvLyBmb3J3YXJkIG9yIGNhbid0IGJlIGFkdmFuY2VkLiBHYXRoZXIgc3RhY2tzIHRoYXQgY2FuJ3QgYmVcbiAgICAgICAgLy8gYWR2YW5jZWQgZnVydGhlciBpbiBgc3RvcHBlZGAuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBzdGFja3NbaV07XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbnMubWFpblRva2VuID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sucG9zID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5wdXNoKHN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hZHZhbmNlU3RhY2soc3RhY2ssIG5ld1N0YWNrcywgc3RhY2tzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHBlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHBlZFRva2VucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0b3BwZWQucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2sgPSB0aGlzLnRva2Vucy5nZXRNYWluVG9rZW4oc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkVG9rZW5zLnB1c2godG9rLnZhbHVlLCB0b2suZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXdTdGFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSBzdG9wcGVkICYmIGZpbmRGaW5pc2hlZChzdG9wcGVkKTtcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbmlzaCB3aXRoIFwiICsgdGhpcy5zdGFja0lEKGZpbmlzaGVkKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VyLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlICYmIHN0b3BwZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3R1Y2sgd2l0aCB0b2tlbiBcIiArICh0aGlzLnRva2Vucy5tYWluVG9rZW4gPyB0aGlzLnBhcnNlci5nZXROYW1lKHRoaXMudG9rZW5zLm1haW5Ub2tlbi52YWx1ZSkgOiBcIm5vbmVcIikpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vIHBhcnNlIGF0IFwiICsgcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvdmVyaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcmluZyA9IDUgLyogUmVjLkRpc3RhbmNlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY292ZXJpbmcgJiYgc3RvcHBlZCkge1xuICAgICAgICAgICAgbGV0IGZpbmlzaGVkID0gdGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBzdG9wcGVkWzBdLnBvcyA+IHRoaXMuc3RvcHBlZEF0ID8gc3RvcHBlZFswXVxuICAgICAgICAgICAgICAgIDogdGhpcy5ydW5SZWNvdmVyeShzdG9wcGVkLCBzdG9wcGVkVG9rZW5zLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm9yY2UtZmluaXNoIFwiICsgdGhpcy5zdGFja0lEKGZpbmlzaGVkKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQuZm9yY2VBbGwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcmluZykge1xuICAgICAgICAgICAgbGV0IG1heFJlbWFpbmluZyA9IHRoaXMucmVjb3ZlcmluZyA9PSAxID8gMSA6IHRoaXMucmVjb3ZlcmluZyAqIDMgLyogUmVjLk1heFJlbWFpbmluZ1BlclN0ZXAgKi87XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzLmxlbmd0aCA+IG1heFJlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld1N0YWNrcy5sZW5ndGggPiBtYXhSZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdTdGFja3Muc29tZShzID0+IHMucmVkdWNlUG9zID4gcG9zKSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJpbmctLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdTdGFja3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gUHJ1bmUgc3RhY2tzIHRoYXQgYXJlIGluIHRoZSBzYW1lIHN0YXRlLCBvciB0aGF0IGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gcnVubmluZyB3aXRob3V0IHNwbGl0dGluZyBmb3IgYSB3aGlsZSwgdG8gYXZvaWQgZ2V0dGluZyBzdHVja1xuICAgICAgICAgICAgLy8gd2l0aCBtdWx0aXBsZSBzdWNjZXNzZnVsIHN0YWNrcyBydW5uaW5nIGVuZGxlc3NseSBvbi5cbiAgICAgICAgICAgIG91dGVyOiBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1N0YWNrcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhY2sgPSBuZXdTdGFja3NbaV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbmV3U3RhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IG5ld1N0YWNrc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLnNhbWVTdGF0ZShvdGhlcikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLmJ1ZmZlci5sZW5ndGggPiA1MDAgLyogUmVjLk1pbkJ1ZmZlckxlbmd0aFBydW5lICovICYmIG90aGVyLmJ1ZmZlci5sZW5ndGggPiA1MDAgLyogUmVjLk1pbkJ1ZmZlckxlbmd0aFBydW5lICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChzdGFjay5zY29yZSAtIG90aGVyLnNjb3JlKSB8fCAoc3RhY2suYnVmZmVyLmxlbmd0aCAtIG90aGVyLmJ1ZmZlci5sZW5ndGgpKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzLmxlbmd0aCA+IDEyIC8qIFJlYy5NYXhTdGFja0NvdW50ICovKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhY2tzLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcbiAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKDEyIC8qIFJlYy5NYXhTdGFja0NvdW50ICovLCBuZXdTdGFja3MubGVuZ3RoIC0gMTIgLyogUmVjLk1heFN0YWNrQ291bnQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSBuZXdTdGFja3NbMF0ucG9zO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG5ld1N0YWNrcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChuZXdTdGFja3NbaV0ucG9zIDwgdGhpcy5taW5TdGFja1BvcylcbiAgICAgICAgICAgICAgICB0aGlzLm1pblN0YWNrUG9zID0gbmV3U3RhY2tzW2ldLnBvcztcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0b3BBdChwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwgJiYgdGhpcy5zdG9wcGVkQXQgPCBwb3MpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IG1vdmUgc3RvcHBlZEF0IGZvcndhcmRcIik7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3RhY2ssIG9yIG51bGwgaWYgdGhlXG4gICAgLy8gc3RhY2sgY2FuJ3QgYWR2YW5jZSBub3JtYWxseS4gV2hlbiBgc3BsaXRgIGFuZCBgc3RhY2tzYCBhcmVcbiAgICAvLyBnaXZlbiwgc3RhY2tzIHNwbGl0IG9mZiBieSBhbWJpZ3VvdXMgb3BlcmF0aW9ucyB3aWxsIGJlIHB1c2hlZCB0b1xuICAgIC8vIGBzcGxpdGAsIG9yIGFkZGVkIHRvIGBzdGFja3NgIGlmIHRoZXkgbW92ZSBgcG9zYCBmb3J3YXJkLlxuICAgIGFkdmFuY2VTdGFjayhzdGFjaywgc3RhY2tzLCBzcGxpdCkge1xuICAgICAgICBsZXQgc3RhcnQgPSBzdGFjay5wb3MsIHsgcGFyc2VyIH0gPSB0aGlzO1xuICAgICAgICBsZXQgYmFzZSA9IHZlcmJvc2UgPyB0aGlzLnN0YWNrSUQoc3RhY2spICsgXCIgLT4gXCIgOiBcIlwiO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBzdGFydCA+IHRoaXMuc3RvcHBlZEF0KVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmZvcmNlUmVkdWNlKCkgPyBzdGFjayA6IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50cykge1xuICAgICAgICAgICAgbGV0IHN0cmljdEN4ID0gc3RhY2suY3VyQ29udGV4dCAmJiBzdGFjay5jdXJDb250ZXh0LnRyYWNrZXIuc3RyaWN0LCBjeEhhc2ggPSBzdHJpY3RDeCA/IHN0YWNrLmN1ckNvbnRleHQuaGFzaCA6IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZWQgPSB0aGlzLmZyYWdtZW50cy5ub2RlQXQoc3RhcnQpOyBjYWNoZWQ7KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5wYXJzZXIubm9kZVNldC50eXBlc1tjYWNoZWQudHlwZS5pZF0gPT0gY2FjaGVkLnR5cGUgPyBwYXJzZXIuZ2V0R290byhzdGFjay5zdGF0ZSwgY2FjaGVkLnR5cGUuaWQpIDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoID4gLTEgJiYgY2FjaGVkLmxlbmd0aCAmJiAoIXN0cmljdEN4IHx8IChjYWNoZWQucHJvcChOb2RlUHJvcC5jb250ZXh0SGFzaCkgfHwgMCkgPT0gY3hIYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51c2VOb2RlKGNhY2hlZCwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIHJldXNlIG9mICR7cGFyc2VyLmdldE5hbWUoY2FjaGVkLnR5cGUuaWQpfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGNhY2hlZCBpbnN0YW5jZW9mIFRyZWUpIHx8IGNhY2hlZC5jaGlsZHJlbi5sZW5ndGggPT0gMCB8fCBjYWNoZWQucG9zaXRpb25zWzBdID4gMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgbGV0IGlubmVyID0gY2FjaGVkLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lciBpbnN0YW5jZW9mIFRyZWUgJiYgY2FjaGVkLnBvc2l0aW9uc1swXSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBpbm5lcjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkZWZhdWx0UmVkdWNlID0gcGFyc2VyLnN0YXRlU2xvdChzdGFjay5zdGF0ZSwgNCAvKiBQYXJzZVN0YXRlLkRlZmF1bHRSZWR1Y2UgKi8pO1xuICAgICAgICBpZiAoZGVmYXVsdFJlZHVjZSA+IDApIHtcbiAgICAgICAgICAgIHN0YWNrLnJlZHVjZShkZWZhdWx0UmVkdWNlKTtcbiAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIGFsd2F5cy1yZWR1Y2UgJHtwYXJzZXIuZ2V0TmFtZShkZWZhdWx0UmVkdWNlICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLyl9KWApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YWNrLnN0YWNrLmxlbmd0aCA+PSA4NDAwIC8qIFJlYy5DdXREZXB0aCAqLykge1xuICAgICAgICAgICAgd2hpbGUgKHN0YWNrLnN0YWNrLmxlbmd0aCA+IDYwMDAgLyogUmVjLkN1dFRvICovICYmIHN0YWNrLmZvcmNlUmVkdWNlKCkpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhY3Rpb25zID0gdGhpcy50b2tlbnMuZ2V0QWN0aW9ucyhzdGFjayk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gYWN0aW9uc1tpKytdLCB0ZXJtID0gYWN0aW9uc1tpKytdLCBlbmQgPSBhY3Rpb25zW2krK107XG4gICAgICAgICAgICBsZXQgbGFzdCA9IGkgPT0gYWN0aW9ucy5sZW5ndGggfHwgIXNwbGl0O1xuICAgICAgICAgICAgbGV0IGxvY2FsU3RhY2sgPSBsYXN0ID8gc3RhY2sgOiBzdGFjay5zcGxpdCgpO1xuICAgICAgICAgICAgbGV0IG1haW4gPSB0aGlzLnRva2Vucy5tYWluVG9rZW47XG4gICAgICAgICAgICBsb2NhbFN0YWNrLmFwcGx5KGFjdGlvbiwgdGVybSwgbWFpbiA/IG1haW4uc3RhcnQgOiBsb2NhbFN0YWNrLnBvcywgZW5kKTtcbiAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQobG9jYWxTdGFjaykgKyBgICh2aWEgJHsoYWN0aW9uICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pID09IDAgPyBcInNoaWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgOiBgcmVkdWNlIG9mICR7cGFyc2VyLmdldE5hbWUoYWN0aW9uICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLyl9YH0gZm9yICR7cGFyc2VyLmdldE5hbWUodGVybSl9IEAgJHtzdGFydH0ke2xvY2FsU3RhY2sgPT0gc3RhY2sgPyBcIlwiIDogXCIsIHNwbGl0XCJ9KWApO1xuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChsb2NhbFN0YWNrLnBvcyA+IHN0YXJ0KVxuICAgICAgICAgICAgICAgIHN0YWNrcy5wdXNoKGxvY2FsU3RhY2spO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNwbGl0LnB1c2gobG9jYWxTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBBZHZhbmNlIGEgZ2l2ZW4gc3RhY2sgZm9yd2FyZCBhcyBmYXIgYXMgaXQgd2lsbCBnby4gUmV0dXJucyB0aGVcbiAgICAvLyAocG9zc2libHkgdXBkYXRlZCkgc3RhY2sgaWYgaXQgZ290IHN0dWNrLCBvciBudWxsIGlmIGl0IG1vdmVkXG4gICAgLy8gZm9yd2FyZCBhbmQgd2FzIGdpdmVuIHRvIGBwdXNoU3RhY2tEZWR1cGAuXG4gICAgYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IHBvcyA9IHN0YWNrLnBvcztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFkdmFuY2VTdGFjayhzdGFjaywgbnVsbCwgbnVsbCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHN0YWNrLnBvcyA+IHBvcykge1xuICAgICAgICAgICAgICAgIHB1c2hTdGFja0RlZHVwKHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJ1blJlY292ZXJ5KHN0YWNrcywgdG9rZW5zLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IGZpbmlzaGVkID0gbnVsbCwgcmVzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBzdGFja3NbaV0sIHRva2VuID0gdG9rZW5zW2kgPDwgMV0sIHRva2VuRW5kID0gdG9rZW5zWyhpIDw8IDEpICsgMV07XG4gICAgICAgICAgICBsZXQgYmFzZSA9IHZlcmJvc2UgPyB0aGlzLnN0YWNrSUQoc3RhY2spICsgXCIgLT4gXCIgOiBcIlwiO1xuICAgICAgICAgICAgaWYgKHN0YWNrLmRlYWRFbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAocmVzdGFydGVkKVwiKTtcbiAgICAgICAgICAgICAgICBsZXQgZG9uZSA9IHRoaXMuYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmb3JjZSA9IHN0YWNrLnNwbGl0KCksIGZvcmNlQmFzZSA9IGJhc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwIC8qIFJlYy5Gb3JjZVJlZHVjZUxpbWl0ICovICYmIGZvcmNlLmZvcmNlUmVkdWNlKCk7IGorKykge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JjZUJhc2UgKyB0aGlzLnN0YWNrSUQoZm9yY2UpICsgXCIgKHZpYSBmb3JjZS1yZWR1Y2UpXCIpO1xuICAgICAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5hZHZhbmNlRnVsbHkoZm9yY2UsIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBmb3JjZUJhc2UgPSB0aGlzLnN0YWNrSUQoZm9yY2UpICsgXCIgLT4gXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpbnNlcnQgb2Ygc3RhY2sucmVjb3ZlckJ5SW5zZXJ0KHRva2VuKSkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKGluc2VydCkgKyBcIiAodmlhIHJlY292ZXItaW5zZXJ0KVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VGdWxseShpbnNlcnQsIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0uZW5kID4gc3RhY2sucG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuRW5kID09IHN0YWNrLnBvcykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbkVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IDAgLyogVGVybS5FcnIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrLnJlY292ZXJCeURlbGV0ZSh0b2tlbiwgdG9rZW5FbmQpO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKHN0YWNrKSArIGAgKHZpYSByZWNvdmVyLWRlbGV0ZSAke3RoaXMucGFyc2VyLmdldE5hbWUodG9rZW4pfSlgKTtcbiAgICAgICAgICAgICAgICBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFmaW5pc2hlZCB8fCBmaW5pc2hlZC5zY29yZSA8IGZvcmNlLnNjb3JlKSB7XG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSBmb3JjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluaXNoZWQ7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgdGhlIHN0YWNrJ3MgYnVmZmVyIHRvIGEgc3ludGF4IHRyZWUuXG4gICAgc3RhY2tUb1RyZWUoc3RhY2spIHtcbiAgICAgICAgc3RhY2suY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIFRyZWUuYnVpbGQoeyBidWZmZXI6IFN0YWNrQnVmZmVyQ3Vyc29yLmNyZWF0ZShzdGFjayksXG4gICAgICAgICAgICBub2RlU2V0OiB0aGlzLnBhcnNlci5ub2RlU2V0LFxuICAgICAgICAgICAgdG9wSUQ6IHRoaXMudG9wVGVybSxcbiAgICAgICAgICAgIG1heEJ1ZmZlckxlbmd0aDogdGhpcy5wYXJzZXIuYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgcmV1c2VkOiB0aGlzLnJldXNlZCxcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbGVuZ3RoOiBzdGFjay5wb3MgLSB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbWluUmVwZWF0VHlwZTogdGhpcy5wYXJzZXIubWluUmVwZWF0VGVybSB9KTtcbiAgICB9XG4gICAgc3RhY2tJRChzdGFjaykge1xuICAgICAgICBsZXQgaWQgPSAoc3RhY2tJRHMgfHwgKHN0YWNrSURzID0gbmV3IFdlYWtNYXApKS5nZXQoc3RhY2spO1xuICAgICAgICBpZiAoIWlkKVxuICAgICAgICAgICAgc3RhY2tJRHMuc2V0KHN0YWNrLCBpZCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMubmV4dFN0YWNrSUQrKykpO1xuICAgICAgICByZXR1cm4gaWQgKyBzdGFjaztcbiAgICB9XG59XG5mdW5jdGlvbiBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTdGFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG90aGVyID0gbmV3U3RhY2tzW2ldO1xuICAgICAgICBpZiAob3RoZXIucG9zID09IHN0YWNrLnBvcyAmJiBvdGhlci5zYW1lU3RhdGUoc3RhY2spKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzW2ldLnNjb3JlIDwgc3RhY2suc2NvcmUpXG4gICAgICAgICAgICAgICAgbmV3U3RhY2tzW2ldID0gc3RhY2s7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3U3RhY2tzLnB1c2goc3RhY2spO1xufVxuY2xhc3MgRGlhbGVjdCB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBmbGFncywgZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBhbGxvd3ModGVybSkgeyByZXR1cm4gIXRoaXMuZGlzYWJsZWQgfHwgdGhpcy5kaXNhYmxlZFt0ZXJtXSA9PSAwOyB9XG59XG5jb25zdCBpZCA9IHggPT4geDtcbi8qKlxuQ29udGV4dCB0cmFja2VycyBhcmUgdXNlZCB0byB0cmFjayBzdGF0ZWZ1bCBjb250ZXh0IChzdWNoIGFzXG5pbmRlbnRhdGlvbiBpbiB0aGUgUHl0aG9uIGdyYW1tYXIsIG9yIHBhcmVudCBlbGVtZW50cyBpbiB0aGUgWE1MXG5ncmFtbWFyKSBuZWVkZWQgYnkgZXh0ZXJuYWwgdG9rZW5pemVycy4gWW91IGRlY2xhcmUgdGhlbSBpbiBhXG5ncmFtbWFyIGZpbGUgYXMgYEBjb250ZXh0IGV4cG9ydE5hbWUgZnJvbSBcIm1vZHVsZVwiYC5cblxuQ29udGV4dCB2YWx1ZXMgc2hvdWxkIGJlIGltbXV0YWJsZSwgYW5kIGNhbiBiZSB1cGRhdGVkIChyZXBsYWNlZClcbm9uIHNoaWZ0IG9yIHJlZHVjZSBhY3Rpb25zLlxuXG5UaGUgZXhwb3J0IHVzZWQgaW4gYSBgQGNvbnRleHRgIGRlY2xhcmF0aW9uIHNob3VsZCBiZSBvZiB0aGlzXG50eXBlLlxuKi9cbmNsYXNzIENvbnRleHRUcmFja2VyIHtcbiAgICAvKipcbiAgICBEZWZpbmUgYSBjb250ZXh0IHRyYWNrZXIuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzcGVjLnN0YXJ0O1xuICAgICAgICB0aGlzLnNoaWZ0ID0gc3BlYy5zaGlmdCB8fCBpZDtcbiAgICAgICAgdGhpcy5yZWR1Y2UgPSBzcGVjLnJlZHVjZSB8fCBpZDtcbiAgICAgICAgdGhpcy5yZXVzZSA9IHNwZWMucmV1c2UgfHwgaWQ7XG4gICAgICAgIHRoaXMuaGFzaCA9IHNwZWMuaGFzaCB8fCAoKCkgPT4gMCk7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gc3BlYy5zdHJpY3QgIT09IGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuSG9sZHMgdGhlIHBhcnNlIHRhYmxlcyBmb3IgYSBnaXZlbiBncmFtbWFyLCBhcyBnZW5lcmF0ZWQgYnlcbmBsZXplci1nZW5lcmF0b3JgLCBhbmQgcHJvdmlkZXMgW21ldGhvZHNdKCNjb21tb24uUGFyc2VyKSB0byBwYXJzZVxuY29udGVudCB3aXRoLlxuKi9cbmNsYXNzIExSUGFyc2VyIGV4dGVuZHMgUGFyc2VyIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBwZXJzID0gW107XG4gICAgICAgIGlmIChzcGVjLnZlcnNpb24gIT0gMTQgLyogRmlsZS5WZXJzaW9uICovKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFBhcnNlciB2ZXJzaW9uICgke3NwZWMudmVyc2lvbn0pIGRvZXNuJ3QgbWF0Y2ggcnVudGltZSB2ZXJzaW9uICgkezE0IC8qIEZpbGUuVmVyc2lvbiAqL30pYCk7XG4gICAgICAgIGxldCBub2RlTmFtZXMgPSBzcGVjLm5vZGVOYW1lcy5zcGxpdChcIiBcIik7XG4gICAgICAgIHRoaXMubWluUmVwZWF0VGVybSA9IG5vZGVOYW1lcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlYy5yZXBlYXROb2RlQ291bnQ7IGkrKylcbiAgICAgICAgICAgIG5vZGVOYW1lcy5wdXNoKFwiXCIpO1xuICAgICAgICBsZXQgdG9wVGVybXMgPSBPYmplY3Qua2V5cyhzcGVjLnRvcFJ1bGVzKS5tYXAociA9PiBzcGVjLnRvcFJ1bGVzW3JdWzFdKTtcbiAgICAgICAgbGV0IG5vZGVQcm9wcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVOYW1lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIG5vZGVQcm9wcy5wdXNoKFtdKTtcbiAgICAgICAgZnVuY3Rpb24gc2V0UHJvcChub2RlSUQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBub2RlUHJvcHNbbm9kZUlEXS5wdXNoKFtwcm9wLCBwcm9wLmRlc2VyaWFsaXplKFN0cmluZyh2YWx1ZSkpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWMubm9kZVByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcFNwZWMgb2Ygc3BlYy5ub2RlUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcCA9IHByb3BTcGVjWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gTm9kZVByb3BbcHJvcF07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9wU3BlYy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gcHJvcFNwZWNbaSsrXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChuZXh0LCBwcm9wLCBwcm9wU3BlY1tpKytdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3BTcGVjW2kgKyAtbmV4dF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gLW5leHQ7IGogPiAwOyBqLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChwcm9wU3BlY1tpKytdLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHRoaXMubm9kZVNldCA9IG5ldyBOb2RlU2V0KG5vZGVOYW1lcy5tYXAoKG5hbWUsIGkpID0+IE5vZGVUeXBlLmRlZmluZSh7XG4gICAgICAgICAgICBuYW1lOiBpID49IHRoaXMubWluUmVwZWF0VGVybSA/IHVuZGVmaW5lZCA6IG5hbWUsXG4gICAgICAgICAgICBpZDogaSxcbiAgICAgICAgICAgIHByb3BzOiBub2RlUHJvcHNbaV0sXG4gICAgICAgICAgICB0b3A6IHRvcFRlcm1zLmluZGV4T2YoaSkgPiAtMSxcbiAgICAgICAgICAgIGVycm9yOiBpID09IDAsXG4gICAgICAgICAgICBza2lwcGVkOiBzcGVjLnNraXBwZWROb2RlcyAmJiBzcGVjLnNraXBwZWROb2Rlcy5pbmRleE9mKGkpID4gLTFcbiAgICAgICAgfSkpKTtcbiAgICAgICAgaWYgKHNwZWMucHJvcFNvdXJjZXMpXG4gICAgICAgICAgICB0aGlzLm5vZGVTZXQgPSB0aGlzLm5vZGVTZXQuZXh0ZW5kKC4uLnNwZWMucHJvcFNvdXJjZXMpO1xuICAgICAgICB0aGlzLnN0cmljdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IERlZmF1bHRCdWZmZXJMZW5ndGg7XG4gICAgICAgIGxldCB0b2tlbkFycmF5ID0gZGVjb2RlQXJyYXkoc3BlYy50b2tlbkRhdGEpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBzcGVjLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZXJTcGVjcyA9IHNwZWMuc3BlY2lhbGl6ZWQgfHwgW107XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZWQgPSBuZXcgVWludDE2QXJyYXkodGhpcy5zcGVjaWFsaXplclNwZWNzLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zcGVjaWFsaXplclNwZWNzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgdGhpcy5zcGVjaWFsaXplZFtpXSA9IHRoaXMuc3BlY2lhbGl6ZXJTcGVjc1tpXS50ZXJtO1xuICAgICAgICB0aGlzLnNwZWNpYWxpemVycyA9IHRoaXMuc3BlY2lhbGl6ZXJTcGVjcy5tYXAoZ2V0U3BlY2lhbGl6ZXIpO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IGRlY29kZUFycmF5KHNwZWMuc3RhdGVzLCBVaW50MzJBcnJheSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRlY29kZUFycmF5KHNwZWMuc3RhdGVEYXRhKTtcbiAgICAgICAgdGhpcy5nb3RvID0gZGVjb2RlQXJyYXkoc3BlYy5nb3RvKTtcbiAgICAgICAgdGhpcy5tYXhUZXJtID0gc3BlYy5tYXhUZXJtO1xuICAgICAgICB0aGlzLnRva2VuaXplcnMgPSBzcGVjLnRva2VuaXplcnMubWFwKHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiID8gbmV3IFRva2VuR3JvdXAodG9rZW5BcnJheSwgdmFsdWUpIDogdmFsdWUpO1xuICAgICAgICB0aGlzLnRvcFJ1bGVzID0gc3BlYy50b3BSdWxlcztcbiAgICAgICAgdGhpcy5kaWFsZWN0cyA9IHNwZWMuZGlhbGVjdHMgfHwge307XG4gICAgICAgIHRoaXMuZHluYW1pY1ByZWNlZGVuY2VzID0gc3BlYy5keW5hbWljUHJlY2VkZW5jZXMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy50b2tlblByZWNUYWJsZSA9IHNwZWMudG9rZW5QcmVjO1xuICAgICAgICB0aGlzLnRlcm1OYW1lcyA9IHNwZWMudGVybU5hbWVzIHx8IG51bGw7XG4gICAgICAgIHRoaXMubWF4Tm9kZSA9IHRoaXMubm9kZVNldC50eXBlcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSB0aGlzLnBhcnNlRGlhbGVjdCgpO1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMudG9wUnVsZXNbT2JqZWN0LmtleXModGhpcy50b3BSdWxlcylbMF1dO1xuICAgIH1cbiAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgbGV0IHBhcnNlID0gbmV3IFBhcnNlKHRoaXMsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IHcgb2YgdGhpcy53cmFwcGVycylcbiAgICAgICAgICAgIHBhcnNlID0gdyhwYXJzZSwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBnb3RvIHRhYmxlIGVudHJ5IEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0R290byhzdGF0ZSwgdGVybSwgbG9vc2UgPSBmYWxzZSkge1xuICAgICAgICBsZXQgdGFibGUgPSB0aGlzLmdvdG87XG4gICAgICAgIGlmICh0ZXJtID49IHRhYmxlWzBdKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSB0YWJsZVt0ZXJtICsgMV07Oykge1xuICAgICAgICAgICAgbGV0IGdyb3VwVGFnID0gdGFibGVbcG9zKytdLCBsYXN0ID0gZ3JvdXBUYWcgJiAxO1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRhYmxlW3BvcysrXTtcbiAgICAgICAgICAgIGlmIChsYXN0ICYmIGxvb3NlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICBmb3IgKGxldCBlbmQgPSBwb3MgKyAoZ3JvdXBUYWcgPj4gMSk7IHBvcyA8IGVuZDsgcG9zKyspXG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlW3Bvc10gPT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgaWYgdGhpcyBzdGF0ZSBoYXMgYW4gYWN0aW9uIGZvciBhIGdpdmVuIHRlcm1pbmFsIEBpbnRlcm5hbFxuICAgICovXG4gICAgaGFzQWN0aW9uKHN0YXRlLCB0ZXJtaW5hbCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgc2V0ID0gMDsgc2V0IDwgMjsgc2V0KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgc2V0ID8gMiAvKiBQYXJzZVN0YXRlLlNraXAgKi8gOiAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyksIG5leHQ7OyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG5leHQgPSBkYXRhW2ldKSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2kgKyAxXSA9PSAxIC8qIFNlcS5OZXh0ICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGRhdGFbaSA9IHBhaXIoZGF0YSwgaSArIDIpXTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtpICsgMV0gPT0gMiAvKiBTZXEuT3RoZXIgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFpcihkYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dCA9PSB0ZXJtaW5hbCB8fCBuZXh0ID09IDAgLyogVGVybS5FcnIgKi8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyKGRhdGEsIGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0ZVNsb3Qoc3RhdGUsIHNsb3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzWyhzdGF0ZSAqIDYgLyogUGFyc2VTdGF0ZS5TaXplICovKSArIHNsb3RdO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRlRmxhZyhzdGF0ZSwgZmxhZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGVTbG90KHN0YXRlLCAwIC8qIFBhcnNlU3RhdGUuRmxhZ3MgKi8pICYgZmxhZykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHZhbGlkQWN0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hbGxBY3Rpb25zKHN0YXRlLCBhID0+IGEgPT0gYWN0aW9uID8gdHJ1ZSA6IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFsbEFjdGlvbnMoc3RhdGUsIGFjdGlvbikge1xuICAgICAgICBsZXQgZGVmbHQgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgNCAvKiBQYXJzZVN0YXRlLkRlZmF1bHRSZWR1Y2UgKi8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gZGVmbHQgPyBhY3Rpb24oZGVmbHQpIDogdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKTsgcmVzdWx0ID09IG51bGw7IGkgKz0gMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpICsgMV0gPT0gMSAvKiBTZXEuTmV4dCAqLylcbiAgICAgICAgICAgICAgICAgICAgaSA9IHBhaXIodGhpcy5kYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IGFjdGlvbihwYWlyKHRoaXMuZGF0YSwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHN0YXRlcyB0aGF0IGNhbiBmb2xsb3cgdGhpcyBvbmUgdGhyb3VnaCBzaGlmdCBhY3Rpb25zIG9yXG4gICAgZ290byBqdW1wcy4gQGludGVybmFsXG4gICAgKi9cbiAgICBuZXh0U3RhdGVzKHN0YXRlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc3RhdGVTbG90KHN0YXRlLCAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyk7OyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gPT0gNjU1MzUgLyogU2VxLkVuZCAqLykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaSArIDFdID09IDEgLyogU2VxLk5leHQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGkgPSBwYWlyKHRoaXMuZGF0YSwgaSArIDIpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRoaXMuZGF0YVtpICsgMl0gJiAoNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8gPj4gMTYpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5kYXRhW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5zb21lKCh2LCBpKSA9PiAoaSAmIDEpICYmIHYgPT0gdmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmRhdGFbaV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBDb25maWd1cmUgdGhlIHBhcnNlci4gUmV0dXJucyBhIG5ldyBwYXJzZXIgaW5zdGFuY2UgdGhhdCBoYXMgdGhlXG4gICAgZ2l2ZW4gc2V0dGluZ3MgbW9kaWZpZWQuIFNldHRpbmdzIG5vdCBwcm92aWRlZCBpbiBgY29uZmlnYCBhcmVcbiAgICBrZXB0IGZyb20gdGhlIG9yaWdpbmFsIHBhcnNlci5cbiAgICAqL1xuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgLy8gSGlkZW91cyByZWZsZWN0aW9uLWJhc2VkIGtsdWRnZSB0byBtYWtlIGl0IGVhc3kgdG8gY3JlYXRlIGFcbiAgICAgICAgLy8gc2xpZ2h0bHkgbW9kaWZpZWQgY29weSBvZiBhIHBhcnNlci5cbiAgICAgICAgbGV0IGNvcHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTFJQYXJzZXIucHJvdG90eXBlKSwgdGhpcyk7XG4gICAgICAgIGlmIChjb25maWcucHJvcHMpXG4gICAgICAgICAgICBjb3B5Lm5vZGVTZXQgPSB0aGlzLm5vZGVTZXQuZXh0ZW5kKC4uLmNvbmZpZy5wcm9wcyk7XG4gICAgICAgIGlmIChjb25maWcudG9wKSB7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMudG9wUnVsZXNbY29uZmlnLnRvcF07XG4gICAgICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgdG9wIHJ1bGUgbmFtZSAke2NvbmZpZy50b3B9YCk7XG4gICAgICAgICAgICBjb3B5LnRvcCA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50b2tlbml6ZXJzKVxuICAgICAgICAgICAgY29weS50b2tlbml6ZXJzID0gdGhpcy50b2tlbml6ZXJzLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBjb25maWcudG9rZW5pemVycy5maW5kKHIgPT4gci5mcm9tID09IHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCA/IGZvdW5kLnRvIDogdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnNwZWNpYWxpemVycykge1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplcnMgPSB0aGlzLnNwZWNpYWxpemVycy5zbGljZSgpO1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplclNwZWNzID0gdGhpcy5zcGVjaWFsaXplclNwZWNzLm1hcCgocywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGNvbmZpZy5zcGVjaWFsaXplcnMuZmluZChyID0+IHIuZnJvbSA9PSBzLmV4dGVybmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICBsZXQgc3BlYyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcyksIHsgZXh0ZXJuYWw6IGZvdW5kLnRvIH0pO1xuICAgICAgICAgICAgICAgIGNvcHkuc3BlY2lhbGl6ZXJzW2ldID0gZ2V0U3BlY2lhbGl6ZXIoc3BlYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmNvbnRleHRUcmFja2VyKVxuICAgICAgICAgICAgY29weS5jb250ZXh0ID0gY29uZmlnLmNvbnRleHRUcmFja2VyO1xuICAgICAgICBpZiAoY29uZmlnLmRpYWxlY3QpXG4gICAgICAgICAgICBjb3B5LmRpYWxlY3QgPSB0aGlzLnBhcnNlRGlhbGVjdChjb25maWcuZGlhbGVjdCk7XG4gICAgICAgIGlmIChjb25maWcuc3RyaWN0ICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LnN0cmljdCA9IGNvbmZpZy5zdHJpY3Q7XG4gICAgICAgIGlmIChjb25maWcud3JhcClcbiAgICAgICAgICAgIGNvcHkud3JhcHBlcnMgPSBjb3B5LndyYXBwZXJzLmNvbmNhdChjb25maWcud3JhcCk7XG4gICAgICAgIGlmIChjb25maWcuYnVmZmVyTGVuZ3RoICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LmJ1ZmZlckxlbmd0aCA9IGNvbmZpZy5idWZmZXJMZW5ndGg7XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciBhbnkgW3BhcnNlIHdyYXBwZXJzXSgjbHIuUGFyc2VyQ29uZmlnLndyYXApXG4gICAgYXJlIHJlZ2lzdGVyZWQgZm9yIHRoaXMgcGFyc2VyLlxuICAgICovXG4gICAgaGFzV3JhcHBlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gdGVybS4gVGhpcyB3aWxsIG9ubHlcbiAgICB3b3JrIGZvciBhbGwgdGVybXMgd2hlbiB0aGUgcGFyc2VyIHdhcyBnZW5lcmF0ZWQgd2l0aCB0aGVcbiAgICBgLS1uYW1lc2Agb3B0aW9uLiBCeSBkZWZhdWx0LCBvbmx5IHRoZSBuYW1lcyBvZiB0YWdnZWQgdGVybXMgYXJlXG4gICAgc3RvcmVkLlxuICAgICovXG4gICAgZ2V0TmFtZSh0ZXJtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcm1OYW1lcyA/IHRoaXMudGVybU5hbWVzW3Rlcm1dIDogU3RyaW5nKHRlcm0gPD0gdGhpcy5tYXhOb2RlICYmIHRoaXMubm9kZVNldC50eXBlc1t0ZXJtXS5uYW1lIHx8IHRlcm0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZW9mIHRlcm0gaWQgaXMgYWx3YXlzIGFsbG9jYXRlZCBkaXJlY3RseSBhZnRlciB0aGUgbm9kZVxuICAgIHR5cGVzLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBlb2ZUZXJtKCkgeyByZXR1cm4gdGhpcy5tYXhOb2RlICsgMTsgfVxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIHRvcCBub2RlIHByb2R1Y2VkIGJ5IHRoZSBwYXJzZXIuXG4gICAgKi9cbiAgICBnZXQgdG9wTm9kZSgpIHsgcmV0dXJuIHRoaXMubm9kZVNldC50eXBlc1t0aGlzLnRvcFsxXV07IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGR5bmFtaWNQcmVjZWRlbmNlKHRlcm0pIHtcbiAgICAgICAgbGV0IHByZWMgPSB0aGlzLmR5bmFtaWNQcmVjZWRlbmNlcztcbiAgICAgICAgcmV0dXJuIHByZWMgPT0gbnVsbCA/IDAgOiBwcmVjW3Rlcm1dIHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcGFyc2VEaWFsZWN0KGRpYWxlY3QpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IE9iamVjdC5rZXlzKHRoaXMuZGlhbGVjdHMpLCBmbGFncyA9IHZhbHVlcy5tYXAoKCkgPT4gZmFsc2UpO1xuICAgICAgICBpZiAoZGlhbGVjdClcbiAgICAgICAgICAgIGZvciAobGV0IHBhcnQgb2YgZGlhbGVjdC5zcGxpdChcIiBcIikpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSB2YWx1ZXMuaW5kZXhPZihwYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3NbaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IGRpc2FibGVkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIWZsYWdzW2ldKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IHRoaXMuZGlhbGVjdHNbdmFsdWVzW2ldXSwgaWQ7IChpZCA9IHRoaXMuZGF0YVtqKytdKSAhPSA2NTUzNSAvKiBTZXEuRW5kICovOylcbiAgICAgICAgICAgICAgICAgICAgKGRpc2FibGVkIHx8IChkaXNhYmxlZCA9IG5ldyBVaW50OEFycmF5KHRoaXMubWF4VGVybSArIDEpKSlbaWRdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaWFsZWN0KGRpYWxlY3QsIGZsYWdzLCBkaXNhYmxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVzZWQgYnkgdGhlIG91dHB1dCBvZiB0aGUgcGFyc2VyIGdlbmVyYXRvci4gTm90IGF2YWlsYWJsZSB0b1xuICAgIHVzZXIgY29kZS4gQGhpZGVcbiAgICAqL1xuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgTFJQYXJzZXIoc3BlYyk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFpcihkYXRhLCBvZmYpIHsgcmV0dXJuIGRhdGFbb2ZmXSB8IChkYXRhW29mZiArIDFdIDw8IDE2KTsgfVxuZnVuY3Rpb24gZmluZEZpbmlzaGVkKHN0YWNrcykge1xuICAgIGxldCBiZXN0ID0gbnVsbDtcbiAgICBmb3IgKGxldCBzdGFjayBvZiBzdGFja3MpIHtcbiAgICAgICAgbGV0IHN0b3BwZWQgPSBzdGFjay5wLnN0b3BwZWRBdDtcbiAgICAgICAgaWYgKChzdGFjay5wb3MgPT0gc3RhY2sucC5zdHJlYW0uZW5kIHx8IHN0b3BwZWQgIT0gbnVsbCAmJiBzdGFjay5wb3MgPiBzdG9wcGVkKSAmJlxuICAgICAgICAgICAgc3RhY2sucC5wYXJzZXIuc3RhdGVGbGFnKHN0YWNrLnN0YXRlLCAyIC8qIFN0YXRlRmxhZy5BY2NlcHRpbmcgKi8pICYmXG4gICAgICAgICAgICAoIWJlc3QgfHwgYmVzdC5zY29yZSA8IHN0YWNrLnNjb3JlKSlcbiAgICAgICAgICAgIGJlc3QgPSBzdGFjaztcbiAgICB9XG4gICAgcmV0dXJuIGJlc3Q7XG59XG5mdW5jdGlvbiBnZXRTcGVjaWFsaXplcihzcGVjKSB7XG4gICAgaWYgKHNwZWMuZXh0ZXJuYWwpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBzcGVjLmV4dGVuZCA/IDEgLyogU3BlY2lhbGl6ZS5FeHRlbmQgKi8gOiAwIC8qIFNwZWNpYWxpemUuU3BlY2lhbGl6ZSAqLztcbiAgICAgICAgcmV0dXJuICh2YWx1ZSwgc3RhY2spID0+IChzcGVjLmV4dGVybmFsKHZhbHVlLCBzdGFjaykgPDwgMSkgfCBtYXNrO1xuICAgIH1cbiAgICByZXR1cm4gc3BlYy5nZXQ7XG59XG5cbmV4cG9ydCB7IENvbnRleHRUcmFja2VyLCBFeHRlcm5hbFRva2VuaXplciwgSW5wdXRTdHJlYW0sIExSUGFyc2VyLCBMb2NhbFRva2VuR3JvdXAsIFN0YWNrIH07XG4iLCAiLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5pbXBvcnQge0xSUGFyc2VyfSBmcm9tIFwiQGxlemVyL2xyXCJcbmV4cG9ydCBjb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiIV5RVlFQT09PT1FPJyNDYCcjQ2BPT1FPJyNEVScjRFVPI2NRUE8nI0NeT09RTycjQ14nI0NeT09RTycjRFQnI0RUUVZRUE9PT09RTy1FN1MtRTdTT09RTyw1OHgsNTh4T09RTy1FN1ItRTdSXCIsXG4gIHN0YXRlRGF0YTogXCIkWH5Pe09Tfk9SU09UUE9VUE9WUE9XUE9YUE9ZUE9aUE9bUE9dUE9eUE9fUE9gUE9hUE9iUE9jUE9kUE9lUE9mUE9nUE9oUE9pUE9qUE9rUE9sUE9tUE9uUE9vUE9wUE9xUE9yUE9zUE90UE91UE9+T3ZXT35QWU9SbWxramloZ2ZlZGNiYWBvXl9bWllYV1ZVVF11flwiLFxuICBnb3RvOiBcIiFieVBQelAhT1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAhVCFaVFRPVVZRT1JVUVVPUlhVU1JPVVJWUlwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIFByb2dyYW0gU2VudGVuY2UgQ29tbWVudCBBdG9tIEZpeCBCeSBFeGFtcGxlIEV4ZXJjaXNlIFByb29mIFFFRCBHaXZlbiBBc3N1bWUgQ29uY2x1c2lvbiBMZXRzIExldCBVcyBQcm92ZSBUaGF0IFdlIENvbXB1dGUgQ29uY2x1ZGUgQnlXb3JkIEFwcGxpZWQgVG8gVXNpbmcgR2V0IFN1Y2ggSXQgU3VmZmljZXMgU3RyaW5nIExQYXJlbiBSUGFyZW4gTEJyYWNlIFJCcmFjZSBMQnJhY2tldCBSQnJhY2tldCBDaHVuayBFbmRPZlNlbnRlbmNlXCIsXG4gIG1heFRlcm06IDQzLFxuICBza2lwcGVkTm9kZXM6IFswXSxcbiAgcmVwZWF0Tm9kZUNvdW50OiAyLFxuICB0b2tlbkRhdGE6IFwiIz91flIhW09YJHdYWSV4WVomV1pdJHddXiV4XnAkd3BxJXhxciR3cnMmXXN4JHd4eSd5eXopU3p9JHd9IU8pWCFPIWMkdyFjIWQsYSFkIWUzZCFlIWY1YiFmIWckdyFnIWhAaSFoIWlNdCFpIWohIXMhaiFuJHchbiFvISh1IW8hciR3IXIhcyEteyFzIXQhM30hdCF5JHcheSF6ITZ8IXohfSR3IX0jTyE4eiNPI1AkdyNQI1EhOVAjUSNUJHcjVCNVITlVI1UjViFAWCNWI1chQlYjVyNaJHcjWiNbIyBfI1sjXSR3I10jXiMkXiNeI2QkdyNkI2UjJlsjZSNnJHcjZyNoIytdI2gjaSM1ZSNpI2ojOmgjaiNrJHcjayNsITZ8I2wjbyR3I28jcCM/ayNwI3EkdyNxI3IjP3AjcjsnUyR3OydTOz1gJXI8JWx+JHd+TyR3fn4mV34kfFt1fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+JXVQOz1gPCVsJHd+JX1Se35YWSV4XV4leHBxJXh+Jl1Pdn5+JmBWT3ImXXJzJnVzI08mXSNPI1AmeiNQOydTJl07J1M7PWAnczwlbE8mXX4mek9ufn4mfVJPOydTJl07J1M7PWAnVzs9YE8mXX4nWldPciZdcnMmdXMjTyZdI08jUCZ6I1A7J1MmXTsnUzs9YCdzOz1gPCVsJl08JWxPJl1+J3ZQOz1gPCVsJl1+KE9Qb356eyhSfihVVE96KFJ6eyhlezsnUyhSOydTOz1gKHw8JWxPKFJ+KGhUT3koUnl6KHd6OydTKFI7J1M7PWAofDwlbE8oUn4ofE9Sfn4pUFA7PWA8JWwoUn4pWE9wfn4pXl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3en0kd30hTypZIU8hfSR3I08jUCR3I1EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiphZVJ+dX5PWCpZWFkrclpdKlldXityXnAqWXBxK3JxcipZcnMrcnN4Kll4eityeiF9KlkhfSNPK3IjTyNQKlkjUCNRK3IjUSNvKlkjbyNwK3IjcCNxKlkjcSNyK3IjcjsnUypZOydTOz1gLFo8JWxPKll+K3dTUn5PWStyWjsnUytyOydTOz1gLFQ8JWxPK3J+LFdQOz1gPCVsK3J+LF5QOz1gPCVsKll+LGZedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjZyR3I2cjaC1iI2gjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fi1nXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2ckdyNnI2guYyNoI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34uaF51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNpJHcjaSNqL2QjaiNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+L2ledX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYSR3I2EjYjBlI2IjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fjBqXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1gkdyNYI1kxZiNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34xa151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiFbJHchWyFdMmchXSF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+Mm5bW351fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+M2ledX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbSR3I20jbjRlI24jbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fjRsW1V+dX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fjVnXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2MkdyNjI2Q2YyNkI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd342aF51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNiJHcjYiNjN2QjYyNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+N2ledX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjViR3I1YjVzhlI1cjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fjhqXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2AkdyNgI2E5ZiNhI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd345a151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNpJHcjaSNqOmcjaiNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+OmxedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjZyR3I2cjaDtoI2gjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fjttXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI10kdyNdI148aSNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd348bl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNjJHcjYyNkPWojZCNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+PW9edX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYiR3I2IjYz5rI2MjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fj5wXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IVskdyFbIV0/bCFdIX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34/c1tdfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35Abl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNsJHcjbCNtQWojbSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+QW9gdX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjVCR3I1QjVUJxI1UjWCR3I1gjWUdyI1kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fkJ2XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2EkdyNhI2JDciNiI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35Dd151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNkJHcjZCNlRHMjZSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+RHhedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYCR3I2AjYUV0I2EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fkV5XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1gkdyNYI1lGdSNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35GfFtWfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35Hd151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNmJHcjZiNnSHMjZyNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+SHhedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjViR3I1YjV0l0I1cjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fkl5XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI10kdyNdI15KdSNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35Kel51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNnJHcjZyNoS3YjaCNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+S3tedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWCR3I1gjWUx3I1kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fk1PW1d+dX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fk15XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI10kdyNdI15OdSNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd35Oel51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNsJHcjbCNtISB2I20jbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiEgfVtUfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hIXhedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjXSR3I10jXiEjdCNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hI3ledX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjaiR3I2ojayEkdSNrI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hJHpedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWCR3I1gjWSEldiNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hJXtedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYiR3I2IjYyEmdyNjI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hJnxedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohWyR3IVshXSEneCFdIX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hKFBbWn51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+ISh6XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1gkdyNYI1khKXYjWSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+ISl7XnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2gkdyNoI2khKncjaSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IStPX19+dX5PWCR3Wl0kd15wJHdxciR3c3ckd3d4ISt9eiF9JHcjTyNQJHcjUSNnJHcjZyNoIS1PI2gjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiEsU151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNnJHcjZyNoIS1PI2gjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiEtVltefnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hLlFedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjZiR3I2YjZyEufCNnI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hL1JedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYyR3I2MjZCEvfSNkI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hMFNedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYyR3I2MjZCExTyNkI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hMVRedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWSR3I1kjWiEyUCNaI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hMlVedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohWyR3IVshXSEzUSFdIX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hM1hbWH51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+ITRTXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IWckdyFnIWghNU8haCF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+ITVUXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IWYkdyFmIWchNlAhZyF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+ITZXW1l+dX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE3Ul51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNYJHcjWCNZITd9I1kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE4VVtjfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hOVBPc35+ITlVT3R+fiE5Wl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNkJHcjZCNlITpWI2UjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE6W151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNkJHcjZCNlITtXI2UjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE7XV51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNgJHcjYCNhITxYI2EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE8Xl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNdJHcjXSNeIT1ZI14jbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE9X151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNYJHcjWCNZIT5aI1kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE+YF51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNXJHcjVyNYIT9bI1gjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiE/Y1tnfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hQF5edX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbSR3I20jbiFBWSNuI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hQWFbZn51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IUJbXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2MkdyNjI2QhQ1cjZCNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IUNdX3V+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2EkdyNhI2IhRFsjYiNjIUldI2MjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiFEYV51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNkJHcjZCNlIUVdI2UjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiFFYl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNpJHcjaSNqIUZeI2ojbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiFGY151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNoJHcjaCNpIUdfI2kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiFHZF51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNYJHcjWCNZIUhgI1kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiFIZ1tkfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hSWJedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjViR3I1YjVyFKXiNXI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hSmNedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYCR3I2AjYSFLXyNhI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hS2RedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjaSR3I2kjaiFMYCNqI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hTGVedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjVyR3I1cjWCFNYSNYI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hTWZedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWCR3I1gjWSFOYiNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34hTmlbZX51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IyBkXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1gkdyNYI1kjIWAjWSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IyFlXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2gkdyNoI2kjI2EjaSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IyNoW2p+dX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiMkY151fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNoJHcjaCNpIyVfI2kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiMlZltsfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jJmFedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjZiR3I2YjZyMnXSNnI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jJ2JedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYyR3I2MjZCMoXiNkI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jKGNedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjaiR3I2ojayMpXyNrI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jKWRedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWCR3I1gjWSMqYCNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jKmdbYX51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IytiXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2kkdyNpI2ojLF4jaiNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IyxjYHV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1YkdyNWI1cjLWUjVyNZJHcjWSNaIy9jI1ojbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiMtal51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNbJHcjWyNdIy5mI10jbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiMubVtrfnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jL2hedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWSR3I1kjWiMwZCNaI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jMGledX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjXSR3I10jXiMxZSNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jMWpedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjViR3I1YjVyMyZiNXI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jMmtedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWCR3I1gjWSMzZyNZI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jM2xedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjZyR3I2cjaCM0aCNoI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jNG9bbX51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IzVqYHV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI1skdyNbI10jNmwjXSNjJHcjYyNkIzlrI2QjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiM2cV51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNUJHcjVCNVIzdtI1UjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiM3cl51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNoJHcjaCNpIzhuI2kjbyR3I3AjcSR3I3I7J1MkdzsnUzs9YCVyPCVsTyR3fiM4dVtifnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jOXJbaH51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IzptXnV+T1gkd1pdJHdecCR3cXIkd3N4JHd6IX0kdyNPI1AkdyNRI2ckdyNnI2gjO2kjaCNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+IztwXmB+dX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjXSR3I10jXiM8bCNeI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jPHFedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjYiR3I2IjYyM9bSNjI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jPXJedX5PWCR3Wl0kd15wJHdxciR3c3gkd3ohfSR3I08jUCR3I1EjWiR3I1ojWyM+biNbI28kdyNwI3EkdyNyOydTJHc7J1M7PWAlcjwlbE8kd34jPnVbaX51fk9YJHdaXSR3XnAkd3FyJHdzeCR3eiF9JHcjTyNQJHcjUSNvJHcjcCNxJHcjcjsnUyR3OydTOz1gJXI8JWxPJHd+Iz9wT3F+fiM/dU9yflwiLFxuICB0b2tlbml6ZXJzOiBbMF0sXG4gIHRvcFJ1bGVzOiB7XCJQcm9ncmFtXCI6WzAsMV19LFxuICB0b2tlblByZWM6IDExOFxufSlcbiJdLAogICJtYXBwaW5ncyI6ICJ1YkFBQSxJQUFBQSxHQUFBLEdBQUFDLEdBQUFELEdBQUEsb0JBQUFFLEdBQUEsb0JBQUFDLEdBQUEsd0JBQUFDLEdBQUEsWUFBQUMsS0FBQSxlQUFBQyxHQUFBTixJQUNBLElBQUFPLEdBRU8sZ0NDQ1AsSUFBSUMsR0FBYSxFQUNYQyxHQUFOLEtBQVksQ0FDUixZQUFZQyxFQUFNQyxFQUFJLENBQ2xCLEtBQUssS0FBT0QsRUFDWixLQUFLLEdBQUtDLENBQ2QsQ0FDSixFQU1NQyxFQUFOLEtBQWUsQ0FJWCxZQUFZQyxFQUFTLENBQUMsRUFBRyxDQUNyQixLQUFLLEdBQUtMLEtBQ1YsS0FBSyxRQUFVLENBQUMsQ0FBQ0ssRUFBTyxRQUN4QixLQUFLLFlBQWNBLEVBQU8sY0FBZ0IsSUFBTSxDQUM1QyxNQUFNLElBQUksTUFBTSxzREFBc0QsQ0FDMUUsR0FDQSxLQUFLLFFBQVVBLEVBQU8sU0FBVyxJQUNyQyxDQVVBLElBQUlDLEVBQU8sQ0FDUCxHQUFJLEtBQUssUUFDTCxNQUFNLElBQUksV0FBVyx3Q0FBd0MsRUFDakUsT0FBSSxPQUFPQSxHQUFTLGFBQ2hCQSxFQUFRQyxFQUFTLE1BQU1ELENBQUssR0FDeEJFLEdBQVMsQ0FDYixJQUFJQyxFQUFTSCxFQUFNRSxDQUFJLEVBQ3ZCLE9BQU9DLElBQVcsT0FBWSxLQUFPLENBQUMsS0FBTUEsQ0FBTSxDQUN0RCxDQUNKLENBQ0osRUFPQUwsRUFBUyxTQUFXLElBQUlBLEVBQVMsQ0FBRSxZQUFhTSxHQUFPQSxFQUFJLE1BQU0sR0FBRyxDQUFFLENBQUMsRUFNdkVOLEVBQVMsU0FBVyxJQUFJQSxFQUFTLENBQUUsWUFBYU0sR0FBT0EsRUFBSSxNQUFNLEdBQUcsQ0FBRSxDQUFDLEVBTXZFTixFQUFTLE1BQVEsSUFBSUEsRUFBUyxDQUFFLFlBQWFNLEdBQU9BLEVBQUksTUFBTSxHQUFH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V0FBY0EsRUFBSyxNQUduQixJQUFPQSxFQUFLLE9BQ1osR0FBTUEsRUFBSyxPQUNYLEtBQVFBLEVBQUssT0FDYixJQUFPQSxFQUFLLE9BQ1osR0FBTUEsRUFBSyxPQUNYLE1BQVNBLEVBQUssT0FDZCxLQUFRQSxFQUFLLE9BQ2IsR0FBTUEsRUFBSyxPQUNYLFFBQVdBLEVBQUssT0FDaEIsU0FBWUEsRUFBSyxPQUNqQixPQUFVQSxFQUFLLE9BQ2YsUUFBV0EsRUFBSyxPQUNoQixHQUFNQSxFQUFLLE9BQ1gsTUFBU0EsRUFBSyxPQUNkLElBQU9BLEVBQUssT0FDWixLQUFRQSxFQUFLLE9BQ2IsR0FBTUEsRUFBSyxPQUNYLFNBQVlBLEVBQUssT0FHakIsTUFBU0EsRUFBSyxTQUNkLFFBQVdBLEVBQUssUUFDaEIsT0FBVUEsRUFBSyxPQUdmLE9BQVVBLEVBQUssUUFDZixPQUFVQSxFQUFLLFFBQ2YsT0FBVUEsRUFBSyxRQUNmLE9BQVVBLEVBQUssUUFDZixTQUFZQSxFQUFLLFFBQ2pCLFNBQVlBLEVBQUssT0FDakIsQ0FBQyxDQUNULENBQ0osQ0FBQyxFQUNELEtBQU0sYUFDVixDQUFDLEVBRU0sU0FBU08sSUFBVSxDQUN0QixPQUFPLElBQUksbUJBQWdCSCxFQUFtQixDQUNsRCIsCiAgIm5hbWVzIjogWyJpbmRleF9leHBvcnRzIiwgIl9fZXhwb3J0IiwgImhpZ2hsaWdodF9kYXJrIiwgImhpZ2hsaWdodF9saWdodCIsICJsZWFuVmVyYm9zZUxhbmd1YWdlIiwgInZlcmJvc2UiLCAiX190b0NvbW1vbkpTIiwgImltcG9ydF9sYW5ndWFnZSIsICJuZXh0UHJvcElEIiwgIlJhbmdlIiwgImZyb20iLCAidG8iLCAiTm9kZVByb3AiLCAiY29uZmlnIiwgIm1hdGNoIiwgIk5vZGVUeXBlIiwgInR5cGUiLCAicmVzdWx0IiwgInN0ciIsICJ2YWx1ZSIsICJNb3VudGVkVHJlZSIsICJ0cmVlIiwgIm92ZXJsYXkiLCAicGFyc2VyIiwgImJyYWNrZXRlZCIsICJub1Byb3BzIiwgIl9Ob2RlVHlwZSIsICJuYW1lIiwgInByb3BzIiwgImlkIiwgImZsYWdzIiwgInNwZWMiLCAic3JjIiwgInByb3AiLCAiZ3JvdXAiLCAibWFwIiwgImRpcmVjdCIsICJub2RlIiwgImdyb3VwcyIsICJpIiwgImZvdW5kIiwgIk5vZGVTZXQiLCAiX05vZGVTZXQiLCAidHlwZXMiLCAibmV3VHlwZXMiLCAibmV3UHJvcHMiLCAic291cmNlIiwgImFkZCIsICJDYWNoZWROb2RlIiwgIkNhY2hlZElubmVyTm9kZSIsICJJdGVyTW9kZSIsICJUcmVlIiwgIl9UcmVlIiwgImNoaWxkcmVuIiwgInBvc2l0aW9ucyIsICJsZW5ndGgiLCAibW91bnRlZCIsICJjaCIsICJtb2RlIiwgIlRyZWVDdXJzb3IiLCAicG9zIiwgInNpZGUiLCAic2NvcGUiLCAiY3Vyc29yIiwgIlRyZWVOb2RlIiwgInJlc29sdmVOb2RlIiwgInN0YWNrSXRlcmF0b3IiLCAiZW50ZXIiLCAibGVhdmUiLCAiYW5vbiIsICJjIiwgImVudGVyZWQiLCAiYmFsYW5jZVJhbmdlIiwgImRhdGEiLCAiYnVpbGRUcmVlIiwgIkZsYXRCdWZmZXJDdXJzb3IiLCAiX0ZsYXRCdWZmZXJDdXJzb3IiLCAiYnVmZmVyIiwgImluZGV4IiwgIlRyZWVCdWZmZXIiLCAiX1RyZWVCdWZmZXIiLCAic2V0IiwgImVuZEluZGV4IiwgInN0YXJ0SW5kZXgiLCAiZGlyIiwgInBpY2siLCAiY2hlY2tTaWRlIiwgInN0YXJ0SSIsICJlbmRJIiwgImIiLCAiY29weSIsICJsZW4iLCAiaiIsICJvdmVybGF5cyIsICJfYSIsICJwYXJlbnQiLCAic2NhbiIsICJpbm5lciIsICJCYXNlTm9kZSIsICJiZWZvcmUiLCAiYWZ0ZXIiLCAiciIsICJnZXRDaGlsZHJlbiIsICJjb250ZXh0IiwgIm1hdGNoTm9kZUNvbnRleHQiLCAibGFzdCIsICJfVHJlZU5vZGUiLCAiX3RyZWUiLCAiX3BhcmVudCIsICJlIiwgIm5leHQiLCAic3RhcnQiLCAiQnVmZmVyTm9kZSIsICJCdWZmZXJDb250ZXh0IiwgImhhc0NoaWxkIiwgInJQb3MiLCAiZW50ZXJCcmFja2V0ZWQiLCAidmFsIiwgImN1ciIsICJwIiwgIl9CdWZmZXJOb2RlIiwgInBhcmVudFN0YXJ0IiwgIml0ZXJTdGFjayIsICJoZWFkcyIsICJwaWNrZWQiLCAibmV3SGVhZHMiLCAiU3RhY2tJdGVyYXRvciIsICJsYXllcnMiLCAibW91bnQiLCAicm9vdCIsICJuIiwgImQiLCAiY2hpbGQiLCAiY2FjaGUiLCAiZGVwdGgiLCAibXVzdExlYXZlIiwgIm5vZGVTZXQiLCAibWF4QnVmZmVyTGVuZ3RoIiwgInJldXNlZCIsICJtaW5SZXBlYXRUeXBlIiwgImNvbnRleHRIYXNoIiwgImxvb2tBaGVhZCIsICJ0YWtlTm9kZSIsICJtaW5Qb3MiLCAiaW5SZXBlYXQiLCAiZW5kIiwgInNpemUiLCAibG9va0FoZWFkQXRTdGFydCIsICJjb250ZXh0QXRTdGFydCIsICJzdGFydFBvcyIsICJmaW5kQnVmZmVyU2l6ZSIsICJlbmRQb3MiLCAiY29weVRvQnVmZmVyIiwgImxvY2FsQ2hpbGRyZW4iLCAibG9jYWxQb3NpdGlvbnMiLCAibG9jYWxJblJlcGVhdCIsICJsYXN0R3JvdXAiLCAibGFzdEVuZCIsICJtYWtlUmVwZWF0TGVhZiIsICJ0YWtlRmxhdE5vZGUiLCAibWFrZSIsICJtYWtlQmFsYW5jZWQiLCAibWFrZVRyZWUiLCAibm9kZXMiLCAibm9kZUNvdW50IiwgInN0b3BBdCIsICJsYXN0SSIsICJsb29rQWhlYWRQcm9wIiwgImJhc2UiLCAicGFpciIsICJtYXhTaXplIiwgImZvcmsiLCAic2tpcCIsICJtaW5TdGFydCIsICJub2RlU2l6ZSIsICJsb2NhbFNraXBwZWQiLCAibm9kZVN0YXJ0IiwgImJ1ZmZlclN0YXJ0IiwgIm5vZGVTaXplQ2FjaGUiLCAiYmFsYW5jZVR5cGUiLCAibWtUb3AiLCAibWtUcmVlIiwgInRvdGFsIiwgIm1heENoaWxkIiwgImRpdmlkZSIsICJvZmZzZXQiLCAiZ3JvdXBGcm9tIiwgImdyb3VwU3RhcnQiLCAiZ3JvdXBTaXplIiwgIm5leHRTaXplIiwgIm9ubHkiLCAiUGFyc2VyIiwgImlucHV0IiwgImZyYWdtZW50cyIsICJyYW5nZXMiLCAiU3RyaW5nSW5wdXQiLCAiciIsICJSYW5nZSIsICJwYXJzZSIsICJkb25lIiwgInN0cmluZyIsICJmcm9tIiwgInRvIiwgInN0b3BwZWRJbm5lciIsICJOb2RlUHJvcCIsICJuZXh0VGFnSUQiLCAiVGFnIiwgIl9UYWciLCAibmFtZSIsICJzZXQiLCAiYmFzZSIsICJtb2RpZmllZCIsICJtb2QiLCAibmFtZU9yUGFyZW50IiwgInBhcmVudCIsICJ0YWciLCAidCIsICJNb2RpZmllciIsICJhIiwgImIiLCAibmV4dE1vZGlmaWVySUQiLCAiX01vZGlmaWVyIiwgIm1vZHMiLCAiZXhpc3RzIiwgInNhbWVBcnJheSIsICJtIiwgImNvbmZpZ3MiLCAicG93ZXJTZXQiLCAiY29uZmlnIiwgIngiLCAiaSIsICJhcnJheSIsICJzZXRzIiwgImoiLCAiZSIsICJzdHlsZVRhZ3MiLCAic3BlYyIsICJieU5hbWUiLCAicHJvcCIsICJ0YWdzIiwgInBhcnQiLCAicGllY2VzIiwgIm1vZGUiLCAicmVzdCIsICJwb3MiLCAibmV4dCIsICJsYXN0IiwgImlubmVyIiwgInJ1bGUiLCAiUnVsZSIsICJydWxlTm9kZVByb3AiLCAiTm9kZVByb3AiLCAiY3VyIiwgInJvb3QiLCAidGFrZSIsICJjb3B5IiwgImNvbnRleHQiLCAib3RoZXIiLCAidGFnSGlnaGxpZ2h0ZXIiLCAib3B0aW9ucyIsICJtYXAiLCAic3R5bGUiLCAic2NvcGUiLCAiYWxsIiwgImNscyIsICJzdWIiLCAidGFnQ2xhc3MiLCAidCIsICJUYWciLCAiY29tbWVudCIsICJuYW1lIiwgInR5cGVOYW1lIiwgInByb3BlcnR5TmFtZSIsICJsaXRlcmFsIiwgInN0cmluZyIsICJudW1iZXIiLCAiY29udGVudCIsICJoZWFkaW5nIiwgImtleXdvcmQiLCAib3BlcmF0b3IiLCAicHVuY3R1YXRpb24iLCAiYnJhY2tldCIsICJtZXRhIiwgInRhZ3MiLCAidmFsIiwgImNsYXNzSGlnaGxpZ2h0ZXIiLCAidGFnSGlnaGxpZ2h0ZXIiLCAiU3RhY2siLCAiX1N0YWNrIiwgInAiLCAic3RhY2siLCAic3RhdGUiLCAicmVkdWNlUG9zIiwgInBvcyIsICJzY29yZSIsICJidWZmZXIiLCAiYnVmZmVyQmFzZSIsICJjdXJDb250ZXh0IiwgImxvb2tBaGVhZCIsICJwYXJlbnQiLCAiXyIsICJpIiwgImN4IiwgIlN0YWNrQ29udGV4dCIsICJzdGFydCIsICJhY3Rpb24iLCAiX2EiLCAiZGVwdGgiLCAidHlwZSIsICJwYXJzZXIiLCAibG9va2FoZWFkUmVjb3JkIiwgImRQcmVjIiwgImJhc2UiLCAic2l6ZSIsICJjb3VudCIsICJiYXNlU3RhdGVJRCIsICJ0ZXJtIiwgImVuZCIsICJtdXN0U2luayIsICJjdXIiLCAidG9wIiwgImluZGV4IiwgIm11c3RNb3ZlIiwgInNjYW4iLCAibmV4dFN0YXRlIiwgInNraXBwZWQiLCAibmV4dCIsICJuZXh0U3RhcnQiLCAibmV4dEVuZCIsICJ2YWx1ZSIsICJvZmYiLCAiaXNOb2RlIiwgInNpbSIsICJTaW11bGF0ZWRTdGFjayIsICJuZXh0U3RhdGVzIiwgImJlc3QiLCAicyIsICJ2IiwgInJlc3VsdCIsICJyZWR1Y2UiLCAidGFyZ2V0IiwgImJhY2t1cCIsICJzZWVuIiwgImV4cGxvcmUiLCAickRlcHRoIiwgImZvdW5kIiwgIm90aGVyIiwgImRpYWxlY3RJRCIsICJsYXN0IiwgImNvbnRleHQiLCAibmV3Q3giLCAidHJhY2tlciIsICJnb3RvIiwgIlN0YWNrQnVmZmVyQ3Vyc29yIiwgIl9TdGFja0J1ZmZlckN1cnNvciIsICJkZWNvZGVBcnJheSIsICJpbnB1dCIsICJUeXBlIiwgImFycmF5IiwgIm91dCIsICJzdG9wIiwgImRpZ2l0IiwgIkNhY2hlZFRva2VuIiwgIm51bGxUb2tlbiIsICJJbnB1dFN0cmVhbSIsICJyYW5nZXMiLCAib2Zmc2V0IiwgImFzc29jIiwgInJhbmdlIiwgImlkeCIsICJyZXNvbHZlZCIsICJ0b2tlbiIsICJlbmRPZmZzZXQiLCAiZW5kUG9zIiwgImNodW5rIiwgImNodW5rUG9zIiwgIm5leHRDaHVuayIsICJuIiwgImZyb20iLCAidG8iLCAiciIsICJUb2tlbkdyb3VwIiwgImRhdGEiLCAiaWQiLCAicmVhZFRva2VuIiwgIkxvY2FsVG9rZW5Hcm91cCIsICJwcmVjVGFibGUiLCAiZWxzZVRva2VuIiwgImF0RW9mIiwgIm5leHRQb3MiLCAicmVhZFRva2VuIiwgImRhdGEiLCAiaW5wdXQiLCAic3RhY2siLCAiZ3JvdXAiLCAicHJlY1RhYmxlIiwgInByZWNPZmZzZXQiLCAic3RhdGUiLCAiZ3JvdXBNYXNrIiwgImRpYWxlY3QiLCAic2NhbiIsICJhY2NFbmQiLCAiaSIsICJ0ZXJtIiwgIm92ZXJyaWRlcyIsICJuZXh0IiwgImxvdyIsICJoaWdoIiwgIm1pZCIsICJpbmRleCIsICJmcm9tIiwgInRvIiwgImZpbmRPZmZzZXQiLCAic3RhcnQiLCAidG9rZW4iLCAicHJldiIsICJ0YWJsZURhdGEiLCAidGFibGVPZmZzZXQiLCAiaVByZXYiLCAidmVyYm9zZSIsICJzdGFja0lEcyIsICJjdXRBdCIsICJ0cmVlIiwgInBvcyIsICJzaWRlIiwgImN1cnNvciIsICJJdGVyTW9kZSIsICJGcmFnbWVudEN1cnNvciIsICJmcmFnbWVudHMiLCAibm9kZVNldCIsICJmciIsICJsYXN0IiwgInRvcCIsICJUcmVlIiwgImVuZCIsICJsb29rQWhlYWQiLCAiTm9kZVByb3AiLCAiVG9rZW5DYWNoZSIsICJwYXJzZXIiLCAic3RyZWFtIiwgIl8iLCAiQ2FjaGVkVG9rZW4iLCAiYWN0aW9uSW5kZXgiLCAibWFpbiIsICJ0b2tlbml6ZXJzIiwgIm1hc2siLCAiY29udGV4dCIsICJ0b2tlbml6ZXIiLCAic3RhcnRJbmRleCIsICJwIiwgInJlc3VsdCIsICJhY3Rpb24iLCAic2V0IiwgInBhaXIiLCAiUGFyc2UiLCAicmFuZ2VzIiwgIklucHV0U3RyZWFtIiwgIlN0YWNrIiwgInN0YWNrcyIsICJuZXdTdGFja3MiLCAic3RvcHBlZCIsICJzdG9wcGVkVG9rZW5zIiwgInMiLCAidG9rIiwgImZpbmlzaGVkIiwgImZpbmRGaW5pc2hlZCIsICJtYXhSZW1haW5pbmciLCAiYSIsICJiIiwgIm91dGVyIiwgImoiLCAib3RoZXIiLCAic3BsaXQiLCAiYmFzZSIsICJzdHJpY3RDeCIsICJjeEhhc2giLCAiY2FjaGVkIiwgIm1hdGNoIiwgImlubmVyIiwgImRlZmF1bHRSZWR1Y2UiLCAiYWN0aW9ucyIsICJsb2NhbFN0YWNrIiwgInB1c2hTdGFja0RlZHVwIiwgInRva2VucyIsICJyZXN0YXJ0ZWQiLCAidG9rZW5FbmQiLCAiZm9yY2UiLCAiZm9yY2VCYXNlIiwgImluc2VydCIsICJTdGFja0J1ZmZlckN1cnNvciIsICJpZCIsICJEaWFsZWN0IiwgInNvdXJjZSIsICJmbGFncyIsICJkaXNhYmxlZCIsICJMUlBhcnNlciIsICJfTFJQYXJzZXIiLCAiUGFyc2VyIiwgInNwZWMiLCAibm9kZU5hbWVzIiwgImkiLCAidG9wVGVybXMiLCAiciIsICJub2RlUHJvcHMiLCAic2V0UHJvcCIsICJub2RlSUQiLCAicHJvcCIsICJ2YWx1ZSIsICJwcm9wU3BlYyIsICJOb2RlUHJvcCIsICJuZXh0IiwgImoiLCAiTm9kZVNldCIsICJuYW1lIiwgIk5vZGVUeXBlIiwgInRva2VuQXJyYXkiLCAiZGVjb2RlQXJyYXkiLCAiZ2V0U3BlY2lhbGl6ZXIiLCAiVG9rZW5Hcm91cCIsICJpbnB1dCIsICJmcmFnbWVudHMiLCAicmFuZ2VzIiwgInBhcnNlIiwgIlBhcnNlIiwgInciLCAic3RhdGUiLCAidGVybSIsICJsb29zZSIsICJ0YWJsZSIsICJwb3MiLCAiZ3JvdXBUYWciLCAibGFzdCIsICJ0YXJnZXQiLCAiZW5kIiwgInRlcm1pbmFsIiwgImRhdGEiLCAic2V0IiwgInBhaXIiLCAic2xvdCIsICJmbGFnIiwgImFjdGlvbiIsICJhIiwgImRlZmx0IiwgInJlc3VsdCIsICJ2IiwgImNvbmZpZyIsICJjb3B5IiwgImluZm8iLCAidCIsICJmb3VuZCIsICJzIiwgInByZWMiLCAiZGlhbGVjdCIsICJ2YWx1ZXMiLCAiZmxhZ3MiLCAicGFydCIsICJpZCIsICJkaXNhYmxlZCIsICJEaWFsZWN0IiwgIm9mZiIsICJmaW5kRmluaXNoZWQiLCAic3RhY2tzIiwgImJlc3QiLCAic3RhY2siLCAic3RvcHBlZCIsICJtYXNrIiwgInBhcnNlciIsICJMUlBhcnNlciIsICJ0YWdzIiwgIlRhZyIsICJoaWdobGlnaHRfZGFyayIsICJoaWdobGlnaHRfbGlnaHQiLCAibGVhblZlcmJvc2VMYW5ndWFnZSIsICJwYXJzZXIiLCAic3R5bGVUYWdzIiwgInZlcmJvc2UiXQp9Cg==
